{"version":3,"file":"5947.86af0d8f994a949d8ed8.js?v=86af0d8f994a949d8ed8","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ANTBXLJU.mjs","webpack://@jupyterlab/application-top/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-NRVI72HA.mjs","webpack://@jupyterlab/application-top/./node_modules/mermaid/dist/chunks/mermaid.core/diagram-4IRLE6MV.mjs"],"sourcesContent":["import {\n  __name\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n__name(populateCommonDb, \"populateCommonDb\");\n\nexport {\n  populateCommonDb\n};\n","import {\n  __name,\n  configureSvgSize,\n  log\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/rendering-util/setupViewPortForSVG.ts\nvar setupViewPortForSVG = /* @__PURE__ */ __name((svg, padding, cssDiagram, useMaxWidth) => {\n  svg.attr(\"class\", cssDiagram);\n  const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);\n  configureSvgSize(svg, height, width, useMaxWidth);\n  const viewBox = createViewBox(x, y, width, height, padding);\n  svg.attr(\"viewBox\", viewBox);\n  log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);\n}, \"setupViewPortForSVG\");\nvar calculateDimensionsWithPadding = /* @__PURE__ */ __name((svg, padding) => {\n  const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };\n  return {\n    width: bounds.width + padding * 2,\n    height: bounds.height + padding * 2,\n    x: bounds.x,\n    y: bounds.y\n  };\n}, \"calculateDimensionsWithPadding\");\nvar createViewBox = /* @__PURE__ */ __name((x, y, width, height, padding) => {\n  return `${x - padding} ${y - padding} ${width} ${height}`;\n}, \"createViewBox\");\n\nexport {\n  setupViewPortForSVG\n};\n","import {\n  setupViewPortForSVG\n} from \"./chunk-NRVI72HA.mjs\";\nimport {\n  isLabelStyle,\n  styles2String\n} from \"./chunk-7RNWAQOT.mjs\";\nimport {\n  populateCommonDb\n} from \"./chunk-ANTBXLJU.mjs\";\nimport {\n  cleanAndMerge\n} from \"./chunk-U37J5Y7L.mjs\";\nimport {\n  selectSvgElement\n} from \"./chunk-T57MJCP2.mjs\";\nimport {\n  __name,\n  clear,\n  configureSvgSize,\n  defaultConfig_default,\n  getAccDescription,\n  getAccTitle,\n  getConfig,\n  getDiagramTitle,\n  log,\n  setAccDescription,\n  setAccTitle,\n  setDiagramTitle\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/diagrams/treemap/db.ts\nvar TreeMapDB = class {\n  constructor() {\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.setAccTitle = setAccTitle;\n    this.getAccTitle = getAccTitle;\n    this.setDiagramTitle = setDiagramTitle;\n    this.getDiagramTitle = getDiagramTitle;\n    this.getAccDescription = getAccDescription;\n    this.setAccDescription = setAccDescription;\n  }\n  static {\n    __name(this, \"TreeMapDB\");\n  }\n  getNodes() {\n    return this.nodes;\n  }\n  getConfig() {\n    const defaultConfig = defaultConfig_default;\n    const userConfig = getConfig();\n    return cleanAndMerge({\n      ...defaultConfig.treemap,\n      ...userConfig.treemap ?? {}\n    });\n  }\n  addNode(node, level) {\n    this.nodes.push(node);\n    this.levels.set(node, level);\n    if (level === 0) {\n      this.outerNodes.push(node);\n      this.root ??= node;\n    }\n  }\n  getRoot() {\n    return { name: \"\", children: this.outerNodes };\n  }\n  addClass(id, _style) {\n    const styleClass = this.classes.get(id) ?? { id, styles: [], textStyles: [] };\n    const styles = _style.replace(/\\\\,/g, \"\\xA7\\xA7\\xA7\").replace(/,/g, \";\").replace(/§§§/g, \",\").split(\";\");\n    if (styles) {\n      styles.forEach((s) => {\n        if (isLabelStyle(s)) {\n          if (styleClass?.textStyles) {\n            styleClass.textStyles.push(s);\n          } else {\n            styleClass.textStyles = [s];\n          }\n        }\n        if (styleClass?.styles) {\n          styleClass.styles.push(s);\n        } else {\n          styleClass.styles = [s];\n        }\n      });\n    }\n    this.classes.set(id, styleClass);\n  }\n  getClasses() {\n    return this.classes;\n  }\n  getStylesForClass(classSelector) {\n    return this.classes.get(classSelector)?.styles ?? [];\n  }\n  clear() {\n    clear();\n    this.nodes = [];\n    this.levels = /* @__PURE__ */ new Map();\n    this.outerNodes = [];\n    this.classes = /* @__PURE__ */ new Map();\n    this.root = void 0;\n  }\n};\n\n// src/diagrams/treemap/parser.ts\nimport { parse } from \"@mermaid-js/parser\";\n\n// src/diagrams/treemap/utils.ts\nfunction buildHierarchy(items) {\n  if (!items.length) {\n    return [];\n  }\n  const root = [];\n  const stack = [];\n  items.forEach((item) => {\n    const node = {\n      name: item.name,\n      children: item.type === \"Leaf\" ? void 0 : []\n    };\n    node.classSelector = item?.classSelector;\n    if (item?.cssCompiledStyles) {\n      node.cssCompiledStyles = [item.cssCompiledStyles];\n    }\n    if (item.type === \"Leaf\" && item.value !== void 0) {\n      node.value = item.value;\n    }\n    while (stack.length > 0 && stack[stack.length - 1].level >= item.level) {\n      stack.pop();\n    }\n    if (stack.length === 0) {\n      root.push(node);\n    } else {\n      const parent = stack[stack.length - 1].node;\n      if (parent.children) {\n        parent.children.push(node);\n      } else {\n        parent.children = [node];\n      }\n    }\n    if (item.type !== \"Leaf\") {\n      stack.push({ node, level: item.level });\n    }\n  });\n  return root;\n}\n__name(buildHierarchy, \"buildHierarchy\");\n\n// src/diagrams/treemap/parser.ts\nvar populate = /* @__PURE__ */ __name((ast, db) => {\n  populateCommonDb(ast, db);\n  const items = [];\n  for (const row of ast.TreemapRows ?? []) {\n    if (row.$type === \"ClassDefStatement\") {\n      db.addClass(row.className ?? \"\", row.styleText ?? \"\");\n    }\n  }\n  for (const row of ast.TreemapRows ?? []) {\n    const item = row.item;\n    if (!item) {\n      continue;\n    }\n    const level = row.indent ? parseInt(row.indent) : 0;\n    const name = getItemName(item);\n    const styles = item.classSelector ? db.getStylesForClass(item.classSelector) : [];\n    const cssCompiledStyles = styles.length > 0 ? styles.join(\";\") : void 0;\n    const itemData = {\n      level,\n      name,\n      type: item.$type,\n      value: item.value,\n      classSelector: item.classSelector,\n      cssCompiledStyles\n    };\n    items.push(itemData);\n  }\n  const hierarchyNodes = buildHierarchy(items);\n  const addNodesRecursively = /* @__PURE__ */ __name((nodes, level) => {\n    for (const node of nodes) {\n      db.addNode(node, level);\n      if (node.children && node.children.length > 0) {\n        addNodesRecursively(node.children, level + 1);\n      }\n    }\n  }, \"addNodesRecursively\");\n  addNodesRecursively(hierarchyNodes, 0);\n}, \"populate\");\nvar getItemName = /* @__PURE__ */ __name((item) => {\n  return item.name ? String(item.name) : \"\";\n}, \"getItemName\");\nvar parser = {\n  // @ts-expect-error - TreeMapDB is not assignable to DiagramDB\n  parser: { yy: void 0 },\n  parse: /* @__PURE__ */ __name(async (text) => {\n    try {\n      const parseFunc = parse;\n      const ast = await parseFunc(\"treemap\", text);\n      log.debug(\"Treemap AST:\", ast);\n      const db = parser.parser?.yy;\n      if (!(db instanceof TreeMapDB)) {\n        throw new Error(\n          \"parser.parser?.yy was not a TreemapDB. This is due to a bug within Mermaid, please report this issue at https://github.com/mermaid-js/mermaid/issues.\"\n        );\n      }\n      populate(ast, db);\n    } catch (error) {\n      log.error(\"Error parsing treemap:\", error);\n      throw error;\n    }\n  }, \"parse\")\n};\n\n// src/diagrams/treemap/renderer.ts\nimport { scaleOrdinal, treemap, hierarchy, format, select } from \"d3\";\nvar DEFAULT_INNER_PADDING = 10;\nvar SECTION_INNER_PADDING = 10;\nvar SECTION_HEADER_HEIGHT = 25;\nvar draw = /* @__PURE__ */ __name((_text, id, _version, diagram2) => {\n  const treemapDb = diagram2.db;\n  const config = treemapDb.getConfig();\n  const treemapInnerPadding = config.padding ?? DEFAULT_INNER_PADDING;\n  const title = treemapDb.getDiagramTitle();\n  const root = treemapDb.getRoot();\n  const { themeVariables } = getConfig();\n  if (!root) {\n    return;\n  }\n  const titleHeight = title ? 30 : 0;\n  const svg = selectSvgElement(id);\n  const width = config.nodeWidth ? config.nodeWidth * SECTION_INNER_PADDING : 960;\n  const height = config.nodeHeight ? config.nodeHeight * SECTION_INNER_PADDING : 500;\n  const svgWidth = width;\n  const svgHeight = height + titleHeight;\n  svg.attr(\"viewBox\", `0 0 ${svgWidth} ${svgHeight}`);\n  configureSvgSize(svg, svgHeight, svgWidth, config.useMaxWidth);\n  let valueFormat;\n  try {\n    const formatStr = config.valueFormat || \",\";\n    if (formatStr === \"$0,0\") {\n      valueFormat = /* @__PURE__ */ __name((value) => \"$\" + format(\",\")(value), \"valueFormat\");\n    } else if (formatStr.startsWith(\"$\") && formatStr.includes(\",\")) {\n      const precision = /\\.\\d+/.exec(formatStr);\n      const precisionStr = precision ? precision[0] : \"\";\n      valueFormat = /* @__PURE__ */ __name((value) => \"$\" + format(\",\" + precisionStr)(value), \"valueFormat\");\n    } else if (formatStr.startsWith(\"$\")) {\n      const restOfFormat = formatStr.substring(1);\n      valueFormat = /* @__PURE__ */ __name((value) => \"$\" + format(restOfFormat || \"\")(value), \"valueFormat\");\n    } else {\n      valueFormat = format(formatStr);\n    }\n  } catch (error) {\n    log.error(\"Error creating format function:\", error);\n    valueFormat = format(\",\");\n  }\n  const colorScale = scaleOrdinal().range([\n    \"transparent\",\n    themeVariables.cScale0,\n    themeVariables.cScale1,\n    themeVariables.cScale2,\n    themeVariables.cScale3,\n    themeVariables.cScale4,\n    themeVariables.cScale5,\n    themeVariables.cScale6,\n    themeVariables.cScale7,\n    themeVariables.cScale8,\n    themeVariables.cScale9,\n    themeVariables.cScale10,\n    themeVariables.cScale11\n  ]);\n  const colorScalePeer = scaleOrdinal().range([\n    \"transparent\",\n    themeVariables.cScalePeer0,\n    themeVariables.cScalePeer1,\n    themeVariables.cScalePeer2,\n    themeVariables.cScalePeer3,\n    themeVariables.cScalePeer4,\n    themeVariables.cScalePeer5,\n    themeVariables.cScalePeer6,\n    themeVariables.cScalePeer7,\n    themeVariables.cScalePeer8,\n    themeVariables.cScalePeer9,\n    themeVariables.cScalePeer10,\n    themeVariables.cScalePeer11\n  ]);\n  const colorScaleLabel = scaleOrdinal().range([\n    themeVariables.cScaleLabel0,\n    themeVariables.cScaleLabel1,\n    themeVariables.cScaleLabel2,\n    themeVariables.cScaleLabel3,\n    themeVariables.cScaleLabel4,\n    themeVariables.cScaleLabel5,\n    themeVariables.cScaleLabel6,\n    themeVariables.cScaleLabel7,\n    themeVariables.cScaleLabel8,\n    themeVariables.cScaleLabel9,\n    themeVariables.cScaleLabel10,\n    themeVariables.cScaleLabel11\n  ]);\n  if (title) {\n    svg.append(\"text\").attr(\"x\", svgWidth / 2).attr(\"y\", titleHeight / 2).attr(\"class\", \"treemapTitle\").attr(\"text-anchor\", \"middle\").attr(\"dominant-baseline\", \"middle\").text(title);\n  }\n  const g = svg.append(\"g\").attr(\"transform\", `translate(0, ${titleHeight})`).attr(\"class\", \"treemapContainer\");\n  const hierarchyRoot = hierarchy(root).sum((d) => d.value ?? 0).sort((a, b) => (b.value ?? 0) - (a.value ?? 0));\n  const treemapLayout = treemap().size([width, height]).paddingTop(\n    (d) => d.children && d.children.length > 0 ? SECTION_HEADER_HEIGHT + SECTION_INNER_PADDING : 0\n  ).paddingInner(treemapInnerPadding).paddingLeft((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingRight((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).paddingBottom((d) => d.children && d.children.length > 0 ? SECTION_INNER_PADDING : 0).round(true);\n  const treemapData = treemapLayout(hierarchyRoot);\n  const branchNodes = treemapData.descendants().filter((d) => d.children && d.children.length > 0);\n  const sections = g.selectAll(\".treemapSection\").data(branchNodes).enter().append(\"g\").attr(\"class\", \"treemapSection\").attr(\"transform\", (d) => `translate(${d.x0},${d.y0})`);\n  sections.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", SECTION_HEADER_HEIGHT).attr(\"class\", \"treemapSectionHeader\").attr(\"fill\", \"none\").attr(\"fill-opacity\", 0.6).attr(\"stroke-width\", 0.6).attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    return \"\";\n  });\n  sections.append(\"clipPath\").attr(\"id\", (_d, i) => `clip-section-${id}-${i}`).append(\"rect\").attr(\"width\", (d) => Math.max(0, d.x1 - d.x0 - 12)).attr(\"height\", SECTION_HEADER_HEIGHT);\n  sections.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", (d) => d.y1 - d.y0).attr(\"class\", (_d, i) => {\n    return `treemapSection section${i}`;\n  }).attr(\"fill\", (d) => colorScale(d.data.name)).attr(\"fill-opacity\", 0.6).attr(\"stroke\", (d) => colorScalePeer(d.data.name)).attr(\"stroke-width\", 2).attr(\"stroke-opacity\", 0.4).attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles + \";\" + styles.borderStyles.join(\";\");\n  });\n  sections.append(\"text\").attr(\"class\", \"treemapSectionLabel\").attr(\"x\", 6).attr(\"y\", SECTION_HEADER_HEIGHT / 2).attr(\"dominant-baseline\", \"middle\").text((d) => d.depth === 0 ? \"\" : d.data.name).attr(\"font-weight\", \"bold\").attr(\"style\", (d) => {\n    if (d.depth === 0) {\n      return \"display: none;\";\n    }\n    const labelStyles = \"dominant-baseline: middle; font-size: 12px; fill:\" + colorScaleLabel(d.data.name) + \"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";\n    const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n  }).each(function(d) {\n    if (d.depth === 0) {\n      return;\n    }\n    const self = select(this);\n    const originalText = d.data.name;\n    self.text(originalText);\n    const totalHeaderWidth = d.x1 - d.x0;\n    const labelXPosition = 6;\n    let spaceForTextContent;\n    if (config.showValues !== false && d.value) {\n      const valueEndsAtXRelative = totalHeaderWidth - 10;\n      const estimatedValueTextActualWidth = 30;\n      const gapBetweenLabelAndValue = 10;\n      const labelMustEndBeforeX = valueEndsAtXRelative - estimatedValueTextActualWidth - gapBetweenLabelAndValue;\n      spaceForTextContent = labelMustEndBeforeX - labelXPosition;\n    } else {\n      const labelOwnRightPadding = 6;\n      spaceForTextContent = totalHeaderWidth - labelXPosition - labelOwnRightPadding;\n    }\n    const minimumWidthToDisplay = 15;\n    const actualAvailableWidth = Math.max(minimumWidthToDisplay, spaceForTextContent);\n    const textNode = self.node();\n    const currentTextContentLength = textNode.getComputedTextLength();\n    if (currentTextContentLength > actualAvailableWidth) {\n      const ellipsis = \"...\";\n      let currentTruncatedText = originalText;\n      while (currentTruncatedText.length > 0) {\n        currentTruncatedText = originalText.substring(0, currentTruncatedText.length - 1);\n        if (currentTruncatedText.length === 0) {\n          self.text(ellipsis);\n          if (textNode.getComputedTextLength() > actualAvailableWidth) {\n            self.text(\"\");\n          }\n          break;\n        }\n        self.text(currentTruncatedText + ellipsis);\n        if (textNode.getComputedTextLength() <= actualAvailableWidth) {\n          break;\n        }\n      }\n    }\n  });\n  if (config.showValues !== false) {\n    sections.append(\"text\").attr(\"class\", \"treemapSectionValue\").attr(\"x\", (d) => d.x1 - d.x0 - 10).attr(\"y\", SECTION_HEADER_HEIGHT / 2).attr(\"text-anchor\", \"end\").attr(\"dominant-baseline\", \"middle\").text((d) => d.value ? valueFormat(d.value) : \"\").attr(\"font-style\", \"italic\").attr(\"style\", (d) => {\n      if (d.depth === 0) {\n        return \"display: none;\";\n      }\n      const labelStyles = \"text-anchor: end; dominant-baseline: middle; font-size: 10px; fill:\" + colorScaleLabel(d.data.name) + \"; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\";\n      const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n    });\n  }\n  const leafNodes = treemapData.leaves();\n  const cell = g.selectAll(\".treemapLeafGroup\").data(leafNodes).enter().append(\"g\").attr(\"class\", (d, i) => {\n    return `treemapNode treemapLeafGroup leaf${i}${d.data.classSelector ? ` ${d.data.classSelector}` : \"\"}x`;\n  }).attr(\"transform\", (d) => `translate(${d.x0},${d.y0})`);\n  cell.append(\"rect\").attr(\"width\", (d) => d.x1 - d.x0).attr(\"height\", (d) => d.y1 - d.y0).attr(\"class\", \"treemapLeaf\").attr(\"fill\", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr(\"style\", (d) => {\n    const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return styles.nodeStyles;\n  }).attr(\"fill-opacity\", 0.3).attr(\"stroke\", (d) => {\n    return d.parent ? colorScale(d.parent.data.name) : colorScale(d.data.name);\n  }).attr(\"stroke-width\", 3);\n  cell.append(\"clipPath\").attr(\"id\", (_d, i) => `clip-${id}-${i}`).append(\"rect\").attr(\"width\", (d) => Math.max(0, d.x1 - d.x0 - 4)).attr(\"height\", (d) => Math.max(0, d.y1 - d.y0 - 4));\n  const leafLabels = cell.append(\"text\").attr(\"class\", \"treemapLabel\").attr(\"x\", (d) => (d.x1 - d.x0) / 2).attr(\"y\", (d) => (d.y1 - d.y0) / 2).attr(\"style\", (d) => {\n    const labelStyles = \"text-anchor: middle; dominant-baseline: middle; font-size: 38px;fill:\" + colorScaleLabel(d.data.name) + \";\";\n    const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n    return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n  }).attr(\"clip-path\", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.data.name);\n  leafLabels.each(function(d) {\n    const self = select(this);\n    const nodeWidth = d.x1 - d.x0;\n    const nodeHeight = d.y1 - d.y0;\n    const textNode = self.node();\n    const padding = 4;\n    const availableWidth = nodeWidth - 2 * padding;\n    const availableHeight = nodeHeight - 2 * padding;\n    if (availableWidth < 10 || availableHeight < 10) {\n      self.style(\"display\", \"none\");\n      return;\n    }\n    let currentLabelFontSize = parseInt(self.style(\"font-size\"), 10);\n    const minLabelFontSize = 8;\n    const originalValueRelFontSize = 28;\n    const valueScaleFactor = 0.6;\n    const minValueFontSize = 6;\n    const spacingBetweenLabelAndValue = 2;\n    while (textNode.getComputedTextLength() > availableWidth && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      self.style(\"font-size\", `${currentLabelFontSize}px`);\n    }\n    let prospectiveValueFontSize = Math.max(\n      minValueFontSize,\n      Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n    );\n    let combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n    while (combinedHeight > availableHeight && currentLabelFontSize > minLabelFontSize) {\n      currentLabelFontSize--;\n      prospectiveValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueRelFontSize, Math.round(currentLabelFontSize * valueScaleFactor))\n      );\n      if (prospectiveValueFontSize < minValueFontSize && currentLabelFontSize === minLabelFontSize) {\n        break;\n      }\n      self.style(\"font-size\", `${currentLabelFontSize}px`);\n      combinedHeight = currentLabelFontSize + spacingBetweenLabelAndValue + prospectiveValueFontSize;\n      if (prospectiveValueFontSize <= minValueFontSize && combinedHeight > availableHeight) {\n      }\n    }\n    self.style(\"font-size\", `${currentLabelFontSize}px`);\n    if (textNode.getComputedTextLength() > availableWidth || currentLabelFontSize < minLabelFontSize || availableHeight < currentLabelFontSize) {\n      self.style(\"display\", \"none\");\n    }\n  });\n  if (config.showValues !== false) {\n    const leafValues = cell.append(\"text\").attr(\"class\", \"treemapValue\").attr(\"x\", (d) => (d.x1 - d.x0) / 2).attr(\"y\", function(d) {\n      return (d.y1 - d.y0) / 2;\n    }).attr(\"style\", (d) => {\n      const labelStyles = \"text-anchor: middle; dominant-baseline: hanging; font-size: 28px;fill:\" + colorScaleLabel(d.data.name) + \";\";\n      const styles = styles2String({ cssCompiledStyles: d.data.cssCompiledStyles });\n      return labelStyles + styles.labelStyles.replace(\"color:\", \"fill:\");\n    }).attr(\"clip-path\", (_d, i) => `url(#clip-${id}-${i})`).text((d) => d.value ? valueFormat(d.value) : \"\");\n    leafValues.each(function(d) {\n      const valueTextElement = select(this);\n      const parentCellNode = this.parentNode;\n      if (!parentCellNode) {\n        valueTextElement.style(\"display\", \"none\");\n        return;\n      }\n      const labelElement = select(parentCellNode).select(\".treemapLabel\");\n      if (labelElement.empty() || labelElement.style(\"display\") === \"none\") {\n        valueTextElement.style(\"display\", \"none\");\n        return;\n      }\n      const finalLabelFontSize = parseFloat(labelElement.style(\"font-size\"));\n      const originalValueFontSize = 28;\n      const valueScaleFactor = 0.6;\n      const minValueFontSize = 6;\n      const spacingBetweenLabelAndValue = 2;\n      const actualValueFontSize = Math.max(\n        minValueFontSize,\n        Math.min(originalValueFontSize, Math.round(finalLabelFontSize * valueScaleFactor))\n      );\n      valueTextElement.style(\"font-size\", `${actualValueFontSize}px`);\n      const labelCenterY = (d.y1 - d.y0) / 2;\n      const valueTopActualY = labelCenterY + finalLabelFontSize / 2 + spacingBetweenLabelAndValue;\n      valueTextElement.attr(\"y\", valueTopActualY);\n      const nodeWidth = d.x1 - d.x0;\n      const nodeTotalHeight = d.y1 - d.y0;\n      const cellBottomPadding = 4;\n      const maxValueBottomY = nodeTotalHeight - cellBottomPadding;\n      const availableWidthForValue = nodeWidth - 2 * 4;\n      if (valueTextElement.node().getComputedTextLength() > availableWidthForValue || valueTopActualY + actualValueFontSize > maxValueBottomY || actualValueFontSize < minValueFontSize) {\n        valueTextElement.style(\"display\", \"none\");\n      } else {\n        valueTextElement.style(\"display\", null);\n      }\n    });\n  }\n  const diagramPadding = config.diagramPadding ?? 8;\n  setupViewPortForSVG(svg, diagramPadding, \"flowchart\", config?.useMaxWidth || false);\n}, \"draw\");\nvar getClasses = /* @__PURE__ */ __name(function(_text, diagramObj) {\n  return diagramObj.db.getClasses();\n}, \"getClasses\");\nvar renderer = { draw, getClasses };\n\n// src/diagrams/treemap/styles.ts\nvar defaultTreemapStyleOptions = {\n  sectionStrokeColor: \"black\",\n  sectionStrokeWidth: \"1\",\n  sectionFillColor: \"#efefef\",\n  leafStrokeColor: \"black\",\n  leafStrokeWidth: \"1\",\n  leafFillColor: \"#efefef\",\n  labelColor: \"black\",\n  labelFontSize: \"12px\",\n  valueFontSize: \"10px\",\n  valueColor: \"black\",\n  titleColor: \"black\",\n  titleFontSize: \"14px\"\n};\nvar getStyles = /* @__PURE__ */ __name(({\n  treemap: treemap2\n} = {}) => {\n  const options = cleanAndMerge(defaultTreemapStyleOptions, treemap2);\n  return `\n  .treemapNode.section {\n    stroke: ${options.sectionStrokeColor};\n    stroke-width: ${options.sectionStrokeWidth};\n    fill: ${options.sectionFillColor};\n  }\n  .treemapNode.leaf {\n    stroke: ${options.leafStrokeColor};\n    stroke-width: ${options.leafStrokeWidth};\n    fill: ${options.leafFillColor};\n  }\n  .treemapLabel {\n    fill: ${options.labelColor};\n    font-size: ${options.labelFontSize};\n  }\n  .treemapValue {\n    fill: ${options.valueColor};\n    font-size: ${options.valueFontSize};\n  }\n  .treemapTitle {\n    fill: ${options.titleColor};\n    font-size: ${options.titleFontSize};\n  }\n  `;\n}, \"getStyles\");\nvar styles_default = getStyles;\n\n// src/diagrams/treemap/diagram.ts\nvar diagram = {\n  parser,\n  get db() {\n    return new TreeMapDB();\n  },\n  renderer,\n  styles: styles_default\n};\nexport {\n  diagram\n};\n"],"names":["populateCommonDb","ast","db","accDescr","setAccDescription","accTitle","setAccTitle","title","setDiagramTitle","setupViewPortForSVG","svg","padding","cssDiagram","useMaxWidth","attr","width","height","x","y","calculateDimensionsWithPadding","viewBox","createViewBox","debug","bounds","node","getBBox","TreeMapDB","constructor","this","nodes","levels","Map","outerNodes","classes","getAccTitle","getDiagramTitle","getAccDescription","getNodes","getConfig","defaultConfig","userConfig","treemap","addNode","level","push","set","root","getRoot","name","children","addClass","id","_style","styleClass","get","styles","textStyles","replace","split","forEach","s","getClasses","getStylesForClass","classSelector","clear","buildHierarchy","items","length","stack","item","type","cssCompiledStyles","value","pop","parent","populate","row","TreemapRows","$type","className","styleText","indent","parseInt","getItemName","join","itemData","hierarchyNodes","addNodesRecursively","String","parser","yy","parse","async","text","parseFunc","Error","error","DEFAULT_INNER_PADDING","SECTION_INNER_PADDING","SECTION_HEADER_HEIGHT","draw","_text","_version","diagram2","treemapDb","config","treemapInnerPadding","themeVariables","titleHeight","nodeWidth","nodeHeight","svgWidth","svgHeight","valueFormat","formatStr","startsWith","includes","precision","exec","precisionStr","restOfFormat","substring","colorScale","range","cScale0","cScale1","cScale2","cScale3","cScale4","cScale5","cScale6","cScale7","cScale8","cScale9","cScale10","cScale11","colorScalePeer","cScalePeer0","cScalePeer1","cScalePeer2","cScalePeer3","cScalePeer4","cScalePeer5","cScalePeer6","cScalePeer7","cScalePeer8","cScalePeer9","cScalePeer10","cScalePeer11","colorScaleLabel","cScaleLabel0","cScaleLabel1","cScaleLabel2","cScaleLabel3","cScaleLabel4","cScaleLabel5","cScaleLabel6","cScaleLabel7","cScaleLabel8","cScaleLabel9","cScaleLabel10","cScaleLabel11","append","g","hierarchyRoot","sum","d","sort","a","b","treemapLayout","size","paddingTop","paddingInner","paddingLeft","paddingRight","paddingBottom","round","treemapData","branchNodes","descendants","filter","sections","selectAll","data","enter","x0","y0","x1","depth","_d","i","Math","max","y1","nodeStyles","borderStyles","labelStyles","each","self","originalText","totalHeaderWidth","labelXPosition","spaceForTextContent","showValues","valueEndsAtXRelative","estimatedValueTextActualWidth","gapBetweenLabelAndValue","labelMustEndBeforeX","labelOwnRightPadding","minimumWidthToDisplay","actualAvailableWidth","textNode","currentTextContentLength","getComputedTextLength","ellipsis","currentTruncatedText","leafNodes","leaves","cell","leafLabels","availableWidth","availableHeight","style","currentLabelFontSize","minLabelFontSize","originalValueRelFontSize","valueScaleFactor","minValueFontSize","spacingBetweenLabelAndValue","prospectiveValueFontSize","min","combinedHeight","leafValues","valueTextElement","parentCellNode","parentNode","labelElement","select","empty","finalLabelFontSize","parseFloat","originalValueFontSize","actualValueFontSize","labelCenterY","valueTopActualY","nodeTotalHeight","cellBottomPadding","maxValueBottomY","availableWidthForValue","diagramPadding","diagramObj","renderer","defaultTreemapStyleOptions","sectionStrokeColor","sectionStrokeWidth","sectionFillColor","leafStrokeColor","leafStrokeWidth","leafFillColor","labelColor","labelFontSize","valueFontSize","valueColor","titleColor","titleFontSize","getStyles","treemap2","options","styles_default","diagram"],"sourceRoot":""}
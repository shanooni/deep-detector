{"version":3,"file":"4915.9f8b9101092280f0660f.js?v=9f8b9101092280f0660f","mappings":"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","sources":["webpack://@jupyterlab/application-top/./node_modules/cose-base/cose-base.js","webpack://@jupyterlab/application-top/./node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js","webpack://@jupyterlab/application-top/./node_modules/layout-base/layout-base.js","webpack://@jupyterlab/application-top/./node_modules/mermaid/dist/chunks/mermaid.core/mindmap-definition-LNHGMQRG.mjs"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"layout-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"layout-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"coseBase\"] = factory(require(\"layout-base\"));\n\telse\n\t\troot[\"coseBase\"] = factory(root[\"layoutBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutConstants = __webpack_require__(0).FDLayoutConstants;\n\nfunction CoSEConstants() {}\n\n//CoSEConstants inherits static props in FDLayoutConstants\nfor (var prop in FDLayoutConstants) {\n  CoSEConstants[prop] = FDLayoutConstants[prop];\n}\n\nCoSEConstants.DEFAULT_USE_MULTI_LEVEL_SCALING = false;\nCoSEConstants.DEFAULT_RADIAL_SEPARATION = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\nCoSEConstants.DEFAULT_COMPONENT_SEPERATION = 60;\nCoSEConstants.TILE = true;\nCoSEConstants.TILING_PADDING_VERTICAL = 10;\nCoSEConstants.TILING_PADDING_HORIZONTAL = 10;\nCoSEConstants.TREE_REDUCTION_ON_INCREMENTAL = false; // make this true when cose is used incrementally as a part of other non-incremental layout\n\nmodule.exports = CoSEConstants;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutEdge = __webpack_require__(0).FDLayoutEdge;\n\nfunction CoSEEdge(source, target, vEdge) {\n  FDLayoutEdge.call(this, source, target, vEdge);\n}\n\nCoSEEdge.prototype = Object.create(FDLayoutEdge.prototype);\nfor (var prop in FDLayoutEdge) {\n  CoSEEdge[prop] = FDLayoutEdge[prop];\n}\n\nmodule.exports = CoSEEdge;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraph = __webpack_require__(0).LGraph;\n\nfunction CoSEGraph(parent, graphMgr, vGraph) {\n  LGraph.call(this, parent, graphMgr, vGraph);\n}\n\nCoSEGraph.prototype = Object.create(LGraph.prototype);\nfor (var prop in LGraph) {\n  CoSEGraph[prop] = LGraph[prop];\n}\n\nmodule.exports = CoSEGraph;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphManager = __webpack_require__(0).LGraphManager;\n\nfunction CoSEGraphManager(layout) {\n  LGraphManager.call(this, layout);\n}\n\nCoSEGraphManager.prototype = Object.create(LGraphManager.prototype);\nfor (var prop in LGraphManager) {\n  CoSEGraphManager[prop] = LGraphManager[prop];\n}\n\nmodule.exports = CoSEGraphManager;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutNode = __webpack_require__(0).FDLayoutNode;\nvar IMath = __webpack_require__(0).IMath;\n\nfunction CoSENode(gm, loc, size, vNode) {\n  FDLayoutNode.call(this, gm, loc, size, vNode);\n}\n\nCoSENode.prototype = Object.create(FDLayoutNode.prototype);\nfor (var prop in FDLayoutNode) {\n  CoSENode[prop] = FDLayoutNode[prop];\n}\n\nCoSENode.prototype.move = function () {\n  var layout = this.graphManager.getLayout();\n  this.displacementX = layout.coolingFactor * (this.springForceX + this.repulsionForceX + this.gravitationForceX) / this.noOfChildren;\n  this.displacementY = layout.coolingFactor * (this.springForceY + this.repulsionForceY + this.gravitationForceY) / this.noOfChildren;\n\n  if (Math.abs(this.displacementX) > layout.coolingFactor * layout.maxNodeDisplacement) {\n    this.displacementX = layout.coolingFactor * layout.maxNodeDisplacement * IMath.sign(this.displacementX);\n  }\n\n  if (Math.abs(this.displacementY) > layout.coolingFactor * layout.maxNodeDisplacement) {\n    this.displacementY = layout.coolingFactor * layout.maxNodeDisplacement * IMath.sign(this.displacementY);\n  }\n\n  // a simple node, just move it\n  if (this.child == null) {\n    this.moveBy(this.displacementX, this.displacementY);\n  }\n  // an empty compound node, again just move it\n  else if (this.child.getNodes().length == 0) {\n      this.moveBy(this.displacementX, this.displacementY);\n    }\n    // non-empty compound node, propogate movement to children as well\n    else {\n        this.propogateDisplacementToChildren(this.displacementX, this.displacementY);\n      }\n\n  layout.totalDisplacement += Math.abs(this.displacementX) + Math.abs(this.displacementY);\n\n  this.springForceX = 0;\n  this.springForceY = 0;\n  this.repulsionForceX = 0;\n  this.repulsionForceY = 0;\n  this.gravitationForceX = 0;\n  this.gravitationForceY = 0;\n  this.displacementX = 0;\n  this.displacementY = 0;\n};\n\nCoSENode.prototype.propogateDisplacementToChildren = function (dX, dY) {\n  var nodes = this.getChild().getNodes();\n  var node;\n  for (var i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    if (node.getChild() == null) {\n      node.moveBy(dX, dY);\n      node.displacementX += dX;\n      node.displacementY += dY;\n    } else {\n      node.propogateDisplacementToChildren(dX, dY);\n    }\n  }\n};\n\nCoSENode.prototype.setPred1 = function (pred1) {\n  this.pred1 = pred1;\n};\n\nCoSENode.prototype.getPred1 = function () {\n  return pred1;\n};\n\nCoSENode.prototype.getPred2 = function () {\n  return pred2;\n};\n\nCoSENode.prototype.setNext = function (next) {\n  this.next = next;\n};\n\nCoSENode.prototype.getNext = function () {\n  return next;\n};\n\nCoSENode.prototype.setProcessed = function (processed) {\n  this.processed = processed;\n};\n\nCoSENode.prototype.isProcessed = function () {\n  return processed;\n};\n\nmodule.exports = CoSENode;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayout = __webpack_require__(0).FDLayout;\nvar CoSEGraphManager = __webpack_require__(4);\nvar CoSEGraph = __webpack_require__(3);\nvar CoSENode = __webpack_require__(5);\nvar CoSEEdge = __webpack_require__(2);\nvar CoSEConstants = __webpack_require__(1);\nvar FDLayoutConstants = __webpack_require__(0).FDLayoutConstants;\nvar LayoutConstants = __webpack_require__(0).LayoutConstants;\nvar Point = __webpack_require__(0).Point;\nvar PointD = __webpack_require__(0).PointD;\nvar Layout = __webpack_require__(0).Layout;\nvar Integer = __webpack_require__(0).Integer;\nvar IGeometry = __webpack_require__(0).IGeometry;\nvar LGraph = __webpack_require__(0).LGraph;\nvar Transform = __webpack_require__(0).Transform;\n\nfunction CoSELayout() {\n  FDLayout.call(this);\n\n  this.toBeTiled = {}; // Memorize if a node is to be tiled or is tiled\n}\n\nCoSELayout.prototype = Object.create(FDLayout.prototype);\n\nfor (var prop in FDLayout) {\n  CoSELayout[prop] = FDLayout[prop];\n}\n\nCoSELayout.prototype.newGraphManager = function () {\n  var gm = new CoSEGraphManager(this);\n  this.graphManager = gm;\n  return gm;\n};\n\nCoSELayout.prototype.newGraph = function (vGraph) {\n  return new CoSEGraph(null, this.graphManager, vGraph);\n};\n\nCoSELayout.prototype.newNode = function (vNode) {\n  return new CoSENode(this.graphManager, vNode);\n};\n\nCoSELayout.prototype.newEdge = function (vEdge) {\n  return new CoSEEdge(null, null, vEdge);\n};\n\nCoSELayout.prototype.initParameters = function () {\n  FDLayout.prototype.initParameters.call(this, arguments);\n  if (!this.isSubLayout) {\n    if (CoSEConstants.DEFAULT_EDGE_LENGTH < 10) {\n      this.idealEdgeLength = 10;\n    } else {\n      this.idealEdgeLength = CoSEConstants.DEFAULT_EDGE_LENGTH;\n    }\n\n    this.useSmartIdealEdgeLengthCalculation = CoSEConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;\n    this.springConstant = FDLayoutConstants.DEFAULT_SPRING_STRENGTH;\n    this.repulsionConstant = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;\n    this.gravityConstant = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;\n    this.compoundGravityConstant = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;\n    this.gravityRangeFactor = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;\n    this.compoundGravityRangeFactor = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;\n\n    // variables for tree reduction support\n    this.prunedNodesAll = [];\n    this.growTreeIterations = 0;\n    this.afterGrowthIterations = 0;\n    this.isTreeGrowing = false;\n    this.isGrowthFinished = false;\n\n    // variables for cooling\n    this.coolingCycle = 0;\n    this.maxCoolingCycle = this.maxIterations / FDLayoutConstants.CONVERGENCE_CHECK_PERIOD;\n    this.finalTemperature = FDLayoutConstants.CONVERGENCE_CHECK_PERIOD / this.maxIterations;\n    this.coolingAdjuster = 1;\n  }\n};\n\nCoSELayout.prototype.layout = function () {\n  var createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n  if (createBendsAsNeeded) {\n    this.createBendpoints();\n    this.graphManager.resetAllEdges();\n  }\n\n  this.level = 0;\n  return this.classicLayout();\n};\n\nCoSELayout.prototype.classicLayout = function () {\n  this.nodesWithGravity = this.calculateNodesToApplyGravitationTo();\n  this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);\n  this.calcNoOfChildrenForAllNodes();\n  this.graphManager.calcLowestCommonAncestors();\n  this.graphManager.calcInclusionTreeDepths();\n  this.graphManager.getRoot().calcEstimatedSize();\n  this.calcIdealEdgeLengths();\n\n  if (!this.incremental) {\n    var forest = this.getFlatForest();\n\n    // The graph associated with this layout is flat and a forest\n    if (forest.length > 0) {\n      this.positionNodesRadially(forest);\n    }\n    // The graph associated with this layout is not flat or a forest\n    else {\n        // Reduce the trees when incremental mode is not enabled and graph is not a forest \n        this.reduceTrees();\n        // Update nodes that gravity will be applied\n        this.graphManager.resetAllNodesToApplyGravitation();\n        var allNodes = new Set(this.getAllNodes());\n        var intersection = this.nodesWithGravity.filter(function (x) {\n          return allNodes.has(x);\n        });\n        this.graphManager.setAllNodesToApplyGravitation(intersection);\n\n        this.positionNodesRandomly();\n      }\n  } else {\n    if (CoSEConstants.TREE_REDUCTION_ON_INCREMENTAL) {\n      // Reduce the trees in incremental mode if only this constant is set to true \n      this.reduceTrees();\n      // Update nodes that gravity will be applied\n      this.graphManager.resetAllNodesToApplyGravitation();\n      var allNodes = new Set(this.getAllNodes());\n      var intersection = this.nodesWithGravity.filter(function (x) {\n        return allNodes.has(x);\n      });\n      this.graphManager.setAllNodesToApplyGravitation(intersection);\n    }\n  }\n\n  this.initSpringEmbedder();\n  this.runSpringEmbedder();\n\n  return true;\n};\n\nCoSELayout.prototype.tick = function () {\n  this.totalIterations++;\n\n  if (this.totalIterations === this.maxIterations && !this.isTreeGrowing && !this.isGrowthFinished) {\n    if (this.prunedNodesAll.length > 0) {\n      this.isTreeGrowing = true;\n    } else {\n      return true;\n    }\n  }\n\n  if (this.totalIterations % FDLayoutConstants.CONVERGENCE_CHECK_PERIOD == 0 && !this.isTreeGrowing && !this.isGrowthFinished) {\n    if (this.isConverged()) {\n      if (this.prunedNodesAll.length > 0) {\n        this.isTreeGrowing = true;\n      } else {\n        return true;\n      }\n    }\n\n    this.coolingCycle++;\n\n    if (this.layoutQuality == 0) {\n      // quality - \"draft\"\n      this.coolingAdjuster = this.coolingCycle;\n    } else if (this.layoutQuality == 1) {\n      // quality - \"default\"\n      this.coolingAdjuster = this.coolingCycle / 3;\n    }\n\n    // cooling schedule is based on http://www.btluke.com/simanf1.html -> cooling schedule 3\n    this.coolingFactor = Math.max(this.initialCoolingFactor - Math.pow(this.coolingCycle, Math.log(100 * (this.initialCoolingFactor - this.finalTemperature)) / Math.log(this.maxCoolingCycle)) / 100 * this.coolingAdjuster, this.finalTemperature);\n    this.animationPeriod = Math.ceil(this.initialAnimationPeriod * Math.sqrt(this.coolingFactor));\n  }\n  // Operations while tree is growing again \n  if (this.isTreeGrowing) {\n    if (this.growTreeIterations % 10 == 0) {\n      if (this.prunedNodesAll.length > 0) {\n        this.graphManager.updateBounds();\n        this.updateGrid();\n        this.growTree(this.prunedNodesAll);\n        // Update nodes that gravity will be applied\n        this.graphManager.resetAllNodesToApplyGravitation();\n        var allNodes = new Set(this.getAllNodes());\n        var intersection = this.nodesWithGravity.filter(function (x) {\n          return allNodes.has(x);\n        });\n        this.graphManager.setAllNodesToApplyGravitation(intersection);\n\n        this.graphManager.updateBounds();\n        this.updateGrid();\n        this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n      } else {\n        this.isTreeGrowing = false;\n        this.isGrowthFinished = true;\n      }\n    }\n    this.growTreeIterations++;\n  }\n  // Operations after growth is finished\n  if (this.isGrowthFinished) {\n    if (this.isConverged()) {\n      return true;\n    }\n    if (this.afterGrowthIterations % 10 == 0) {\n      this.graphManager.updateBounds();\n      this.updateGrid();\n    }\n    this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL * ((100 - this.afterGrowthIterations) / 100);\n    this.afterGrowthIterations++;\n  }\n\n  var gridUpdateAllowed = !this.isTreeGrowing && !this.isGrowthFinished;\n  var forceToNodeSurroundingUpdate = this.growTreeIterations % 10 == 1 && this.isTreeGrowing || this.afterGrowthIterations % 10 == 1 && this.isGrowthFinished;\n\n  this.totalDisplacement = 0;\n  this.graphManager.updateBounds();\n  this.calcSpringForces();\n  this.calcRepulsionForces(gridUpdateAllowed, forceToNodeSurroundingUpdate);\n  this.calcGravitationalForces();\n  this.moveNodes();\n  this.animate();\n\n  return false; // Layout is not ended yet return false\n};\n\nCoSELayout.prototype.getPositionsData = function () {\n  var allNodes = this.graphManager.getAllNodes();\n  var pData = {};\n  for (var i = 0; i < allNodes.length; i++) {\n    var rect = allNodes[i].rect;\n    var id = allNodes[i].id;\n    pData[id] = {\n      id: id,\n      x: rect.getCenterX(),\n      y: rect.getCenterY(),\n      w: rect.width,\n      h: rect.height\n    };\n  }\n\n  return pData;\n};\n\nCoSELayout.prototype.runSpringEmbedder = function () {\n  this.initialAnimationPeriod = 25;\n  this.animationPeriod = this.initialAnimationPeriod;\n  var layoutEnded = false;\n\n  // If aminate option is 'during' signal that layout is supposed to start iterating\n  if (FDLayoutConstants.ANIMATE === 'during') {\n    this.emit('layoutstarted');\n  } else {\n    // If aminate option is 'during' tick() function will be called on index.js\n    while (!layoutEnded) {\n      layoutEnded = this.tick();\n    }\n\n    this.graphManager.updateBounds();\n  }\n};\n\nCoSELayout.prototype.calculateNodesToApplyGravitationTo = function () {\n  var nodeList = [];\n  var graph;\n\n  var graphs = this.graphManager.getGraphs();\n  var size = graphs.length;\n  var i;\n  for (i = 0; i < size; i++) {\n    graph = graphs[i];\n\n    graph.updateConnected();\n\n    if (!graph.isConnected) {\n      nodeList = nodeList.concat(graph.getNodes());\n    }\n  }\n\n  return nodeList;\n};\n\nCoSELayout.prototype.createBendpoints = function () {\n  var edges = [];\n  edges = edges.concat(this.graphManager.getAllEdges());\n  var visited = new Set();\n  var i;\n  for (i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n\n    if (!visited.has(edge)) {\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if (source == target) {\n        edge.getBendpoints().push(new PointD());\n        edge.getBendpoints().push(new PointD());\n        this.createDummyNodesForBendpoints(edge);\n        visited.add(edge);\n      } else {\n        var edgeList = [];\n\n        edgeList = edgeList.concat(source.getEdgeListToNode(target));\n        edgeList = edgeList.concat(target.getEdgeListToNode(source));\n\n        if (!visited.has(edgeList[0])) {\n          if (edgeList.length > 1) {\n            var k;\n            for (k = 0; k < edgeList.length; k++) {\n              var multiEdge = edgeList[k];\n              multiEdge.getBendpoints().push(new PointD());\n              this.createDummyNodesForBendpoints(multiEdge);\n            }\n          }\n          edgeList.forEach(function (edge) {\n            visited.add(edge);\n          });\n        }\n      }\n    }\n\n    if (visited.size == edges.length) {\n      break;\n    }\n  }\n};\n\nCoSELayout.prototype.positionNodesRadially = function (forest) {\n  // We tile the trees to a grid row by row; first tree starts at (0,0)\n  var currentStartingPoint = new Point(0, 0);\n  var numberOfColumns = Math.ceil(Math.sqrt(forest.length));\n  var height = 0;\n  var currentY = 0;\n  var currentX = 0;\n  var point = new PointD(0, 0);\n\n  for (var i = 0; i < forest.length; i++) {\n    if (i % numberOfColumns == 0) {\n      // Start of a new row, make the x coordinate 0, increment the\n      // y coordinate with the max height of the previous row\n      currentX = 0;\n      currentY = height;\n\n      if (i != 0) {\n        currentY += CoSEConstants.DEFAULT_COMPONENT_SEPERATION;\n      }\n\n      height = 0;\n    }\n\n    var tree = forest[i];\n\n    // Find the center of the tree\n    var centerNode = Layout.findCenterOfTree(tree);\n\n    // Set the staring point of the next tree\n    currentStartingPoint.x = currentX;\n    currentStartingPoint.y = currentY;\n\n    // Do a radial layout starting with the center\n    point = CoSELayout.radialLayout(tree, centerNode, currentStartingPoint);\n\n    if (point.y > height) {\n      height = Math.floor(point.y);\n    }\n\n    currentX = Math.floor(point.x + CoSEConstants.DEFAULT_COMPONENT_SEPERATION);\n  }\n\n  this.transform(new PointD(LayoutConstants.WORLD_CENTER_X - point.x / 2, LayoutConstants.WORLD_CENTER_Y - point.y / 2));\n};\n\nCoSELayout.radialLayout = function (tree, centerNode, startingPoint) {\n  var radialSep = Math.max(this.maxDiagonalInTree(tree), CoSEConstants.DEFAULT_RADIAL_SEPARATION);\n  CoSELayout.branchRadialLayout(centerNode, null, 0, 359, 0, radialSep);\n  var bounds = LGraph.calculateBounds(tree);\n\n  var transform = new Transform();\n  transform.setDeviceOrgX(bounds.getMinX());\n  transform.setDeviceOrgY(bounds.getMinY());\n  transform.setWorldOrgX(startingPoint.x);\n  transform.setWorldOrgY(startingPoint.y);\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n    node.transform(transform);\n  }\n\n  var bottomRight = new PointD(bounds.getMaxX(), bounds.getMaxY());\n\n  return transform.inverseTransformPoint(bottomRight);\n};\n\nCoSELayout.branchRadialLayout = function (node, parentOfNode, startAngle, endAngle, distance, radialSeparation) {\n  // First, position this node by finding its angle.\n  var halfInterval = (endAngle - startAngle + 1) / 2;\n\n  if (halfInterval < 0) {\n    halfInterval += 180;\n  }\n\n  var nodeAngle = (halfInterval + startAngle) % 360;\n  var teta = nodeAngle * IGeometry.TWO_PI / 360;\n\n  // Make polar to java cordinate conversion.\n  var cos_teta = Math.cos(teta);\n  var x_ = distance * Math.cos(teta);\n  var y_ = distance * Math.sin(teta);\n\n  node.setCenter(x_, y_);\n\n  // Traverse all neighbors of this node and recursively call this\n  // function.\n  var neighborEdges = [];\n  neighborEdges = neighborEdges.concat(node.getEdges());\n  var childCount = neighborEdges.length;\n\n  if (parentOfNode != null) {\n    childCount--;\n  }\n\n  var branchCount = 0;\n\n  var incEdgesCount = neighborEdges.length;\n  var startIndex;\n\n  var edges = node.getEdgesBetween(parentOfNode);\n\n  // If there are multiple edges, prune them until there remains only one\n  // edge.\n  while (edges.length > 1) {\n    //neighborEdges.remove(edges.remove(0));\n    var temp = edges[0];\n    edges.splice(0, 1);\n    var index = neighborEdges.indexOf(temp);\n    if (index >= 0) {\n      neighborEdges.splice(index, 1);\n    }\n    incEdgesCount--;\n    childCount--;\n  }\n\n  if (parentOfNode != null) {\n    //assert edges.length == 1;\n    startIndex = (neighborEdges.indexOf(edges[0]) + 1) % incEdgesCount;\n  } else {\n    startIndex = 0;\n  }\n\n  var stepAngle = Math.abs(endAngle - startAngle) / childCount;\n\n  for (var i = startIndex; branchCount != childCount; i = ++i % incEdgesCount) {\n    var currentNeighbor = neighborEdges[i].getOtherEnd(node);\n\n    // Don't back traverse to root node in current tree.\n    if (currentNeighbor == parentOfNode) {\n      continue;\n    }\n\n    var childStartAngle = (startAngle + branchCount * stepAngle) % 360;\n    var childEndAngle = (childStartAngle + stepAngle) % 360;\n\n    CoSELayout.branchRadialLayout(currentNeighbor, node, childStartAngle, childEndAngle, distance + radialSeparation, radialSeparation);\n\n    branchCount++;\n  }\n};\n\nCoSELayout.maxDiagonalInTree = function (tree) {\n  var maxDiagonal = Integer.MIN_VALUE;\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n    var diagonal = node.getDiagonal();\n\n    if (diagonal > maxDiagonal) {\n      maxDiagonal = diagonal;\n    }\n  }\n\n  return maxDiagonal;\n};\n\nCoSELayout.prototype.calcRepulsionRange = function () {\n  // formula is 2 x (level + 1) x idealEdgeLength\n  return 2 * (this.level + 1) * this.idealEdgeLength;\n};\n\n// Tiling methods\n\n// Group zero degree members whose parents are not to be tiled, create dummy parents where needed and fill memberGroups by their dummp parent id's\nCoSELayout.prototype.groupZeroDegreeMembers = function () {\n  var self = this;\n  // array of [parent_id x oneDegreeNode_id]\n  var tempMemberGroups = {}; // A temporary map of parent node and its zero degree members\n  this.memberGroups = {}; // A map of dummy parent node and its zero degree members whose parents are not to be tiled\n  this.idToDummyNode = {}; // A map of id to dummy node \n\n  var zeroDegree = []; // List of zero degree nodes whose parents are not to be tiled\n  var allNodes = this.graphManager.getAllNodes();\n\n  // Fill zero degree list\n  for (var i = 0; i < allNodes.length; i++) {\n    var node = allNodes[i];\n    var parent = node.getParent();\n    // If a node has zero degree and its parent is not to be tiled if exists add that node to zeroDegres list\n    if (this.getNodeDegreeWithChildren(node) === 0 && (parent.id == undefined || !this.getToBeTiled(parent))) {\n      zeroDegree.push(node);\n    }\n  }\n\n  // Create a map of parent node and its zero degree members\n  for (var i = 0; i < zeroDegree.length; i++) {\n    var node = zeroDegree[i]; // Zero degree node itself\n    var p_id = node.getParent().id; // Parent id\n\n    if (typeof tempMemberGroups[p_id] === \"undefined\") tempMemberGroups[p_id] = [];\n\n    tempMemberGroups[p_id] = tempMemberGroups[p_id].concat(node); // Push node to the list belongs to its parent in tempMemberGroups\n  }\n\n  // If there are at least two nodes at a level, create a dummy compound for them\n  Object.keys(tempMemberGroups).forEach(function (p_id) {\n    if (tempMemberGroups[p_id].length > 1) {\n      var dummyCompoundId = \"DummyCompound_\" + p_id; // The id of dummy compound which will be created soon\n      self.memberGroups[dummyCompoundId] = tempMemberGroups[p_id]; // Add dummy compound to memberGroups\n\n      var parent = tempMemberGroups[p_id][0].getParent(); // The parent of zero degree nodes will be the parent of new dummy compound\n\n      // Create a dummy compound with calculated id\n      var dummyCompound = new CoSENode(self.graphManager);\n      dummyCompound.id = dummyCompoundId;\n      dummyCompound.paddingLeft = parent.paddingLeft || 0;\n      dummyCompound.paddingRight = parent.paddingRight || 0;\n      dummyCompound.paddingBottom = parent.paddingBottom || 0;\n      dummyCompound.paddingTop = parent.paddingTop || 0;\n\n      self.idToDummyNode[dummyCompoundId] = dummyCompound;\n\n      var dummyParentGraph = self.getGraphManager().add(self.newGraph(), dummyCompound);\n      var parentGraph = parent.getChild();\n\n      // Add dummy compound to parent the graph\n      parentGraph.add(dummyCompound);\n\n      // For each zero degree node in this level remove it from its parent graph and add it to the graph of dummy parent\n      for (var i = 0; i < tempMemberGroups[p_id].length; i++) {\n        var node = tempMemberGroups[p_id][i];\n\n        parentGraph.remove(node);\n        dummyParentGraph.add(node);\n      }\n    }\n  });\n};\n\nCoSELayout.prototype.clearCompounds = function () {\n  var childGraphMap = {};\n  var idToNode = {};\n\n  // Get compound ordering by finding the inner one first\n  this.performDFSOnCompounds();\n\n  for (var i = 0; i < this.compoundOrder.length; i++) {\n\n    idToNode[this.compoundOrder[i].id] = this.compoundOrder[i];\n    childGraphMap[this.compoundOrder[i].id] = [].concat(this.compoundOrder[i].getChild().getNodes());\n\n    // Remove children of compounds\n    this.graphManager.remove(this.compoundOrder[i].getChild());\n    this.compoundOrder[i].child = null;\n  }\n\n  this.graphManager.resetAllNodes();\n\n  // Tile the removed children\n  this.tileCompoundMembers(childGraphMap, idToNode);\n};\n\nCoSELayout.prototype.clearZeroDegreeMembers = function () {\n  var self = this;\n  var tiledZeroDegreePack = this.tiledZeroDegreePack = [];\n\n  Object.keys(this.memberGroups).forEach(function (id) {\n    var compoundNode = self.idToDummyNode[id]; // Get the dummy compound\n\n    tiledZeroDegreePack[id] = self.tileNodes(self.memberGroups[id], compoundNode.paddingLeft + compoundNode.paddingRight);\n\n    // Set the width and height of the dummy compound as calculated\n    compoundNode.rect.width = tiledZeroDegreePack[id].width;\n    compoundNode.rect.height = tiledZeroDegreePack[id].height;\n  });\n};\n\nCoSELayout.prototype.repopulateCompounds = function () {\n  for (var i = this.compoundOrder.length - 1; i >= 0; i--) {\n    var lCompoundNode = this.compoundOrder[i];\n    var id = lCompoundNode.id;\n    var horizontalMargin = lCompoundNode.paddingLeft;\n    var verticalMargin = lCompoundNode.paddingTop;\n\n    this.adjustLocations(this.tiledMemberPack[id], lCompoundNode.rect.x, lCompoundNode.rect.y, horizontalMargin, verticalMargin);\n  }\n};\n\nCoSELayout.prototype.repopulateZeroDegreeMembers = function () {\n  var self = this;\n  var tiledPack = this.tiledZeroDegreePack;\n\n  Object.keys(tiledPack).forEach(function (id) {\n    var compoundNode = self.idToDummyNode[id]; // Get the dummy compound by its id\n    var horizontalMargin = compoundNode.paddingLeft;\n    var verticalMargin = compoundNode.paddingTop;\n\n    // Adjust the positions of nodes wrt its compound\n    self.adjustLocations(tiledPack[id], compoundNode.rect.x, compoundNode.rect.y, horizontalMargin, verticalMargin);\n  });\n};\n\nCoSELayout.prototype.getToBeTiled = function (node) {\n  var id = node.id;\n  //firstly check the previous results\n  if (this.toBeTiled[id] != null) {\n    return this.toBeTiled[id];\n  }\n\n  //only compound nodes are to be tiled\n  var childGraph = node.getChild();\n  if (childGraph == null) {\n    this.toBeTiled[id] = false;\n    return false;\n  }\n\n  var children = childGraph.getNodes(); // Get the children nodes\n\n  //a compound node is not to be tiled if all of its compound children are not to be tiled\n  for (var i = 0; i < children.length; i++) {\n    var theChild = children[i];\n\n    if (this.getNodeDegree(theChild) > 0) {\n      this.toBeTiled[id] = false;\n      return false;\n    }\n\n    //pass the children not having the compound structure\n    if (theChild.getChild() == null) {\n      this.toBeTiled[theChild.id] = false;\n      continue;\n    }\n\n    if (!this.getToBeTiled(theChild)) {\n      this.toBeTiled[id] = false;\n      return false;\n    }\n  }\n  this.toBeTiled[id] = true;\n  return true;\n};\n\n// Get degree of a node depending of its edges and independent of its children\nCoSELayout.prototype.getNodeDegree = function (node) {\n  var id = node.id;\n  var edges = node.getEdges();\n  var degree = 0;\n\n  // For the edges connected\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    if (edge.getSource().id !== edge.getTarget().id) {\n      degree = degree + 1;\n    }\n  }\n  return degree;\n};\n\n// Get degree of a node with its children\nCoSELayout.prototype.getNodeDegreeWithChildren = function (node) {\n  var degree = this.getNodeDegree(node);\n  if (node.getChild() == null) {\n    return degree;\n  }\n  var children = node.getChild().getNodes();\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    degree += this.getNodeDegreeWithChildren(child);\n  }\n  return degree;\n};\n\nCoSELayout.prototype.performDFSOnCompounds = function () {\n  this.compoundOrder = [];\n  this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes());\n};\n\nCoSELayout.prototype.fillCompexOrderByDFS = function (children) {\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    if (child.getChild() != null) {\n      this.fillCompexOrderByDFS(child.getChild().getNodes());\n    }\n    if (this.getToBeTiled(child)) {\n      this.compoundOrder.push(child);\n    }\n  }\n};\n\n/**\n* This method places each zero degree member wrt given (x,y) coordinates (top left).\n*/\nCoSELayout.prototype.adjustLocations = function (organization, x, y, compoundHorizontalMargin, compoundVerticalMargin) {\n  x += compoundHorizontalMargin;\n  y += compoundVerticalMargin;\n\n  var left = x;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n    var row = organization.rows[i];\n    x = left;\n    var maxHeight = 0;\n\n    for (var j = 0; j < row.length; j++) {\n      var lnode = row[j];\n\n      lnode.rect.x = x; // + lnode.rect.width / 2;\n      lnode.rect.y = y; // + lnode.rect.height / 2;\n\n      x += lnode.rect.width + organization.horizontalPadding;\n\n      if (lnode.rect.height > maxHeight) maxHeight = lnode.rect.height;\n    }\n\n    y += maxHeight + organization.verticalPadding;\n  }\n};\n\nCoSELayout.prototype.tileCompoundMembers = function (childGraphMap, idToNode) {\n  var self = this;\n  this.tiledMemberPack = [];\n\n  Object.keys(childGraphMap).forEach(function (id) {\n    // Get the compound node\n    var compoundNode = idToNode[id];\n\n    self.tiledMemberPack[id] = self.tileNodes(childGraphMap[id], compoundNode.paddingLeft + compoundNode.paddingRight);\n\n    compoundNode.rect.width = self.tiledMemberPack[id].width;\n    compoundNode.rect.height = self.tiledMemberPack[id].height;\n  });\n};\n\nCoSELayout.prototype.tileNodes = function (nodes, minWidth) {\n  var verticalPadding = CoSEConstants.TILING_PADDING_VERTICAL;\n  var horizontalPadding = CoSEConstants.TILING_PADDING_HORIZONTAL;\n  var organization = {\n    rows: [],\n    rowWidth: [],\n    rowHeight: [],\n    width: 0,\n    height: minWidth, // assume minHeight equals to minWidth\n    verticalPadding: verticalPadding,\n    horizontalPadding: horizontalPadding\n  };\n\n  // Sort the nodes in ascending order of their areas\n  nodes.sort(function (n1, n2) {\n    if (n1.rect.width * n1.rect.height > n2.rect.width * n2.rect.height) return -1;\n    if (n1.rect.width * n1.rect.height < n2.rect.width * n2.rect.height) return 1;\n    return 0;\n  });\n\n  // Create the organization -> tile members\n  for (var i = 0; i < nodes.length; i++) {\n    var lNode = nodes[i];\n\n    if (organization.rows.length == 0) {\n      this.insertNodeToRow(organization, lNode, 0, minWidth);\n    } else if (this.canAddHorizontal(organization, lNode.rect.width, lNode.rect.height)) {\n      this.insertNodeToRow(organization, lNode, this.getShortestRowIndex(organization), minWidth);\n    } else {\n      this.insertNodeToRow(organization, lNode, organization.rows.length, minWidth);\n    }\n\n    this.shiftToLastRow(organization);\n  }\n\n  return organization;\n};\n\nCoSELayout.prototype.insertNodeToRow = function (organization, node, rowIndex, minWidth) {\n  var minCompoundSize = minWidth;\n\n  // Add new row if needed\n  if (rowIndex == organization.rows.length) {\n    var secondDimension = [];\n\n    organization.rows.push(secondDimension);\n    organization.rowWidth.push(minCompoundSize);\n    organization.rowHeight.push(0);\n  }\n\n  // Update row width\n  var w = organization.rowWidth[rowIndex] + node.rect.width;\n\n  if (organization.rows[rowIndex].length > 0) {\n    w += organization.horizontalPadding;\n  }\n\n  organization.rowWidth[rowIndex] = w;\n  // Update compound width\n  if (organization.width < w) {\n    organization.width = w;\n  }\n\n  // Update height\n  var h = node.rect.height;\n  if (rowIndex > 0) h += organization.verticalPadding;\n\n  var extraHeight = 0;\n  if (h > organization.rowHeight[rowIndex]) {\n    extraHeight = organization.rowHeight[rowIndex];\n    organization.rowHeight[rowIndex] = h;\n    extraHeight = organization.rowHeight[rowIndex] - extraHeight;\n  }\n\n  organization.height += extraHeight;\n\n  // Insert node\n  organization.rows[rowIndex].push(node);\n};\n\n//Scans the rows of an organization and returns the one with the min width\nCoSELayout.prototype.getShortestRowIndex = function (organization) {\n  var r = -1;\n  var min = Number.MAX_VALUE;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n    if (organization.rowWidth[i] < min) {\n      r = i;\n      min = organization.rowWidth[i];\n    }\n  }\n  return r;\n};\n\n//Scans the rows of an organization and returns the one with the max width\nCoSELayout.prototype.getLongestRowIndex = function (organization) {\n  var r = -1;\n  var max = Number.MIN_VALUE;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n\n    if (organization.rowWidth[i] > max) {\n      r = i;\n      max = organization.rowWidth[i];\n    }\n  }\n\n  return r;\n};\n\n/**\n* This method checks whether adding extra width to the organization violates\n* the aspect ratio(1) or not.\n*/\nCoSELayout.prototype.canAddHorizontal = function (organization, extraWidth, extraHeight) {\n\n  var sri = this.getShortestRowIndex(organization);\n\n  if (sri < 0) {\n    return true;\n  }\n\n  var min = organization.rowWidth[sri];\n\n  if (min + organization.horizontalPadding + extraWidth <= organization.width) return true;\n\n  var hDiff = 0;\n\n  // Adding to an existing row\n  if (organization.rowHeight[sri] < extraHeight) {\n    if (sri > 0) hDiff = extraHeight + organization.verticalPadding - organization.rowHeight[sri];\n  }\n\n  var add_to_row_ratio;\n  if (organization.width - min >= extraWidth + organization.horizontalPadding) {\n    add_to_row_ratio = (organization.height + hDiff) / (min + extraWidth + organization.horizontalPadding);\n  } else {\n    add_to_row_ratio = (organization.height + hDiff) / organization.width;\n  }\n\n  // Adding a new row for this node\n  hDiff = extraHeight + organization.verticalPadding;\n  var add_new_row_ratio;\n  if (organization.width < extraWidth) {\n    add_new_row_ratio = (organization.height + hDiff) / extraWidth;\n  } else {\n    add_new_row_ratio = (organization.height + hDiff) / organization.width;\n  }\n\n  if (add_new_row_ratio < 1) add_new_row_ratio = 1 / add_new_row_ratio;\n\n  if (add_to_row_ratio < 1) add_to_row_ratio = 1 / add_to_row_ratio;\n\n  return add_to_row_ratio < add_new_row_ratio;\n};\n\n//If moving the last node from the longest row and adding it to the last\n//row makes the bounding box smaller, do it.\nCoSELayout.prototype.shiftToLastRow = function (organization) {\n  var longest = this.getLongestRowIndex(organization);\n  var last = organization.rowWidth.length - 1;\n  var row = organization.rows[longest];\n  var node = row[row.length - 1];\n\n  var diff = node.width + organization.horizontalPadding;\n\n  // Check if there is enough space on the last row\n  if (organization.width - organization.rowWidth[last] > diff && longest != last) {\n    // Remove the last element of the longest row\n    row.splice(-1, 1);\n\n    // Push it to the last row\n    organization.rows[last].push(node);\n\n    organization.rowWidth[longest] = organization.rowWidth[longest] - diff;\n    organization.rowWidth[last] = organization.rowWidth[last] + diff;\n    organization.width = organization.rowWidth[instance.getLongestRowIndex(organization)];\n\n    // Update heights of the organization\n    var maxHeight = Number.MIN_VALUE;\n    for (var i = 0; i < row.length; i++) {\n      if (row[i].height > maxHeight) maxHeight = row[i].height;\n    }\n    if (longest > 0) maxHeight += organization.verticalPadding;\n\n    var prevTotal = organization.rowHeight[longest] + organization.rowHeight[last];\n\n    organization.rowHeight[longest] = maxHeight;\n    if (organization.rowHeight[last] < node.height + organization.verticalPadding) organization.rowHeight[last] = node.height + organization.verticalPadding;\n\n    var finalTotal = organization.rowHeight[longest] + organization.rowHeight[last];\n    organization.height += finalTotal - prevTotal;\n\n    this.shiftToLastRow(organization);\n  }\n};\n\nCoSELayout.prototype.tilingPreLayout = function () {\n  if (CoSEConstants.TILE) {\n    // Find zero degree nodes and create a compound for each level\n    this.groupZeroDegreeMembers();\n    // Tile and clear children of each compound\n    this.clearCompounds();\n    // Separately tile and clear zero degree nodes for each level\n    this.clearZeroDegreeMembers();\n  }\n};\n\nCoSELayout.prototype.tilingPostLayout = function () {\n  if (CoSEConstants.TILE) {\n    this.repopulateZeroDegreeMembers();\n    this.repopulateCompounds();\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: Tree Reduction methods\n// -----------------------------------------------------------------------------\n// Reduce trees \nCoSELayout.prototype.reduceTrees = function () {\n  var prunedNodesAll = [];\n  var containsLeaf = true;\n  var node;\n\n  while (containsLeaf) {\n    var allNodes = this.graphManager.getAllNodes();\n    var prunedNodesInStepTemp = [];\n    containsLeaf = false;\n\n    for (var i = 0; i < allNodes.length; i++) {\n      node = allNodes[i];\n      if (node.getEdges().length == 1 && !node.getEdges()[0].isInterGraph && node.getChild() == null) {\n        prunedNodesInStepTemp.push([node, node.getEdges()[0], node.getOwner()]);\n        containsLeaf = true;\n      }\n    }\n    if (containsLeaf == true) {\n      var prunedNodesInStep = [];\n      for (var j = 0; j < prunedNodesInStepTemp.length; j++) {\n        if (prunedNodesInStepTemp[j][0].getEdges().length == 1) {\n          prunedNodesInStep.push(prunedNodesInStepTemp[j]);\n          prunedNodesInStepTemp[j][0].getOwner().remove(prunedNodesInStepTemp[j][0]);\n        }\n      }\n      prunedNodesAll.push(prunedNodesInStep);\n      this.graphManager.resetAllNodes();\n      this.graphManager.resetAllEdges();\n    }\n  }\n  this.prunedNodesAll = prunedNodesAll;\n};\n\n// Grow tree one step \nCoSELayout.prototype.growTree = function (prunedNodesAll) {\n  var lengthOfPrunedNodesInStep = prunedNodesAll.length;\n  var prunedNodesInStep = prunedNodesAll[lengthOfPrunedNodesInStep - 1];\n\n  var nodeData;\n  for (var i = 0; i < prunedNodesInStep.length; i++) {\n    nodeData = prunedNodesInStep[i];\n\n    this.findPlaceforPrunedNode(nodeData);\n\n    nodeData[2].add(nodeData[0]);\n    nodeData[2].add(nodeData[1], nodeData[1].source, nodeData[1].target);\n  }\n\n  prunedNodesAll.splice(prunedNodesAll.length - 1, 1);\n  this.graphManager.resetAllNodes();\n  this.graphManager.resetAllEdges();\n};\n\n// Find an appropriate position to replace pruned node, this method can be improved\nCoSELayout.prototype.findPlaceforPrunedNode = function (nodeData) {\n\n  var gridForPrunedNode;\n  var nodeToConnect;\n  var prunedNode = nodeData[0];\n  if (prunedNode == nodeData[1].source) {\n    nodeToConnect = nodeData[1].target;\n  } else {\n    nodeToConnect = nodeData[1].source;\n  }\n  var startGridX = nodeToConnect.startX;\n  var finishGridX = nodeToConnect.finishX;\n  var startGridY = nodeToConnect.startY;\n  var finishGridY = nodeToConnect.finishY;\n\n  var upNodeCount = 0;\n  var downNodeCount = 0;\n  var rightNodeCount = 0;\n  var leftNodeCount = 0;\n  var controlRegions = [upNodeCount, rightNodeCount, downNodeCount, leftNodeCount];\n\n  if (startGridY > 0) {\n    for (var i = startGridX; i <= finishGridX; i++) {\n      controlRegions[0] += this.grid[i][startGridY - 1].length + this.grid[i][startGridY].length - 1;\n    }\n  }\n  if (finishGridX < this.grid.length - 1) {\n    for (var i = startGridY; i <= finishGridY; i++) {\n      controlRegions[1] += this.grid[finishGridX + 1][i].length + this.grid[finishGridX][i].length - 1;\n    }\n  }\n  if (finishGridY < this.grid[0].length - 1) {\n    for (var i = startGridX; i <= finishGridX; i++) {\n      controlRegions[2] += this.grid[i][finishGridY + 1].length + this.grid[i][finishGridY].length - 1;\n    }\n  }\n  if (startGridX > 0) {\n    for (var i = startGridY; i <= finishGridY; i++) {\n      controlRegions[3] += this.grid[startGridX - 1][i].length + this.grid[startGridX][i].length - 1;\n    }\n  }\n  var min = Integer.MAX_VALUE;\n  var minCount;\n  var minIndex;\n  for (var j = 0; j < controlRegions.length; j++) {\n    if (controlRegions[j] < min) {\n      min = controlRegions[j];\n      minCount = 1;\n      minIndex = j;\n    } else if (controlRegions[j] == min) {\n      minCount++;\n    }\n  }\n\n  if (minCount == 3 && min == 0) {\n    if (controlRegions[0] == 0 && controlRegions[1] == 0 && controlRegions[2] == 0) {\n      gridForPrunedNode = 1;\n    } else if (controlRegions[0] == 0 && controlRegions[1] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 0;\n    } else if (controlRegions[0] == 0 && controlRegions[2] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 3;\n    } else if (controlRegions[1] == 0 && controlRegions[2] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 2;\n    }\n  } else if (minCount == 2 && min == 0) {\n    var random = Math.floor(Math.random() * 2);\n    if (controlRegions[0] == 0 && controlRegions[1] == 0) {\n      ;\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 1;\n      }\n    } else if (controlRegions[0] == 0 && controlRegions[2] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 2;\n      }\n    } else if (controlRegions[0] == 0 && controlRegions[3] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    } else if (controlRegions[1] == 0 && controlRegions[2] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 1;\n      } else {\n        gridForPrunedNode = 2;\n      }\n    } else if (controlRegions[1] == 0 && controlRegions[3] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 1;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    } else {\n      if (random == 0) {\n        gridForPrunedNode = 2;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    }\n  } else if (minCount == 4 && min == 0) {\n    var random = Math.floor(Math.random() * 4);\n    gridForPrunedNode = random;\n  } else {\n    gridForPrunedNode = minIndex;\n  }\n\n  if (gridForPrunedNode == 0) {\n    prunedNode.setCenter(nodeToConnect.getCenterX(), nodeToConnect.getCenterY() - nodeToConnect.getHeight() / 2 - FDLayoutConstants.DEFAULT_EDGE_LENGTH - prunedNode.getHeight() / 2);\n  } else if (gridForPrunedNode == 1) {\n    prunedNode.setCenter(nodeToConnect.getCenterX() + nodeToConnect.getWidth() / 2 + FDLayoutConstants.DEFAULT_EDGE_LENGTH + prunedNode.getWidth() / 2, nodeToConnect.getCenterY());\n  } else if (gridForPrunedNode == 2) {\n    prunedNode.setCenter(nodeToConnect.getCenterX(), nodeToConnect.getCenterY() + nodeToConnect.getHeight() / 2 + FDLayoutConstants.DEFAULT_EDGE_LENGTH + prunedNode.getHeight() / 2);\n  } else {\n    prunedNode.setCenter(nodeToConnect.getCenterX() - nodeToConnect.getWidth() / 2 - FDLayoutConstants.DEFAULT_EDGE_LENGTH - prunedNode.getWidth() / 2, nodeToConnect.getCenterY());\n  }\n};\n\nmodule.exports = CoSELayout;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar coseBase = {};\n\ncoseBase.layoutBase = __webpack_require__(0);\ncoseBase.CoSEConstants = __webpack_require__(1);\ncoseBase.CoSEEdge = __webpack_require__(2);\ncoseBase.CoSEGraph = __webpack_require__(3);\ncoseBase.CoSEGraphManager = __webpack_require__(4);\ncoseBase.CoSELayout = __webpack_require__(6);\ncoseBase.CoSENode = __webpack_require__(5);\n\nmodule.exports = coseBase;\n\n/***/ })\n/******/ ]);\n});","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cose-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cose-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscapeCoseBilkent\"] = factory(require(\"cose-base\"));\n\telse\n\t\troot[\"cytoscapeCoseBilkent\"] = factory(root[\"coseBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0).layoutBase.LayoutConstants;\nvar FDLayoutConstants = __webpack_require__(0).layoutBase.FDLayoutConstants;\nvar CoSEConstants = __webpack_require__(0).CoSEConstants;\nvar CoSELayout = __webpack_require__(0).CoSELayout;\nvar CoSENode = __webpack_require__(0).CoSENode;\nvar PointD = __webpack_require__(0).layoutBase.PointD;\nvar DimensionD = __webpack_require__(0).layoutBase.DimensionD;\n\nvar defaults = {\n  // Called on `layoutready`\n  ready: function ready() {},\n  // Called on `layoutstop`\n  stop: function stop() {},\n  // 'draft', 'default' or 'proof\" \n  // - 'draft' fast cooling rate \n  // - 'default' moderate cooling rate \n  // - \"proof\" slow cooling rate\n  quality: 'default',\n  // include labels in node dimensions\n  nodeDimensionsIncludeLabels: false,\n  // number of ticks per frame; higher is faster but more jerky\n  refresh: 30,\n  // Whether to fit the network view after when done\n  fit: true,\n  // Padding on fit\n  padding: 10,\n  // Whether to enable incremental mode\n  randomize: true,\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: 4500,\n  // Ideal edge (non nested) length\n  idealEdgeLength: 50,\n  // Divisor to compute edge forces\n  edgeElasticity: 0.45,\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 0.1,\n  // Gravity force (constant)\n  gravity: 0.25,\n  // Maximum number of iterations to perform\n  numIter: 2500,\n  // For enabling tiling\n  tile: true,\n  // Type of layout animation. The option set is {'during', 'end', false}\n  animate: 'end',\n  // Duration for animate:end\n  animationDuration: 500,\n  // Represents the amount of the vertical space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingVertical: 10,\n  // Represents the amount of the horizontal space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingHorizontal: 10,\n  // Gravity range (constant) for compounds\n  gravityRangeCompound: 1.5,\n  // Gravity force (constant) for compounds\n  gravityCompound: 1.0,\n  // Gravity range (constant)\n  gravityRange: 3.8,\n  // Initial cooling factor for incremental layout\n  initialEnergyOnIncremental: 0.5\n};\n\nfunction extend(defaults, options) {\n  var obj = {};\n\n  for (var i in defaults) {\n    obj[i] = defaults[i];\n  }\n\n  for (var i in options) {\n    obj[i] = options[i];\n  }\n\n  return obj;\n};\n\nfunction _CoSELayout(_options) {\n  this.options = extend(defaults, _options);\n  getUserOptions(this.options);\n}\n\nvar getUserOptions = function getUserOptions(options) {\n  if (options.nodeRepulsion != null) CoSEConstants.DEFAULT_REPULSION_STRENGTH = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH = options.nodeRepulsion;\n  if (options.idealEdgeLength != null) CoSEConstants.DEFAULT_EDGE_LENGTH = FDLayoutConstants.DEFAULT_EDGE_LENGTH = options.idealEdgeLength;\n  if (options.edgeElasticity != null) CoSEConstants.DEFAULT_SPRING_STRENGTH = FDLayoutConstants.DEFAULT_SPRING_STRENGTH = options.edgeElasticity;\n  if (options.nestingFactor != null) CoSEConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = options.nestingFactor;\n  if (options.gravity != null) CoSEConstants.DEFAULT_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = options.gravity;\n  if (options.numIter != null) CoSEConstants.MAX_ITERATIONS = FDLayoutConstants.MAX_ITERATIONS = options.numIter;\n  if (options.gravityRange != null) CoSEConstants.DEFAULT_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = options.gravityRange;\n  if (options.gravityCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = options.gravityCompound;\n  if (options.gravityRangeCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = options.gravityRangeCompound;\n  if (options.initialEnergyOnIncremental != null) CoSEConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = options.initialEnergyOnIncremental;\n\n  if (options.quality == 'draft') LayoutConstants.QUALITY = 0;else if (options.quality == 'proof') LayoutConstants.QUALITY = 2;else LayoutConstants.QUALITY = 1;\n\n  CoSEConstants.NODE_DIMENSIONS_INCLUDE_LABELS = FDLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = options.nodeDimensionsIncludeLabels;\n  CoSEConstants.DEFAULT_INCREMENTAL = FDLayoutConstants.DEFAULT_INCREMENTAL = LayoutConstants.DEFAULT_INCREMENTAL = !options.randomize;\n  CoSEConstants.ANIMATE = FDLayoutConstants.ANIMATE = LayoutConstants.ANIMATE = options.animate;\n  CoSEConstants.TILE = options.tile;\n  CoSEConstants.TILING_PADDING_VERTICAL = typeof options.tilingPaddingVertical === 'function' ? options.tilingPaddingVertical.call() : options.tilingPaddingVertical;\n  CoSEConstants.TILING_PADDING_HORIZONTAL = typeof options.tilingPaddingHorizontal === 'function' ? options.tilingPaddingHorizontal.call() : options.tilingPaddingHorizontal;\n};\n\n_CoSELayout.prototype.run = function () {\n  var ready;\n  var frameId;\n  var options = this.options;\n  var idToLNode = this.idToLNode = {};\n  var layout = this.layout = new CoSELayout();\n  var self = this;\n\n  self.stopped = false;\n\n  this.cy = this.options.cy;\n\n  this.cy.trigger({ type: 'layoutstart', layout: this });\n\n  var gm = layout.newGraphManager();\n  this.gm = gm;\n\n  var nodes = this.options.eles.nodes();\n  var edges = this.options.eles.edges();\n\n  this.root = gm.addRoot();\n  this.processChildrenList(this.root, this.getTopMostNodes(nodes), layout);\n\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var sourceNode = this.idToLNode[edge.data(\"source\")];\n    var targetNode = this.idToLNode[edge.data(\"target\")];\n    if (sourceNode !== targetNode && sourceNode.getEdgesBetween(targetNode).length == 0) {\n      var e1 = gm.add(layout.newEdge(), sourceNode, targetNode);\n      e1.id = edge.id();\n    }\n  }\n\n  var getPositions = function getPositions(ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var theId = ele.data('id');\n    var lNode = self.idToLNode[theId];\n\n    return {\n      x: lNode.getRect().getCenterX(),\n      y: lNode.getRect().getCenterY()\n    };\n  };\n\n  /*\n   * Reposition nodes in iterations animatedly\n   */\n  var iterateAnimated = function iterateAnimated() {\n    // Thigs to perform after nodes are repositioned on screen\n    var afterReposition = function afterReposition() {\n      if (options.fit) {\n        options.cy.fit(options.eles, options.padding);\n      }\n\n      if (!ready) {\n        ready = true;\n        self.cy.one('layoutready', options.ready);\n        self.cy.trigger({ type: 'layoutready', layout: self });\n      }\n    };\n\n    var ticksPerFrame = self.options.refresh;\n    var isDone;\n\n    for (var i = 0; i < ticksPerFrame && !isDone; i++) {\n      isDone = self.stopped || self.layout.tick();\n    }\n\n    // If layout is done\n    if (isDone) {\n      // If the layout is not a sublayout and it is successful perform post layout.\n      if (layout.checkLayoutSuccess() && !layout.isSubLayout) {\n        layout.doPostLayout();\n      }\n\n      // If layout has a tilingPostLayout function property call it.\n      if (layout.tilingPostLayout) {\n        layout.tilingPostLayout();\n      }\n\n      layout.isLayoutFinished = true;\n\n      self.options.eles.nodes().positions(getPositions);\n\n      afterReposition();\n\n      // trigger layoutstop when the layout stops (e.g. finishes)\n      self.cy.one('layoutstop', self.options.stop);\n      self.cy.trigger({ type: 'layoutstop', layout: self });\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n\n      ready = false;\n      return;\n    }\n\n    var animationData = self.layout.getPositionsData(); // Get positions of layout nodes note that all nodes may not be layout nodes because of tiling\n\n    // Position nodes, for the nodes whose id does not included in data (because they are removed from their parents and included in dummy compounds)\n    // use position of their ancestors or dummy ancestors\n    options.eles.nodes().positions(function (ele, i) {\n      if (typeof ele === \"number\") {\n        ele = i;\n      }\n      // If ele is a compound node, then its position will be defined by its children\n      if (!ele.isParent()) {\n        var theId = ele.id();\n        var pNode = animationData[theId];\n        var temp = ele;\n        // If pNode is undefined search until finding position data of its first ancestor (It may be dummy as well)\n        while (pNode == null) {\n          pNode = animationData[temp.data('parent')] || animationData['DummyCompound_' + temp.data('parent')];\n          animationData[theId] = pNode;\n          temp = temp.parent()[0];\n          if (temp == undefined) {\n            break;\n          }\n        }\n        if (pNode != null) {\n          return {\n            x: pNode.x,\n            y: pNode.y\n          };\n        } else {\n          return {\n            x: ele.position('x'),\n            y: ele.position('y')\n          };\n        }\n      }\n    });\n\n    afterReposition();\n\n    frameId = requestAnimationFrame(iterateAnimated);\n  };\n\n  /*\n  * Listen 'layoutstarted' event and start animated iteration if animate option is 'during'\n  */\n  layout.addListener('layoutstarted', function () {\n    if (self.options.animate === 'during') {\n      frameId = requestAnimationFrame(iterateAnimated);\n    }\n  });\n\n  layout.runLayout(); // Run cose layout\n\n  /*\n   * If animate option is not 'during' ('end' or false) perform these here (If it is 'during' similar things are already performed)\n   */\n  if (this.options.animate !== \"during\") {\n    self.options.eles.nodes().not(\":parent\").layoutPositions(self, self.options, getPositions); // Use layout positions to reposition the nodes it considers the options parameter\n    ready = false;\n  }\n\n  return this; // chaining\n};\n\n//Get the top most ones of a list of nodes\n_CoSELayout.prototype.getTopMostNodes = function (nodes) {\n  var nodesMap = {};\n  for (var i = 0; i < nodes.length; i++) {\n    nodesMap[nodes[i].id()] = true;\n  }\n  var roots = nodes.filter(function (ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var parent = ele.parent()[0];\n    while (parent != null) {\n      if (nodesMap[parent.id()]) {\n        return false;\n      }\n      parent = parent.parent()[0];\n    }\n    return true;\n  });\n\n  return roots;\n};\n\n_CoSELayout.prototype.processChildrenList = function (parent, children, layout) {\n  var size = children.length;\n  for (var i = 0; i < size; i++) {\n    var theChild = children[i];\n    var children_of_children = theChild.children();\n    var theNode;\n\n    var dimensions = theChild.layoutDimensions({\n      nodeDimensionsIncludeLabels: this.options.nodeDimensionsIncludeLabels\n    });\n\n    if (theChild.outerWidth() != null && theChild.outerHeight() != null) {\n      theNode = parent.add(new CoSENode(layout.graphManager, new PointD(theChild.position('x') - dimensions.w / 2, theChild.position('y') - dimensions.h / 2), new DimensionD(parseFloat(dimensions.w), parseFloat(dimensions.h))));\n    } else {\n      theNode = parent.add(new CoSENode(this.graphManager));\n    }\n    // Attach id to the layout node\n    theNode.id = theChild.data(\"id\");\n    // Attach the paddings of cy node to layout node\n    theNode.paddingLeft = parseInt(theChild.css('padding'));\n    theNode.paddingTop = parseInt(theChild.css('padding'));\n    theNode.paddingRight = parseInt(theChild.css('padding'));\n    theNode.paddingBottom = parseInt(theChild.css('padding'));\n\n    //Attach the label properties to compound if labels will be included in node dimensions  \n    if (this.options.nodeDimensionsIncludeLabels) {\n      if (theChild.isParent()) {\n        var labelWidth = theChild.boundingBox({ includeLabels: true, includeNodes: false }).w;\n        var labelHeight = theChild.boundingBox({ includeLabels: true, includeNodes: false }).h;\n        var labelPos = theChild.css(\"text-halign\");\n        theNode.labelWidth = labelWidth;\n        theNode.labelHeight = labelHeight;\n        theNode.labelPos = labelPos;\n      }\n    }\n\n    // Map the layout node\n    this.idToLNode[theChild.data(\"id\")] = theNode;\n\n    if (isNaN(theNode.rect.x)) {\n      theNode.rect.x = 0;\n    }\n\n    if (isNaN(theNode.rect.y)) {\n      theNode.rect.y = 0;\n    }\n\n    if (children_of_children != null && children_of_children.length > 0) {\n      var theNewGraph;\n      theNewGraph = layout.getGraphManager().add(layout.newGraph(), theNode);\n      this.processChildrenList(theNewGraph, children_of_children, layout);\n    }\n  }\n};\n\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\n_CoSELayout.prototype.stop = function () {\n  this.stopped = true;\n\n  return this; // chaining\n};\n\nvar register = function register(cytoscape) {\n  //  var Layout = getLayout( cytoscape );\n\n  cytoscape('layout', 'cose-bilkent', _CoSELayout);\n};\n\n// auto reg for globals\nif (typeof cytoscape !== 'undefined') {\n  register(cytoscape);\n}\n\nmodule.exports = register;\n\n/***/ })\n/******/ ]);\n});","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"layoutBase\"] = factory();\n\telse\n\t\troot[\"layoutBase\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LayoutConstants() {}\n\n/**\r\n * Layout Quality: 0:draft, 1:default, 2:proof\r\n */\nLayoutConstants.QUALITY = 1;\n\n/**\r\n * Default parameters\r\n */\nLayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED = false;\nLayoutConstants.DEFAULT_INCREMENTAL = false;\nLayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT = true;\nLayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT = false;\nLayoutConstants.DEFAULT_ANIMATION_PERIOD = 50;\nLayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES = false;\n\n// -----------------------------------------------------------------------------\n// Section: General other constants\n// -----------------------------------------------------------------------------\n/*\r\n * Margins of a graph to be applied on bouding rectangle of its contents. We\r\n * assume margins on all four sides to be uniform.\r\n */\nLayoutConstants.DEFAULT_GRAPH_MARGIN = 15;\n\n/*\r\n * Whether to consider labels in node dimensions or not\r\n */\nLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = false;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_SIZE = 40;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_HALF_SIZE = LayoutConstants.SIMPLE_NODE_SIZE / 2;\n\n/*\r\n * Empty compound node size. When a compound node is empty, its both\r\n * dimensions should be of this value.\r\n */\nLayoutConstants.EMPTY_COMPOUND_NODE_SIZE = 40;\n\n/*\r\n * Minimum length that an edge should take during layout\r\n */\nLayoutConstants.MIN_EDGE_LENGTH = 1;\n\n/*\r\n * World boundaries that layout operates on\r\n */\nLayoutConstants.WORLD_BOUNDARY = 1000000;\n\n/*\r\n * World boundaries that random positioning can be performed with\r\n */\nLayoutConstants.INITIAL_WORLD_BOUNDARY = LayoutConstants.WORLD_BOUNDARY / 1000;\n\n/*\r\n * Coordinates of the world center\r\n */\nLayoutConstants.WORLD_CENTER_X = 1200;\nLayoutConstants.WORLD_CENTER_Y = 900;\n\nmodule.exports = LayoutConstants;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction LEdge(source, target, vEdge) {\n  LGraphObject.call(this, vEdge);\n\n  this.isOverlapingSourceAndTarget = false;\n  this.vGraphObject = vEdge;\n  this.bendpoints = [];\n  this.source = source;\n  this.target = target;\n}\n\nLEdge.prototype = Object.create(LGraphObject.prototype);\n\nfor (var prop in LGraphObject) {\n  LEdge[prop] = LGraphObject[prop];\n}\n\nLEdge.prototype.getSource = function () {\n  return this.source;\n};\n\nLEdge.prototype.getTarget = function () {\n  return this.target;\n};\n\nLEdge.prototype.isInterGraph = function () {\n  return this.isInterGraph;\n};\n\nLEdge.prototype.getLength = function () {\n  return this.length;\n};\n\nLEdge.prototype.isOverlapingSourceAndTarget = function () {\n  return this.isOverlapingSourceAndTarget;\n};\n\nLEdge.prototype.getBendpoints = function () {\n  return this.bendpoints;\n};\n\nLEdge.prototype.getLca = function () {\n  return this.lca;\n};\n\nLEdge.prototype.getSourceInLca = function () {\n  return this.sourceInLca;\n};\n\nLEdge.prototype.getTargetInLca = function () {\n  return this.targetInLca;\n};\n\nLEdge.prototype.getOtherEnd = function (node) {\n  if (this.source === node) {\n    return this.target;\n  } else if (this.target === node) {\n    return this.source;\n  } else {\n    throw \"Node is not incident with this edge\";\n  }\n};\n\nLEdge.prototype.getOtherEndInGraph = function (node, graph) {\n  var otherEnd = this.getOtherEnd(node);\n  var root = graph.getGraphManager().getRoot();\n\n  while (true) {\n    if (otherEnd.getOwner() == graph) {\n      return otherEnd;\n    }\n\n    if (otherEnd.getOwner() == root) {\n      break;\n    }\n\n    otherEnd = otherEnd.getOwner().getParent();\n  }\n\n  return null;\n};\n\nLEdge.prototype.updateLength = function () {\n  var clipPointCoordinates = new Array(4);\n\n  this.isOverlapingSourceAndTarget = IGeometry.getIntersection(this.target.getRect(), this.source.getRect(), clipPointCoordinates);\n\n  if (!this.isOverlapingSourceAndTarget) {\n    this.lengthX = clipPointCoordinates[0] - clipPointCoordinates[2];\n    this.lengthY = clipPointCoordinates[1] - clipPointCoordinates[3];\n\n    if (Math.abs(this.lengthX) < 1.0) {\n      this.lengthX = IMath.sign(this.lengthX);\n    }\n\n    if (Math.abs(this.lengthY) < 1.0) {\n      this.lengthY = IMath.sign(this.lengthY);\n    }\n\n    this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n  }\n};\n\nLEdge.prototype.updateLengthSimple = function () {\n  this.lengthX = this.target.getCenterX() - this.source.getCenterX();\n  this.lengthY = this.target.getCenterY() - this.source.getCenterY();\n\n  if (Math.abs(this.lengthX) < 1.0) {\n    this.lengthX = IMath.sign(this.lengthX);\n  }\n\n  if (Math.abs(this.lengthY) < 1.0) {\n    this.lengthY = IMath.sign(this.lengthY);\n  }\n\n  this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n};\n\nmodule.exports = LEdge;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LGraphObject(vGraphObject) {\n  this.vGraphObject = vGraphObject;\n}\n\nmodule.exports = LGraphObject;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar RectangleD = __webpack_require__(13);\nvar LayoutConstants = __webpack_require__(0);\nvar RandomSeed = __webpack_require__(16);\nvar PointD = __webpack_require__(4);\n\nfunction LNode(gm, loc, size, vNode) {\n  //Alternative constructor 1 : LNode(LGraphManager gm, Point loc, Dimension size, Object vNode)\n  if (size == null && vNode == null) {\n    vNode = loc;\n  }\n\n  LGraphObject.call(this, vNode);\n\n  //Alternative constructor 2 : LNode(Layout layout, Object vNode)\n  if (gm.graphManager != null) gm = gm.graphManager;\n\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.inclusionTreeDepth = Integer.MAX_VALUE;\n  this.vGraphObject = vNode;\n  this.edges = [];\n  this.graphManager = gm;\n\n  if (size != null && loc != null) this.rect = new RectangleD(loc.x, loc.y, size.width, size.height);else this.rect = new RectangleD();\n}\n\nLNode.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LNode[prop] = LGraphObject[prop];\n}\n\nLNode.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLNode.prototype.getChild = function () {\n  return this.child;\n};\n\nLNode.prototype.getOwner = function () {\n  //  if (this.owner != null) {\n  //    if (!(this.owner == null || this.owner.getNodes().indexOf(this) > -1)) {\n  //      throw \"assert failed\";\n  //    }\n  //  }\n\n  return this.owner;\n};\n\nLNode.prototype.getWidth = function () {\n  return this.rect.width;\n};\n\nLNode.prototype.setWidth = function (width) {\n  this.rect.width = width;\n};\n\nLNode.prototype.getHeight = function () {\n  return this.rect.height;\n};\n\nLNode.prototype.setHeight = function (height) {\n  this.rect.height = height;\n};\n\nLNode.prototype.getCenterX = function () {\n  return this.rect.x + this.rect.width / 2;\n};\n\nLNode.prototype.getCenterY = function () {\n  return this.rect.y + this.rect.height / 2;\n};\n\nLNode.prototype.getCenter = function () {\n  return new PointD(this.rect.x + this.rect.width / 2, this.rect.y + this.rect.height / 2);\n};\n\nLNode.prototype.getLocation = function () {\n  return new PointD(this.rect.x, this.rect.y);\n};\n\nLNode.prototype.getRect = function () {\n  return this.rect;\n};\n\nLNode.prototype.getDiagonal = function () {\n  return Math.sqrt(this.rect.width * this.rect.width + this.rect.height * this.rect.height);\n};\n\n/**\n * This method returns half the diagonal length of this node.\n */\nLNode.prototype.getHalfTheDiagonal = function () {\n  return Math.sqrt(this.rect.height * this.rect.height + this.rect.width * this.rect.width) / 2;\n};\n\nLNode.prototype.setRect = function (upperLeft, dimension) {\n  this.rect.x = upperLeft.x;\n  this.rect.y = upperLeft.y;\n  this.rect.width = dimension.width;\n  this.rect.height = dimension.height;\n};\n\nLNode.prototype.setCenter = function (cx, cy) {\n  this.rect.x = cx - this.rect.width / 2;\n  this.rect.y = cy - this.rect.height / 2;\n};\n\nLNode.prototype.setLocation = function (x, y) {\n  this.rect.x = x;\n  this.rect.y = y;\n};\n\nLNode.prototype.moveBy = function (dx, dy) {\n  this.rect.x += dx;\n  this.rect.y += dy;\n};\n\nLNode.prototype.getEdgeListToNode = function (to) {\n  var edgeList = [];\n  var edge;\n  var self = this;\n\n  self.edges.forEach(function (edge) {\n\n    if (edge.target == to) {\n      if (edge.source != self) throw \"Incorrect edge source!\";\n\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getEdgesBetween = function (other) {\n  var edgeList = [];\n  var edge;\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (!(edge.source == self || edge.target == self)) throw \"Incorrect edge source and/or target\";\n\n    if (edge.target == other || edge.source == other) {\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getNeighborsList = function () {\n  var neighbors = new Set();\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (edge.source == self) {\n      neighbors.add(edge.target);\n    } else {\n      if (edge.target != self) {\n        throw \"Incorrect incidency!\";\n      }\n\n      neighbors.add(edge.source);\n    }\n  });\n\n  return neighbors;\n};\n\nLNode.prototype.withChildren = function () {\n  var withNeighborsList = new Set();\n  var childNode;\n  var children;\n\n  withNeighborsList.add(this);\n\n  if (this.child != null) {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n      children = childNode.withChildren();\n      children.forEach(function (node) {\n        withNeighborsList.add(node);\n      });\n    }\n  }\n\n  return withNeighborsList;\n};\n\nLNode.prototype.getNoOfChildren = function () {\n  var noOfChildren = 0;\n  var childNode;\n\n  if (this.child == null) {\n    noOfChildren = 1;\n  } else {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n\n      noOfChildren += childNode.getNoOfChildren();\n    }\n  }\n\n  if (noOfChildren == 0) {\n    noOfChildren = 1;\n  }\n  return noOfChildren;\n};\n\nLNode.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLNode.prototype.calcEstimatedSize = function () {\n  if (this.child == null) {\n    return this.estimatedSize = (this.rect.width + this.rect.height) / 2;\n  } else {\n    this.estimatedSize = this.child.calcEstimatedSize();\n    this.rect.width = this.estimatedSize;\n    this.rect.height = this.estimatedSize;\n\n    return this.estimatedSize;\n  }\n};\n\nLNode.prototype.scatter = function () {\n  var randomCenterX;\n  var randomCenterY;\n\n  var minX = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxX = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterX = LayoutConstants.WORLD_CENTER_X + RandomSeed.nextDouble() * (maxX - minX) + minX;\n\n  var minY = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxY = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterY = LayoutConstants.WORLD_CENTER_Y + RandomSeed.nextDouble() * (maxY - minY) + minY;\n\n  this.rect.x = randomCenterX;\n  this.rect.y = randomCenterY;\n};\n\nLNode.prototype.updateBounds = function () {\n  if (this.getChild() == null) {\n    throw \"assert failed\";\n  }\n  if (this.getChild().getNodes().length != 0) {\n    // wrap the children nodes by re-arranging the boundaries\n    var childGraph = this.getChild();\n    childGraph.updateBounds(true);\n\n    this.rect.x = childGraph.getLeft();\n    this.rect.y = childGraph.getTop();\n\n    this.setWidth(childGraph.getRight() - childGraph.getLeft());\n    this.setHeight(childGraph.getBottom() - childGraph.getTop());\n\n    // Update compound bounds considering its label properties    \n    if (LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS) {\n\n      var width = childGraph.getRight() - childGraph.getLeft();\n      var height = childGraph.getBottom() - childGraph.getTop();\n\n      if (this.labelWidth > width) {\n        this.rect.x -= (this.labelWidth - width) / 2;\n        this.setWidth(this.labelWidth);\n      }\n\n      if (this.labelHeight > height) {\n        if (this.labelPos == \"center\") {\n          this.rect.y -= (this.labelHeight - height) / 2;\n        } else if (this.labelPos == \"top\") {\n          this.rect.y -= this.labelHeight - height;\n        }\n        this.setHeight(this.labelHeight);\n      }\n    }\n  }\n};\n\nLNode.prototype.getInclusionTreeDepth = function () {\n  if (this.inclusionTreeDepth == Integer.MAX_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.inclusionTreeDepth;\n};\n\nLNode.prototype.transform = function (trans) {\n  var left = this.rect.x;\n\n  if (left > LayoutConstants.WORLD_BOUNDARY) {\n    left = LayoutConstants.WORLD_BOUNDARY;\n  } else if (left < -LayoutConstants.WORLD_BOUNDARY) {\n    left = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var top = this.rect.y;\n\n  if (top > LayoutConstants.WORLD_BOUNDARY) {\n    top = LayoutConstants.WORLD_BOUNDARY;\n  } else if (top < -LayoutConstants.WORLD_BOUNDARY) {\n    top = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var leftTop = new PointD(left, top);\n  var vLeftTop = trans.inverseTransformPoint(leftTop);\n\n  this.setLocation(vLeftTop.x, vLeftTop.y);\n};\n\nLNode.prototype.getLeft = function () {\n  return this.rect.x;\n};\n\nLNode.prototype.getRight = function () {\n  return this.rect.x + this.rect.width;\n};\n\nLNode.prototype.getTop = function () {\n  return this.rect.y;\n};\n\nLNode.prototype.getBottom = function () {\n  return this.rect.y + this.rect.height;\n};\n\nLNode.prototype.getParent = function () {\n  if (this.owner == null) {\n    return null;\n  }\n\n  return this.owner.getParent();\n};\n\nmodule.exports = LNode;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction PointD(x, y) {\n  if (x == null && y == null) {\n    this.x = 0;\n    this.y = 0;\n  } else {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nPointD.prototype.getX = function () {\n  return this.x;\n};\n\nPointD.prototype.getY = function () {\n  return this.y;\n};\n\nPointD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nPointD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nPointD.prototype.getDifference = function (pt) {\n  return new DimensionD(this.x - pt.x, this.y - pt.y);\n};\n\nPointD.prototype.getCopy = function () {\n  return new PointD(this.x, this.y);\n};\n\nPointD.prototype.translate = function (dim) {\n  this.x += dim.width;\n  this.y += dim.height;\n  return this;\n};\n\nmodule.exports = PointD;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar RectangleD = __webpack_require__(13);\nvar Point = __webpack_require__(12);\nvar LinkedList = __webpack_require__(11);\n\nfunction LGraph(parent, obj2, vGraph) {\n  LGraphObject.call(this, vGraph);\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.margin = LayoutConstants.DEFAULT_GRAPH_MARGIN;\n  this.edges = [];\n  this.nodes = [];\n  this.isConnected = false;\n  this.parent = parent;\n\n  if (obj2 != null && obj2 instanceof LGraphManager) {\n    this.graphManager = obj2;\n  } else if (obj2 != null && obj2 instanceof Layout) {\n    this.graphManager = obj2.graphManager;\n  }\n}\n\nLGraph.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LGraph[prop] = LGraphObject[prop];\n}\n\nLGraph.prototype.getNodes = function () {\n  return this.nodes;\n};\n\nLGraph.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLGraph.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLGraph.prototype.getParent = function () {\n  return this.parent;\n};\n\nLGraph.prototype.getLeft = function () {\n  return this.left;\n};\n\nLGraph.prototype.getRight = function () {\n  return this.right;\n};\n\nLGraph.prototype.getTop = function () {\n  return this.top;\n};\n\nLGraph.prototype.getBottom = function () {\n  return this.bottom;\n};\n\nLGraph.prototype.isConnected = function () {\n  return this.isConnected;\n};\n\nLGraph.prototype.add = function (obj1, sourceNode, targetNode) {\n  if (sourceNode == null && targetNode == null) {\n    var newNode = obj1;\n    if (this.graphManager == null) {\n      throw \"Graph has no graph mgr!\";\n    }\n    if (this.getNodes().indexOf(newNode) > -1) {\n      throw \"Node already in graph!\";\n    }\n    newNode.owner = this;\n    this.getNodes().push(newNode);\n\n    return newNode;\n  } else {\n    var newEdge = obj1;\n    if (!(this.getNodes().indexOf(sourceNode) > -1 && this.getNodes().indexOf(targetNode) > -1)) {\n      throw \"Source or target not in graph!\";\n    }\n\n    if (!(sourceNode.owner == targetNode.owner && sourceNode.owner == this)) {\n      throw \"Both owners must be this graph!\";\n    }\n\n    if (sourceNode.owner != targetNode.owner) {\n      return null;\n    }\n\n    // set source and target\n    newEdge.source = sourceNode;\n    newEdge.target = targetNode;\n\n    // set as intra-graph edge\n    newEdge.isInterGraph = false;\n\n    // add to graph edge list\n    this.getEdges().push(newEdge);\n\n    // add to incidency lists\n    sourceNode.edges.push(newEdge);\n\n    if (targetNode != sourceNode) {\n      targetNode.edges.push(newEdge);\n    }\n\n    return newEdge;\n  }\n};\n\nLGraph.prototype.remove = function (obj) {\n  var node = obj;\n  if (obj instanceof LNode) {\n    if (node == null) {\n      throw \"Node is null!\";\n    }\n    if (!(node.owner != null && node.owner == this)) {\n      throw \"Owner graph is invalid!\";\n    }\n    if (this.graphManager == null) {\n      throw \"Owner graph manager is invalid!\";\n    }\n    // remove incident edges first (make a copy to do it safely)\n    var edgesToBeRemoved = node.edges.slice();\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n\n      if (edge.isInterGraph) {\n        this.graphManager.remove(edge);\n      } else {\n        edge.source.owner.remove(edge);\n      }\n    }\n\n    // now the node itself\n    var index = this.nodes.indexOf(node);\n    if (index == -1) {\n      throw \"Node not in owner node list!\";\n    }\n\n    this.nodes.splice(index, 1);\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n    if (!(edge.source.owner != null && edge.target.owner != null && edge.source.owner == this && edge.target.owner == this)) {\n      throw \"Source and/or target owner is invalid!\";\n    }\n\n    var sourceIndex = edge.source.edges.indexOf(edge);\n    var targetIndex = edge.target.edges.indexOf(edge);\n    if (!(sourceIndex > -1 && targetIndex > -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    edge.source.edges.splice(sourceIndex, 1);\n\n    if (edge.target != edge.source) {\n      edge.target.edges.splice(targetIndex, 1);\n    }\n\n    var index = edge.source.owner.getEdges().indexOf(edge);\n    if (index == -1) {\n      throw \"Not in owner's edge list!\";\n    }\n\n    edge.source.owner.getEdges().splice(index, 1);\n  }\n};\n\nLGraph.prototype.updateLeftTop = function () {\n  var top = Integer.MAX_VALUE;\n  var left = Integer.MAX_VALUE;\n  var nodeTop;\n  var nodeLeft;\n  var margin;\n\n  var nodes = this.getNodes();\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeTop = lNode.getTop();\n    nodeLeft = lNode.getLeft();\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n  }\n\n  // Do we have any nodes in this graph?\n  if (top == Integer.MAX_VALUE) {\n    return null;\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = left - margin;\n  this.top = top - margin;\n\n  // Apply the margins and return the result\n  return new Point(this.left, this.top);\n};\n\nLGraph.prototype.updateBounds = function (recursive) {\n  // calculate bounds\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n  var margin;\n\n  var nodes = this.nodes;\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n\n    if (recursive && lNode.child != null) {\n      lNode.updateBounds();\n    }\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n  if (left == Integer.MAX_VALUE) {\n    this.left = this.parent.getLeft();\n    this.right = this.parent.getRight();\n    this.top = this.parent.getTop();\n    this.bottom = this.parent.getBottom();\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = boundingRect.x - margin;\n  this.right = boundingRect.x + boundingRect.width + margin;\n  this.top = boundingRect.y - margin;\n  this.bottom = boundingRect.y + boundingRect.height + margin;\n};\n\nLGraph.calculateBounds = function (nodes) {\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n\n  return boundingRect;\n};\n\nLGraph.prototype.getInclusionTreeDepth = function () {\n  if (this == this.graphManager.getRoot()) {\n    return 1;\n  } else {\n    return this.parent.getInclusionTreeDepth();\n  }\n};\n\nLGraph.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLGraph.prototype.calcEstimatedSize = function () {\n  var size = 0;\n  var nodes = this.nodes;\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    size += lNode.calcEstimatedSize();\n  }\n\n  if (size == 0) {\n    this.estimatedSize = LayoutConstants.EMPTY_COMPOUND_NODE_SIZE;\n  } else {\n    this.estimatedSize = size / Math.sqrt(this.nodes.length);\n  }\n\n  return this.estimatedSize;\n};\n\nLGraph.prototype.updateConnected = function () {\n  var self = this;\n  if (this.nodes.length == 0) {\n    this.isConnected = true;\n    return;\n  }\n\n  var queue = new LinkedList();\n  var visited = new Set();\n  var currentNode = this.nodes[0];\n  var neighborEdges;\n  var currentNeighbor;\n  var childrenOfNode = currentNode.withChildren();\n  childrenOfNode.forEach(function (node) {\n    queue.push(node);\n    visited.add(node);\n  });\n\n  while (queue.length !== 0) {\n    currentNode = queue.shift();\n\n    // Traverse all neighbors of this node\n    neighborEdges = currentNode.getEdges();\n    var size = neighborEdges.length;\n    for (var i = 0; i < size; i++) {\n      var neighborEdge = neighborEdges[i];\n      currentNeighbor = neighborEdge.getOtherEndInGraph(currentNode, this);\n\n      // Add unvisited neighbors to the list to visit\n      if (currentNeighbor != null && !visited.has(currentNeighbor)) {\n        var childrenOfNeighbor = currentNeighbor.withChildren();\n\n        childrenOfNeighbor.forEach(function (node) {\n          queue.push(node);\n          visited.add(node);\n        });\n      }\n    }\n  }\n\n  this.isConnected = false;\n\n  if (visited.size >= this.nodes.length) {\n    var noOfVisitedInThisGraph = 0;\n\n    visited.forEach(function (visitedNode) {\n      if (visitedNode.owner == self) {\n        noOfVisitedInThisGraph++;\n      }\n    });\n\n    if (noOfVisitedInThisGraph == this.nodes.length) {\n      this.isConnected = true;\n    }\n  }\n};\n\nmodule.exports = LGraph;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraph;\nvar LEdge = __webpack_require__(1);\n\nfunction LGraphManager(layout) {\n  LGraph = __webpack_require__(5); // It may be better to initilize this out of this function but it gives an error (Right-hand side of 'instanceof' is not callable) now.\n  this.layout = layout;\n\n  this.graphs = [];\n  this.edges = [];\n}\n\nLGraphManager.prototype.addRoot = function () {\n  var ngraph = this.layout.newGraph();\n  var nnode = this.layout.newNode(null);\n  var root = this.add(ngraph, nnode);\n  this.setRootGraph(root);\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.add = function (newGraph, parentNode, newEdge, sourceNode, targetNode) {\n  //there are just 2 parameters are passed then it adds an LGraph else it adds an LEdge\n  if (newEdge == null && sourceNode == null && targetNode == null) {\n    if (newGraph == null) {\n      throw \"Graph is null!\";\n    }\n    if (parentNode == null) {\n      throw \"Parent node is null!\";\n    }\n    if (this.graphs.indexOf(newGraph) > -1) {\n      throw \"Graph already in this graph mgr!\";\n    }\n\n    this.graphs.push(newGraph);\n\n    if (newGraph.parent != null) {\n      throw \"Already has a parent!\";\n    }\n    if (parentNode.child != null) {\n      throw \"Already has a child!\";\n    }\n\n    newGraph.parent = parentNode;\n    parentNode.child = newGraph;\n\n    return newGraph;\n  } else {\n    //change the order of the parameters\n    targetNode = newEdge;\n    sourceNode = parentNode;\n    newEdge = newGraph;\n    var sourceGraph = sourceNode.getOwner();\n    var targetGraph = targetNode.getOwner();\n\n    if (!(sourceGraph != null && sourceGraph.getGraphManager() == this)) {\n      throw \"Source not in this graph mgr!\";\n    }\n    if (!(targetGraph != null && targetGraph.getGraphManager() == this)) {\n      throw \"Target not in this graph mgr!\";\n    }\n\n    if (sourceGraph == targetGraph) {\n      newEdge.isInterGraph = false;\n      return sourceGraph.add(newEdge, sourceNode, targetNode);\n    } else {\n      newEdge.isInterGraph = true;\n\n      // set source and target\n      newEdge.source = sourceNode;\n      newEdge.target = targetNode;\n\n      // add edge to inter-graph edge list\n      if (this.edges.indexOf(newEdge) > -1) {\n        throw \"Edge already in inter-graph edge list!\";\n      }\n\n      this.edges.push(newEdge);\n\n      // add edge to source and target incidency lists\n      if (!(newEdge.source != null && newEdge.target != null)) {\n        throw \"Edge source and/or target is null!\";\n      }\n\n      if (!(newEdge.source.edges.indexOf(newEdge) == -1 && newEdge.target.edges.indexOf(newEdge) == -1)) {\n        throw \"Edge already in source and/or target incidency list!\";\n      }\n\n      newEdge.source.edges.push(newEdge);\n      newEdge.target.edges.push(newEdge);\n\n      return newEdge;\n    }\n  }\n};\n\nLGraphManager.prototype.remove = function (lObj) {\n  if (lObj instanceof LGraph) {\n    var graph = lObj;\n    if (graph.getGraphManager() != this) {\n      throw \"Graph not in this graph mgr\";\n    }\n    if (!(graph == this.rootGraph || graph.parent != null && graph.parent.graphManager == this)) {\n      throw \"Invalid parent node!\";\n    }\n\n    // first the edges (make a copy to do it safely)\n    var edgesToBeRemoved = [];\n\n    edgesToBeRemoved = edgesToBeRemoved.concat(graph.getEdges());\n\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n      graph.remove(edge);\n    }\n\n    // then the nodes (make a copy to do it safely)\n    var nodesToBeRemoved = [];\n\n    nodesToBeRemoved = nodesToBeRemoved.concat(graph.getNodes());\n\n    var node;\n    s = nodesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      node = nodesToBeRemoved[i];\n      graph.remove(node);\n    }\n\n    // check if graph is the root\n    if (graph == this.rootGraph) {\n      this.setRootGraph(null);\n    }\n\n    // now remove the graph itself\n    var index = this.graphs.indexOf(graph);\n    this.graphs.splice(index, 1);\n\n    // also reset the parent of the graph\n    graph.parent = null;\n  } else if (lObj instanceof LEdge) {\n    edge = lObj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!edge.isInterGraph) {\n      throw \"Not an inter-graph edge!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n\n    // remove edge from source and target nodes' incidency lists\n\n    if (!(edge.source.edges.indexOf(edge) != -1 && edge.target.edges.indexOf(edge) != -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    var index = edge.source.edges.indexOf(edge);\n    edge.source.edges.splice(index, 1);\n    index = edge.target.edges.indexOf(edge);\n    edge.target.edges.splice(index, 1);\n\n    // remove edge from owner graph manager's inter-graph edge list\n\n    if (!(edge.source.owner != null && edge.source.owner.getGraphManager() != null)) {\n      throw \"Edge owner graph or owner graph manager is null!\";\n    }\n    if (edge.source.owner.getGraphManager().edges.indexOf(edge) == -1) {\n      throw \"Not in owner graph manager's edge list!\";\n    }\n\n    var index = edge.source.owner.getGraphManager().edges.indexOf(edge);\n    edge.source.owner.getGraphManager().edges.splice(index, 1);\n  }\n};\n\nLGraphManager.prototype.updateBounds = function () {\n  this.rootGraph.updateBounds(true);\n};\n\nLGraphManager.prototype.getGraphs = function () {\n  return this.graphs;\n};\n\nLGraphManager.prototype.getAllNodes = function () {\n  if (this.allNodes == null) {\n    var nodeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < s; i++) {\n      nodeList = nodeList.concat(graphs[i].getNodes());\n    }\n    this.allNodes = nodeList;\n  }\n  return this.allNodes;\n};\n\nLGraphManager.prototype.resetAllNodes = function () {\n  this.allNodes = null;\n};\n\nLGraphManager.prototype.resetAllEdges = function () {\n  this.allEdges = null;\n};\n\nLGraphManager.prototype.resetAllNodesToApplyGravitation = function () {\n  this.allNodesToApplyGravitation = null;\n};\n\nLGraphManager.prototype.getAllEdges = function () {\n  if (this.allEdges == null) {\n    var edgeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < graphs.length; i++) {\n      edgeList = edgeList.concat(graphs[i].getEdges());\n    }\n\n    edgeList = edgeList.concat(this.edges);\n\n    this.allEdges = edgeList;\n  }\n  return this.allEdges;\n};\n\nLGraphManager.prototype.getAllNodesToApplyGravitation = function () {\n  return this.allNodesToApplyGravitation;\n};\n\nLGraphManager.prototype.setAllNodesToApplyGravitation = function (nodeList) {\n  if (this.allNodesToApplyGravitation != null) {\n    throw \"assert failed\";\n  }\n\n  this.allNodesToApplyGravitation = nodeList;\n};\n\nLGraphManager.prototype.getRoot = function () {\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.setRootGraph = function (graph) {\n  if (graph.getGraphManager() != this) {\n    throw \"Root not in this graph mgr!\";\n  }\n\n  this.rootGraph = graph;\n  // root graph must have a root node associated with it for convenience\n  if (graph.parent == null) {\n    graph.parent = this.layout.newNode(\"Root node\");\n  }\n};\n\nLGraphManager.prototype.getLayout = function () {\n  return this.layout;\n};\n\nLGraphManager.prototype.isOneAncestorOfOther = function (firstNode, secondNode) {\n  if (!(firstNode != null && secondNode != null)) {\n    throw \"assert failed\";\n  }\n\n  if (firstNode == secondNode) {\n    return true;\n  }\n  // Is second node an ancestor of the first one?\n  var ownerGraph = firstNode.getOwner();\n  var parentNode;\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == secondNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n  // Is first node an ancestor of the second one?\n  ownerGraph = secondNode.getOwner();\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == firstNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n\n  return false;\n};\n\nLGraphManager.prototype.calcLowestCommonAncestors = function () {\n  var edge;\n  var sourceNode;\n  var targetNode;\n  var sourceAncestorGraph;\n  var targetAncestorGraph;\n\n  var edges = this.getAllEdges();\n  var s = edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = edges[i];\n\n    sourceNode = edge.source;\n    targetNode = edge.target;\n    edge.lca = null;\n    edge.sourceInLca = sourceNode;\n    edge.targetInLca = targetNode;\n\n    if (sourceNode == targetNode) {\n      edge.lca = sourceNode.getOwner();\n      continue;\n    }\n\n    sourceAncestorGraph = sourceNode.getOwner();\n\n    while (edge.lca == null) {\n      edge.targetInLca = targetNode;\n      targetAncestorGraph = targetNode.getOwner();\n\n      while (edge.lca == null) {\n        if (targetAncestorGraph == sourceAncestorGraph) {\n          edge.lca = targetAncestorGraph;\n          break;\n        }\n\n        if (targetAncestorGraph == this.rootGraph) {\n          break;\n        }\n\n        if (edge.lca != null) {\n          throw \"assert failed\";\n        }\n        edge.targetInLca = targetAncestorGraph.getParent();\n        targetAncestorGraph = edge.targetInLca.getOwner();\n      }\n\n      if (sourceAncestorGraph == this.rootGraph) {\n        break;\n      }\n\n      if (edge.lca == null) {\n        edge.sourceInLca = sourceAncestorGraph.getParent();\n        sourceAncestorGraph = edge.sourceInLca.getOwner();\n      }\n    }\n\n    if (edge.lca == null) {\n      throw \"assert failed\";\n    }\n  }\n};\n\nLGraphManager.prototype.calcLowestCommonAncestor = function (firstNode, secondNode) {\n  if (firstNode == secondNode) {\n    return firstNode.getOwner();\n  }\n  var firstOwnerGraph = firstNode.getOwner();\n\n  do {\n    if (firstOwnerGraph == null) {\n      break;\n    }\n    var secondOwnerGraph = secondNode.getOwner();\n\n    do {\n      if (secondOwnerGraph == null) {\n        break;\n      }\n\n      if (secondOwnerGraph == firstOwnerGraph) {\n        return secondOwnerGraph;\n      }\n      secondOwnerGraph = secondOwnerGraph.getParent().getOwner();\n    } while (true);\n\n    firstOwnerGraph = firstOwnerGraph.getParent().getOwner();\n  } while (true);\n\n  return firstOwnerGraph;\n};\n\nLGraphManager.prototype.calcInclusionTreeDepths = function (graph, depth) {\n  if (graph == null && depth == null) {\n    graph = this.rootGraph;\n    depth = 1;\n  }\n  var node;\n\n  var nodes = graph.getNodes();\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    node = nodes[i];\n    node.inclusionTreeDepth = depth;\n\n    if (node.child != null) {\n      this.calcInclusionTreeDepths(node.child, depth + 1);\n    }\n  }\n};\n\nLGraphManager.prototype.includesInvalidEdge = function () {\n  var edge;\n\n  var s = this.edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = this.edges[i];\n\n    if (this.isOneAncestorOfOther(edge.source, edge.target)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = LGraphManager;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0);\n\nfunction FDLayoutConstants() {}\n\n//FDLayoutConstants inherits static props in LayoutConstants\nfor (var prop in LayoutConstants) {\n  FDLayoutConstants[prop] = LayoutConstants[prop];\n}\n\nFDLayoutConstants.MAX_ITERATIONS = 2500;\n\nFDLayoutConstants.DEFAULT_EDGE_LENGTH = 50;\nFDLayoutConstants.DEFAULT_SPRING_STRENGTH = 0.45;\nFDLayoutConstants.DEFAULT_REPULSION_STRENGTH = 4500.0;\nFDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = 0.4;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = 1.0;\nFDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = 3.8;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = 1.5;\nFDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION = true;\nFDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION = true;\nFDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = 0.3;\nFDLayoutConstants.COOLING_ADAPTATION_FACTOR = 0.33;\nFDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT = 1000;\nFDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT = 5000;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL = 100.0;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL * 3;\nFDLayoutConstants.MIN_REPULSION_DIST = FDLayoutConstants.DEFAULT_EDGE_LENGTH / 10.0;\nFDLayoutConstants.CONVERGENCE_CHECK_PERIOD = 100;\nFDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = 0.1;\nFDLayoutConstants.MIN_EDGE_LENGTH = 1;\nFDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD = 10;\n\nmodule.exports = FDLayoutConstants;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class maintains a list of static geometry related utility methods.\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar Point = __webpack_require__(12);\n\nfunction IGeometry() {}\n\n/**\n * This method calculates *half* the amount in x and y directions of the two\n * input rectangles needed to separate them keeping their respective\n * positioning, and returns the result in the input array. An input\n * separation buffer added to the amount in both directions. We assume that\n * the two rectangles do intersect.\n */\nIGeometry.calcSeparationAmount = function (rectA, rectB, overlapAmount, separationBuffer) {\n  if (!rectA.intersects(rectB)) {\n    throw \"assert failed\";\n  }\n\n  var directions = new Array(2);\n\n  this.decideDirectionsForOverlappingNodes(rectA, rectB, directions);\n\n  overlapAmount[0] = Math.min(rectA.getRight(), rectB.getRight()) - Math.max(rectA.x, rectB.x);\n  overlapAmount[1] = Math.min(rectA.getBottom(), rectB.getBottom()) - Math.max(rectA.y, rectB.y);\n\n  // update the overlapping amounts for the following cases:\n  if (rectA.getX() <= rectB.getX() && rectA.getRight() >= rectB.getRight()) {\n    /* Case x.1:\n    *\n    * rectA\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectB\n    */\n    overlapAmount[0] += Math.min(rectB.getX() - rectA.getX(), rectA.getRight() - rectB.getRight());\n  } else if (rectB.getX() <= rectA.getX() && rectB.getRight() >= rectA.getRight()) {\n    /* Case x.2:\n    *\n    * rectB\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectA\n    */\n    overlapAmount[0] += Math.min(rectA.getX() - rectB.getX(), rectB.getRight() - rectA.getRight());\n  }\n  if (rectA.getY() <= rectB.getY() && rectA.getBottom() >= rectB.getBottom()) {\n    /* Case y.1:\n     *          ________ rectA\n     *         |\n     *         |\n     *   ______|____  rectB\n     *         |    |\n     *         |    |\n     *   ______|____|\n     *         |\n     *         |\n     *         |________\n     *\n     */\n    overlapAmount[1] += Math.min(rectB.getY() - rectA.getY(), rectA.getBottom() - rectB.getBottom());\n  } else if (rectB.getY() <= rectA.getY() && rectB.getBottom() >= rectA.getBottom()) {\n    /* Case y.2:\n    *          ________ rectB\n    *         |\n    *         |\n    *   ______|____  rectA\n    *         |    |\n    *         |    |\n    *   ______|____|\n    *         |\n    *         |\n    *         |________\n    *\n    */\n    overlapAmount[1] += Math.min(rectA.getY() - rectB.getY(), rectB.getBottom() - rectA.getBottom());\n  }\n\n  // find slope of the line passes two centers\n  var slope = Math.abs((rectB.getCenterY() - rectA.getCenterY()) / (rectB.getCenterX() - rectA.getCenterX()));\n  // if centers are overlapped\n  if (rectB.getCenterY() === rectA.getCenterY() && rectB.getCenterX() === rectA.getCenterX()) {\n    // assume the slope is 1 (45 degree)\n    slope = 1.0;\n  }\n\n  var moveByY = slope * overlapAmount[0];\n  var moveByX = overlapAmount[1] / slope;\n  if (overlapAmount[0] < moveByX) {\n    moveByX = overlapAmount[0];\n  } else {\n    moveByY = overlapAmount[1];\n  }\n  // return half the amount so that if each rectangle is moved by these\n  // amounts in opposite directions, overlap will be resolved\n  overlapAmount[0] = -1 * directions[0] * (moveByX / 2 + separationBuffer);\n  overlapAmount[1] = -1 * directions[1] * (moveByY / 2 + separationBuffer);\n};\n\n/**\n * This method decides the separation direction of overlapping nodes\n *\n * if directions[0] = -1, then rectA goes left\n * if directions[0] = 1,  then rectA goes right\n * if directions[1] = -1, then rectA goes up\n * if directions[1] = 1,  then rectA goes down\n */\nIGeometry.decideDirectionsForOverlappingNodes = function (rectA, rectB, directions) {\n  if (rectA.getCenterX() < rectB.getCenterX()) {\n    directions[0] = -1;\n  } else {\n    directions[0] = 1;\n  }\n\n  if (rectA.getCenterY() < rectB.getCenterY()) {\n    directions[1] = -1;\n  } else {\n    directions[1] = 1;\n  }\n};\n\n/**\n * This method calculates the intersection (clipping) points of the two\n * input rectangles with line segment defined by the centers of these two\n * rectangles. The clipping points are saved in the input double array and\n * whether or not the two rectangles overlap is returned.\n */\nIGeometry.getIntersection2 = function (rectA, rectB, result) {\n  //result[0-1] will contain clipPoint of rectA, result[2-3] will contain clipPoint of rectB\n  var p1x = rectA.getCenterX();\n  var p1y = rectA.getCenterY();\n  var p2x = rectB.getCenterX();\n  var p2y = rectB.getCenterY();\n\n  //if two rectangles intersect, then clipping points are centers\n  if (rectA.intersects(rectB)) {\n    result[0] = p1x;\n    result[1] = p1y;\n    result[2] = p2x;\n    result[3] = p2y;\n    return true;\n  }\n  //variables for rectA\n  var topLeftAx = rectA.getX();\n  var topLeftAy = rectA.getY();\n  var topRightAx = rectA.getRight();\n  var bottomLeftAx = rectA.getX();\n  var bottomLeftAy = rectA.getBottom();\n  var bottomRightAx = rectA.getRight();\n  var halfWidthA = rectA.getWidthHalf();\n  var halfHeightA = rectA.getHeightHalf();\n  //variables for rectB\n  var topLeftBx = rectB.getX();\n  var topLeftBy = rectB.getY();\n  var topRightBx = rectB.getRight();\n  var bottomLeftBx = rectB.getX();\n  var bottomLeftBy = rectB.getBottom();\n  var bottomRightBx = rectB.getRight();\n  var halfWidthB = rectB.getWidthHalf();\n  var halfHeightB = rectB.getHeightHalf();\n\n  //flag whether clipping points are found\n  var clipPointAFound = false;\n  var clipPointBFound = false;\n\n  // line is vertical\n  if (p1x === p2x) {\n    if (p1y > p2y) {\n      result[0] = p1x;\n      result[1] = topLeftAy;\n      result[2] = p2x;\n      result[3] = bottomLeftBy;\n      return false;\n    } else if (p1y < p2y) {\n      result[0] = p1x;\n      result[1] = bottomLeftAy;\n      result[2] = p2x;\n      result[3] = topLeftBy;\n      return false;\n    } else {\n      //not line, return null;\n    }\n  }\n  // line is horizontal\n  else if (p1y === p2y) {\n      if (p1x > p2x) {\n        result[0] = topLeftAx;\n        result[1] = p1y;\n        result[2] = topRightBx;\n        result[3] = p2y;\n        return false;\n      } else if (p1x < p2x) {\n        result[0] = topRightAx;\n        result[1] = p1y;\n        result[2] = topLeftBx;\n        result[3] = p2y;\n        return false;\n      } else {\n        //not valid line, return null;\n      }\n    } else {\n      //slopes of rectA's and rectB's diagonals\n      var slopeA = rectA.height / rectA.width;\n      var slopeB = rectB.height / rectB.width;\n\n      //slope of line between center of rectA and center of rectB\n      var slopePrime = (p2y - p1y) / (p2x - p1x);\n      var cardinalDirectionA = void 0;\n      var cardinalDirectionB = void 0;\n      var tempPointAx = void 0;\n      var tempPointAy = void 0;\n      var tempPointBx = void 0;\n      var tempPointBy = void 0;\n\n      //determine whether clipping point is the corner of nodeA\n      if (-slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = bottomLeftAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = topRightAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        }\n      } else if (slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = topLeftAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = bottomRightAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        }\n      }\n\n      //determine whether clipping point is the corner of nodeB\n      if (-slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = bottomLeftBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = topRightBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        }\n      } else if (slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = topLeftBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = bottomRightBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        }\n      }\n\n      //if both clipping points are corners\n      if (clipPointAFound && clipPointBFound) {\n        return false;\n      }\n\n      //determine Cardinal Direction of rectangles\n      if (p1x > p2x) {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 4);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 2);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 3);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 1);\n        }\n      } else {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 1);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 3);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 2);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 4);\n        }\n      }\n      //calculate clipping Point if it is not found before\n      if (!clipPointAFound) {\n        switch (cardinalDirectionA) {\n          case 1:\n            tempPointAy = topLeftAy;\n            tempPointAx = p1x + -halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 2:\n            tempPointAx = bottomRightAx;\n            tempPointAy = p1y + halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 3:\n            tempPointAy = bottomLeftAy;\n            tempPointAx = p1x + halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 4:\n            tempPointAx = bottomLeftAx;\n            tempPointAy = p1y + -halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n        }\n      }\n      if (!clipPointBFound) {\n        switch (cardinalDirectionB) {\n          case 1:\n            tempPointBy = topLeftBy;\n            tempPointBx = p2x + -halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 2:\n            tempPointBx = bottomRightBx;\n            tempPointBy = p2y + halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 3:\n            tempPointBy = bottomLeftBy;\n            tempPointBx = p2x + halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 4:\n            tempPointBx = bottomLeftBx;\n            tempPointBy = p2y + -halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n        }\n      }\n    }\n  return false;\n};\n\n/**\n * This method returns in which cardinal direction does input point stays\n * 1: North\n * 2: East\n * 3: South\n * 4: West\n */\nIGeometry.getCardinalDirection = function (slope, slopePrime, line) {\n  if (slope > slopePrime) {\n    return line;\n  } else {\n    return 1 + line % 4;\n  }\n};\n\n/**\n * This method calculates the intersection of the two lines defined by\n * point pairs (s1,s2) and (f1,f2).\n */\nIGeometry.getIntersection = function (s1, s2, f1, f2) {\n  if (f2 == null) {\n    return this.getIntersection2(s1, s2, f1);\n  }\n\n  var x1 = s1.x;\n  var y1 = s1.y;\n  var x2 = s2.x;\n  var y2 = s2.y;\n  var x3 = f1.x;\n  var y3 = f1.y;\n  var x4 = f2.x;\n  var y4 = f2.y;\n  var x = void 0,\n      y = void 0; // intersection point\n  var a1 = void 0,\n      a2 = void 0,\n      b1 = void 0,\n      b2 = void 0,\n      c1 = void 0,\n      c2 = void 0; // coefficients of line eqns.\n  var denom = void 0;\n\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = x2 * y1 - x1 * y2; // { a1*x + b1*y + c1 = 0 is line 1 }\n\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = x4 * y3 - x3 * y4; // { a2*x + b2*y + c2 = 0 is line 2 }\n\n  denom = a1 * b2 - a2 * b1;\n\n  if (denom === 0) {\n    return null;\n  }\n\n  x = (b1 * c2 - b2 * c1) / denom;\n  y = (a2 * c1 - a1 * c2) / denom;\n\n  return new Point(x, y);\n};\n\n/**\n * This method finds and returns the angle of the vector from the + x-axis\n * in clockwise direction (compatible w/ Java coordinate system!).\n */\nIGeometry.angleOfVector = function (Cx, Cy, Nx, Ny) {\n  var C_angle = void 0;\n\n  if (Cx !== Nx) {\n    C_angle = Math.atan((Ny - Cy) / (Nx - Cx));\n\n    if (Nx < Cx) {\n      C_angle += Math.PI;\n    } else if (Ny < Cy) {\n      C_angle += this.TWO_PI;\n    }\n  } else if (Ny < Cy) {\n    C_angle = this.ONE_AND_HALF_PI; // 270 degrees\n  } else {\n    C_angle = this.HALF_PI; // 90 degrees\n  }\n\n  return C_angle;\n};\n\n/**\n * This method checks whether the given two line segments (one with point\n * p1 and p2, the other with point p3 and p4) intersect at a point other\n * than these points.\n */\nIGeometry.doIntersect = function (p1, p2, p3, p4) {\n  var a = p1.x;\n  var b = p1.y;\n  var c = p2.x;\n  var d = p2.y;\n  var p = p3.x;\n  var q = p3.y;\n  var r = p4.x;\n  var s = p4.y;\n  var det = (c - a) * (s - q) - (r - p) * (d - b);\n\n  if (det === 0) {\n    return false;\n  } else {\n    var lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    var gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return 0 < lambda && lambda < 1 && 0 < gamma && gamma < 1;\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: Class Constants\n// -----------------------------------------------------------------------------\n/**\n * Some useful pre-calculated constants\n */\nIGeometry.HALF_PI = 0.5 * Math.PI;\nIGeometry.ONE_AND_HALF_PI = 1.5 * Math.PI;\nIGeometry.TWO_PI = 2.0 * Math.PI;\nIGeometry.THREE_PI = 3.0 * Math.PI;\n\nmodule.exports = IGeometry;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction IMath() {}\n\n/**\n * This method returns the sign of the input value.\n */\nIMath.sign = function (value) {\n  if (value > 0) {\n    return 1;\n  } else if (value < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nIMath.floor = function (value) {\n  return value < 0 ? Math.ceil(value) : Math.floor(value);\n};\n\nIMath.ceil = function (value) {\n  return value < 0 ? Math.floor(value) : Math.ceil(value);\n};\n\nmodule.exports = IMath;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Integer() {}\n\nInteger.MAX_VALUE = 2147483647;\nInteger.MIN_VALUE = -2147483648;\n\nmodule.exports = Integer;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar nodeFrom = function nodeFrom(value) {\n  return { value: value, next: null, prev: null };\n};\n\nvar add = function add(prev, node, next, list) {\n  if (prev !== null) {\n    prev.next = node;\n  } else {\n    list.head = node;\n  }\n\n  if (next !== null) {\n    next.prev = node;\n  } else {\n    list.tail = node;\n  }\n\n  node.prev = prev;\n  node.next = next;\n\n  list.length++;\n\n  return node;\n};\n\nvar _remove = function _remove(node, list) {\n  var prev = node.prev,\n      next = node.next;\n\n\n  if (prev !== null) {\n    prev.next = next;\n  } else {\n    list.head = next;\n  }\n\n  if (next !== null) {\n    next.prev = prev;\n  } else {\n    list.tail = prev;\n  }\n\n  node.prev = node.next = null;\n\n  list.length--;\n\n  return node;\n};\n\nvar LinkedList = function () {\n  function LinkedList(vals) {\n    var _this = this;\n\n    _classCallCheck(this, LinkedList);\n\n    this.length = 0;\n    this.head = null;\n    this.tail = null;\n\n    if (vals != null) {\n      vals.forEach(function (v) {\n        return _this.push(v);\n      });\n    }\n  }\n\n  _createClass(LinkedList, [{\n    key: \"size\",\n    value: function size() {\n      return this.length;\n    }\n  }, {\n    key: \"insertBefore\",\n    value: function insertBefore(val, otherNode) {\n      return add(otherNode.prev, nodeFrom(val), otherNode, this);\n    }\n  }, {\n    key: \"insertAfter\",\n    value: function insertAfter(val, otherNode) {\n      return add(otherNode, nodeFrom(val), otherNode.next, this);\n    }\n  }, {\n    key: \"insertNodeBefore\",\n    value: function insertNodeBefore(newNode, otherNode) {\n      return add(otherNode.prev, newNode, otherNode, this);\n    }\n  }, {\n    key: \"insertNodeAfter\",\n    value: function insertNodeAfter(newNode, otherNode) {\n      return add(otherNode, newNode, otherNode.next, this);\n    }\n  }, {\n    key: \"push\",\n    value: function push(val) {\n      return add(this.tail, nodeFrom(val), null, this);\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(val) {\n      return add(null, nodeFrom(val), this.head, this);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(node) {\n      return _remove(node, this);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      return _remove(this.tail, this).value;\n    }\n  }, {\n    key: \"popNode\",\n    value: function popNode() {\n      return _remove(this.tail, this);\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      return _remove(this.head, this).value;\n    }\n  }, {\n    key: \"shiftNode\",\n    value: function shiftNode() {\n      return _remove(this.head, this);\n    }\n  }, {\n    key: \"get_object_at\",\n    value: function get_object_at(index) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        return current.value;\n      }\n    }\n  }, {\n    key: \"set_object_at\",\n    value: function set_object_at(index, value) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        current.value = value;\n      }\n    }\n  }]);\n\n  return LinkedList;\n}();\n\nmodule.exports = LinkedList;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\r\n *This class is the javascript implementation of the Point.java class in jdk\r\n */\nfunction Point(x, y, p) {\n  this.x = null;\n  this.y = null;\n  if (x == null && y == null && p == null) {\n    this.x = 0;\n    this.y = 0;\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    this.x = x;\n    this.y = y;\n  } else if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.x = p.x;\n    this.y = p.y;\n  }\n}\n\nPoint.prototype.getX = function () {\n  return this.x;\n};\n\nPoint.prototype.getY = function () {\n  return this.y;\n};\n\nPoint.prototype.getLocation = function () {\n  return new Point(this.x, this.y);\n};\n\nPoint.prototype.setLocation = function (x, y, p) {\n  if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.setLocation(p.x, p.y);\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    //if both parameters are integer just move (x,y) location\n    if (parseInt(x) == x && parseInt(y) == y) {\n      this.move(x, y);\n    } else {\n      this.x = Math.floor(x + 0.5);\n      this.y = Math.floor(y + 0.5);\n    }\n  }\n};\n\nPoint.prototype.move = function (x, y) {\n  this.x = x;\n  this.y = y;\n};\n\nPoint.prototype.translate = function (dx, dy) {\n  this.x += dx;\n  this.y += dy;\n};\n\nPoint.prototype.equals = function (obj) {\n  if (obj.constructor.name == \"Point\") {\n    var pt = obj;\n    return this.x == pt.x && this.y == pt.y;\n  }\n  return this == obj;\n};\n\nPoint.prototype.toString = function () {\n  return new Point().constructor.name + \"[x=\" + this.x + \",y=\" + this.y + \"]\";\n};\n\nmodule.exports = Point;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RectangleD(x, y, width, height) {\n  this.x = 0;\n  this.y = 0;\n  this.width = 0;\n  this.height = 0;\n\n  if (x != null && y != null && width != null && height != null) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n}\n\nRectangleD.prototype.getX = function () {\n  return this.x;\n};\n\nRectangleD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nRectangleD.prototype.getY = function () {\n  return this.y;\n};\n\nRectangleD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nRectangleD.prototype.getWidth = function () {\n  return this.width;\n};\n\nRectangleD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nRectangleD.prototype.getHeight = function () {\n  return this.height;\n};\n\nRectangleD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nRectangleD.prototype.getRight = function () {\n  return this.x + this.width;\n};\n\nRectangleD.prototype.getBottom = function () {\n  return this.y + this.height;\n};\n\nRectangleD.prototype.intersects = function (a) {\n  if (this.getRight() < a.x) {\n    return false;\n  }\n\n  if (this.getBottom() < a.y) {\n    return false;\n  }\n\n  if (a.getRight() < this.x) {\n    return false;\n  }\n\n  if (a.getBottom() < this.y) {\n    return false;\n  }\n\n  return true;\n};\n\nRectangleD.prototype.getCenterX = function () {\n  return this.x + this.width / 2;\n};\n\nRectangleD.prototype.getMinX = function () {\n  return this.getX();\n};\n\nRectangleD.prototype.getMaxX = function () {\n  return this.getX() + this.width;\n};\n\nRectangleD.prototype.getCenterY = function () {\n  return this.y + this.height / 2;\n};\n\nRectangleD.prototype.getMinY = function () {\n  return this.getY();\n};\n\nRectangleD.prototype.getMaxY = function () {\n  return this.getY() + this.height;\n};\n\nRectangleD.prototype.getWidthHalf = function () {\n  return this.width / 2;\n};\n\nRectangleD.prototype.getHeightHalf = function () {\n  return this.height / 2;\n};\n\nmodule.exports = RectangleD;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction UniqueIDGeneretor() {}\n\nUniqueIDGeneretor.lastID = 0;\n\nUniqueIDGeneretor.createID = function (obj) {\n  if (UniqueIDGeneretor.isPrimitive(obj)) {\n    return obj;\n  }\n  if (obj.uniqueID != null) {\n    return obj.uniqueID;\n  }\n  obj.uniqueID = UniqueIDGeneretor.getString();\n  UniqueIDGeneretor.lastID++;\n  return obj.uniqueID;\n};\n\nUniqueIDGeneretor.getString = function (id) {\n  if (id == null) id = UniqueIDGeneretor.lastID;\n  return \"Object#\" + id + \"\";\n};\n\nUniqueIDGeneretor.isPrimitive = function (arg) {\n  var type = typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg);\n  return arg == null || type != \"object\" && type != \"function\";\n};\n\nmodule.exports = UniqueIDGeneretor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar LGraph = __webpack_require__(5);\nvar PointD = __webpack_require__(4);\nvar Transform = __webpack_require__(17);\nvar Emitter = __webpack_require__(27);\n\nfunction Layout(isRemoteUse) {\n  Emitter.call(this);\n\n  //Layout Quality: 0:draft, 1:default, 2:proof\n  this.layoutQuality = LayoutConstants.QUALITY;\n  //Whether layout should create bendpoints as needed or not\n  this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n  //Whether layout should be incremental or not\n  this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n  //Whether we animate from before to after layout node positions\n  this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n  //Whether we animate the layout process or not\n  this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n  //Number iterations that should be done between two successive animations\n  this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n  /**\r\n   * Whether or not leaf nodes (non-compound nodes) are of uniform sizes. When\r\n   * they are, both spring and repulsion forces between two leaf nodes can be\r\n   * calculated without the expensive clipping point calculations, resulting\r\n   * in major speed-up.\r\n   */\n  this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  /**\r\n   * This is used for creation of bendpoints by using dummy nodes and edges.\r\n   * Maps an LEdge to its dummy bendpoint path.\r\n   */\n  this.edgeToDummyNodes = new Map();\n  this.graphManager = new LGraphManager(this);\n  this.isLayoutFinished = false;\n  this.isSubLayout = false;\n  this.isRemoteUse = false;\n\n  if (isRemoteUse != null) {\n    this.isRemoteUse = isRemoteUse;\n  }\n}\n\nLayout.RANDOM_SEED = 1;\n\nLayout.prototype = Object.create(Emitter.prototype);\n\nLayout.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLayout.prototype.getAllNodes = function () {\n  return this.graphManager.getAllNodes();\n};\n\nLayout.prototype.getAllEdges = function () {\n  return this.graphManager.getAllEdges();\n};\n\nLayout.prototype.getAllNodesToApplyGravitation = function () {\n  return this.graphManager.getAllNodesToApplyGravitation();\n};\n\nLayout.prototype.newGraphManager = function () {\n  var gm = new LGraphManager(this);\n  this.graphManager = gm;\n  return gm;\n};\n\nLayout.prototype.newGraph = function (vGraph) {\n  return new LGraph(null, this.graphManager, vGraph);\n};\n\nLayout.prototype.newNode = function (vNode) {\n  return new LNode(this.graphManager, vNode);\n};\n\nLayout.prototype.newEdge = function (vEdge) {\n  return new LEdge(null, null, vEdge);\n};\n\nLayout.prototype.checkLayoutSuccess = function () {\n  return this.graphManager.getRoot() == null || this.graphManager.getRoot().getNodes().length == 0 || this.graphManager.includesInvalidEdge();\n};\n\nLayout.prototype.runLayout = function () {\n  this.isLayoutFinished = false;\n\n  if (this.tilingPreLayout) {\n    this.tilingPreLayout();\n  }\n\n  this.initParameters();\n  var isLayoutSuccessfull;\n\n  if (this.checkLayoutSuccess()) {\n    isLayoutSuccessfull = false;\n  } else {\n    isLayoutSuccessfull = this.layout();\n  }\n\n  if (LayoutConstants.ANIMATE === 'during') {\n    // If this is a 'during' layout animation. Layout is not finished yet. \n    // We need to perform these in index.js when layout is really finished.\n    return false;\n  }\n\n  if (isLayoutSuccessfull) {\n    if (!this.isSubLayout) {\n      this.doPostLayout();\n    }\n  }\n\n  if (this.tilingPostLayout) {\n    this.tilingPostLayout();\n  }\n\n  this.isLayoutFinished = true;\n\n  return isLayoutSuccessfull;\n};\n\n/**\r\n * This method performs the operations required after layout.\r\n */\nLayout.prototype.doPostLayout = function () {\n  //assert !isSubLayout : \"Should not be called on sub-layout!\";\n  // Propagate geometric changes to v-level objects\n  if (!this.incremental) {\n    this.transform();\n  }\n  this.update();\n};\n\n/**\r\n * This method updates the geometry of the target graph according to\r\n * calculated layout.\r\n */\nLayout.prototype.update2 = function () {\n  // update bend points\n  if (this.createBendsAsNeeded) {\n    this.createBendpointsFromDummyNodes();\n\n    // reset all edges, since the topology has changed\n    this.graphManager.resetAllEdges();\n  }\n\n  // perform edge, node and root updates if layout is not called\n  // remotely\n  if (!this.isRemoteUse) {\n    // update all edges\n    var edge;\n    var allEdges = this.graphManager.getAllEdges();\n    for (var i = 0; i < allEdges.length; i++) {\n      edge = allEdges[i];\n      //      this.update(edge);\n    }\n\n    // recursively update nodes\n    var node;\n    var nodes = this.graphManager.getRoot().getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      node = nodes[i];\n      //      this.update(node);\n    }\n\n    // update root graph\n    this.update(this.graphManager.getRoot());\n  }\n};\n\nLayout.prototype.update = function (obj) {\n  if (obj == null) {\n    this.update2();\n  } else if (obj instanceof LNode) {\n    var node = obj;\n    if (node.getChild() != null) {\n      // since node is compound, recursively update child nodes\n      var nodes = node.getChild().getNodes();\n      for (var i = 0; i < nodes.length; i++) {\n        update(nodes[i]);\n      }\n    }\n\n    // if the l-level node is associated with a v-level graph object,\n    // then it is assumed that the v-level node implements the\n    // interface Updatable.\n    if (node.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vNode = node.vGraphObject;\n\n      // call the update method of the interface\n      vNode.update(node);\n    }\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    // if the l-level edge is associated with a v-level graph object,\n    // then it is assumed that the v-level edge implements the\n    // interface Updatable.\n\n    if (edge.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vEdge = edge.vGraphObject;\n\n      // call the update method of the interface\n      vEdge.update(edge);\n    }\n  } else if (obj instanceof LGraph) {\n    var graph = obj;\n    // if the l-level graph is associated with a v-level graph object,\n    // then it is assumed that the v-level object implements the\n    // interface Updatable.\n\n    if (graph.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vGraph = graph.vGraphObject;\n\n      // call the update method of the interface\n      vGraph.update(graph);\n    }\n  }\n};\n\n/**\r\n * This method is used to set all layout parameters to default values\r\n * determined at compile time.\r\n */\nLayout.prototype.initParameters = function () {\n  if (!this.isSubLayout) {\n    this.layoutQuality = LayoutConstants.QUALITY;\n    this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n    this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n    this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n    this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n    this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n    this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  }\n\n  if (this.animationDuringLayout) {\n    this.animationOnLayout = false;\n  }\n};\n\nLayout.prototype.transform = function (newLeftTop) {\n  if (newLeftTop == undefined) {\n    this.transform(new PointD(0, 0));\n  } else {\n    // create a transformation object (from Eclipse to layout). When an\n    // inverse transform is applied, we get upper-left coordinate of the\n    // drawing or the root graph at given input coordinate (some margins\n    // already included in calculation of left-top).\n\n    var trans = new Transform();\n    var leftTop = this.graphManager.getRoot().updateLeftTop();\n\n    if (leftTop != null) {\n      trans.setWorldOrgX(newLeftTop.x);\n      trans.setWorldOrgY(newLeftTop.y);\n\n      trans.setDeviceOrgX(leftTop.x);\n      trans.setDeviceOrgY(leftTop.y);\n\n      var nodes = this.getAllNodes();\n      var node;\n\n      for (var i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.transform(trans);\n      }\n    }\n  }\n};\n\nLayout.prototype.positionNodesRandomly = function (graph) {\n\n  if (graph == undefined) {\n    //assert !this.incremental;\n    this.positionNodesRandomly(this.getGraphManager().getRoot());\n    this.getGraphManager().getRoot().updateBounds(true);\n  } else {\n    var lNode;\n    var childGraph;\n\n    var nodes = graph.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      lNode = nodes[i];\n      childGraph = lNode.getChild();\n\n      if (childGraph == null) {\n        lNode.scatter();\n      } else if (childGraph.getNodes().length == 0) {\n        lNode.scatter();\n      } else {\n        this.positionNodesRandomly(childGraph);\n        lNode.updateBounds();\n      }\n    }\n  }\n};\n\n/**\r\n * This method returns a list of trees where each tree is represented as a\r\n * list of l-nodes. The method returns a list of size 0 when:\r\n * - The graph is not flat or\r\n * - One of the component(s) of the graph is not a tree.\r\n */\nLayout.prototype.getFlatForest = function () {\n  var flatForest = [];\n  var isForest = true;\n\n  // Quick reference for all nodes in the graph manager associated with\n  // this layout. The list should not be changed.\n  var allNodes = this.graphManager.getRoot().getNodes();\n\n  // First be sure that the graph is flat\n  var isFlat = true;\n\n  for (var i = 0; i < allNodes.length; i++) {\n    if (allNodes[i].getChild() != null) {\n      isFlat = false;\n    }\n  }\n\n  // Return empty forest if the graph is not flat.\n  if (!isFlat) {\n    return flatForest;\n  }\n\n  // Run BFS for each component of the graph.\n\n  var visited = new Set();\n  var toBeVisited = [];\n  var parents = new Map();\n  var unProcessedNodes = [];\n\n  unProcessedNodes = unProcessedNodes.concat(allNodes);\n\n  // Each iteration of this loop finds a component of the graph and\n  // decides whether it is a tree or not. If it is a tree, adds it to the\n  // forest and continued with the next component.\n\n  while (unProcessedNodes.length > 0 && isForest) {\n    toBeVisited.push(unProcessedNodes[0]);\n\n    // Start the BFS. Each iteration of this loop visits a node in a\n    // BFS manner.\n    while (toBeVisited.length > 0 && isForest) {\n      //pool operation\n      var currentNode = toBeVisited[0];\n      toBeVisited.splice(0, 1);\n      visited.add(currentNode);\n\n      // Traverse all neighbors of this node\n      var neighborEdges = currentNode.getEdges();\n\n      for (var i = 0; i < neighborEdges.length; i++) {\n        var currentNeighbor = neighborEdges[i].getOtherEnd(currentNode);\n\n        // If BFS is not growing from this neighbor.\n        if (parents.get(currentNode) != currentNeighbor) {\n          // We haven't previously visited this neighbor.\n          if (!visited.has(currentNeighbor)) {\n            toBeVisited.push(currentNeighbor);\n            parents.set(currentNeighbor, currentNode);\n          }\n          // Since we have previously visited this neighbor and\n          // this neighbor is not parent of currentNode, given\n          // graph contains a component that is not tree, hence\n          // it is not a forest.\n          else {\n              isForest = false;\n              break;\n            }\n        }\n      }\n    }\n\n    // The graph contains a component that is not a tree. Empty\n    // previously found trees. The method will end.\n    if (!isForest) {\n      flatForest = [];\n    }\n    // Save currently visited nodes as a tree in our forest. Reset\n    // visited and parents lists. Continue with the next component of\n    // the graph, if any.\n    else {\n        var temp = [].concat(_toConsumableArray(visited));\n        flatForest.push(temp);\n        //flatForest = flatForest.concat(temp);\n        //unProcessedNodes.removeAll(visited);\n        for (var i = 0; i < temp.length; i++) {\n          var value = temp[i];\n          var index = unProcessedNodes.indexOf(value);\n          if (index > -1) {\n            unProcessedNodes.splice(index, 1);\n          }\n        }\n        visited = new Set();\n        parents = new Map();\n      }\n  }\n\n  return flatForest;\n};\n\n/**\r\n * This method creates dummy nodes (an l-level node with minimal dimensions)\r\n * for the given edge (one per bendpoint). The existing l-level structure\r\n * is updated accordingly.\r\n */\nLayout.prototype.createDummyNodesForBendpoints = function (edge) {\n  var dummyNodes = [];\n  var prev = edge.source;\n\n  var graph = this.graphManager.calcLowestCommonAncestor(edge.source, edge.target);\n\n  for (var i = 0; i < edge.bendpoints.length; i++) {\n    // create new dummy node\n    var dummyNode = this.newNode(null);\n    dummyNode.setRect(new Point(0, 0), new Dimension(1, 1));\n\n    graph.add(dummyNode);\n\n    // create new dummy edge between prev and dummy node\n    var dummyEdge = this.newEdge(null);\n    this.graphManager.add(dummyEdge, prev, dummyNode);\n\n    dummyNodes.add(dummyNode);\n    prev = dummyNode;\n  }\n\n  var dummyEdge = this.newEdge(null);\n  this.graphManager.add(dummyEdge, prev, edge.target);\n\n  this.edgeToDummyNodes.set(edge, dummyNodes);\n\n  // remove real edge from graph manager if it is inter-graph\n  if (edge.isInterGraph()) {\n    this.graphManager.remove(edge);\n  }\n  // else, remove the edge from the current graph\n  else {\n      graph.remove(edge);\n    }\n\n  return dummyNodes;\n};\n\n/**\r\n * This method creates bendpoints for edges from the dummy nodes\r\n * at l-level.\r\n */\nLayout.prototype.createBendpointsFromDummyNodes = function () {\n  var edges = [];\n  edges = edges.concat(this.graphManager.getAllEdges());\n  edges = [].concat(_toConsumableArray(this.edgeToDummyNodes.keys())).concat(edges);\n\n  for (var k = 0; k < edges.length; k++) {\n    var lEdge = edges[k];\n\n    if (lEdge.bendpoints.length > 0) {\n      var path = this.edgeToDummyNodes.get(lEdge);\n\n      for (var i = 0; i < path.length; i++) {\n        var dummyNode = path[i];\n        var p = new PointD(dummyNode.getCenterX(), dummyNode.getCenterY());\n\n        // update bendpoint's location according to dummy node\n        var ebp = lEdge.bendpoints.get(i);\n        ebp.x = p.x;\n        ebp.y = p.y;\n\n        // remove the dummy node, dummy edges incident with this\n        // dummy node is also removed (within the remove method)\n        dummyNode.getOwner().remove(dummyNode);\n      }\n\n      // add the real edge to graph\n      this.graphManager.add(lEdge, lEdge.source, lEdge.target);\n    }\n  }\n};\n\nLayout.transform = function (sliderValue, defaultValue, minDiv, maxMul) {\n  if (minDiv != undefined && maxMul != undefined) {\n    var value = defaultValue;\n\n    if (sliderValue <= 50) {\n      var minValue = defaultValue / minDiv;\n      value -= (defaultValue - minValue) / 50 * (50 - sliderValue);\n    } else {\n      var maxValue = defaultValue * maxMul;\n      value += (maxValue - defaultValue) / 50 * (sliderValue - 50);\n    }\n\n    return value;\n  } else {\n    var a, b;\n\n    if (sliderValue <= 50) {\n      a = 9.0 * defaultValue / 500.0;\n      b = defaultValue / 10.0;\n    } else {\n      a = 9.0 * defaultValue / 50.0;\n      b = -8 * defaultValue;\n    }\n\n    return a * sliderValue + b;\n  }\n};\n\n/**\r\n * This method finds and returns the center of the given nodes, assuming\r\n * that the given nodes form a tree in themselves.\r\n */\nLayout.findCenterOfTree = function (nodes) {\n  var list = [];\n  list = list.concat(nodes);\n\n  var removedNodes = [];\n  var remainingDegrees = new Map();\n  var foundCenter = false;\n  var centerNode = null;\n\n  if (list.length == 1 || list.length == 2) {\n    foundCenter = true;\n    centerNode = list[0];\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var node = list[i];\n    var degree = node.getNeighborsList().size;\n    remainingDegrees.set(node, node.getNeighborsList().size);\n\n    if (degree == 1) {\n      removedNodes.push(node);\n    }\n  }\n\n  var tempList = [];\n  tempList = tempList.concat(removedNodes);\n\n  while (!foundCenter) {\n    var tempList2 = [];\n    tempList2 = tempList2.concat(tempList);\n    tempList = [];\n\n    for (var i = 0; i < list.length; i++) {\n      var node = list[i];\n\n      var index = list.indexOf(node);\n      if (index >= 0) {\n        list.splice(index, 1);\n      }\n\n      var neighbours = node.getNeighborsList();\n\n      neighbours.forEach(function (neighbour) {\n        if (removedNodes.indexOf(neighbour) < 0) {\n          var otherDegree = remainingDegrees.get(neighbour);\n          var newDegree = otherDegree - 1;\n\n          if (newDegree == 1) {\n            tempList.push(neighbour);\n          }\n\n          remainingDegrees.set(neighbour, newDegree);\n        }\n      });\n    }\n\n    removedNodes = removedNodes.concat(tempList);\n\n    if (list.length == 1 || list.length == 2) {\n      foundCenter = true;\n      centerNode = list[0];\n    }\n  }\n\n  return centerNode;\n};\n\n/**\r\n * During the coarsening process, this layout may be referenced by two graph managers\r\n * this setter function grants access to change the currently being used graph manager\r\n */\nLayout.prototype.setGraphManager = function (gm) {\n  this.graphManager = gm;\n};\n\nmodule.exports = Layout;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RandomSeed() {}\n// adapted from: https://stackoverflow.com/a/19303725\nRandomSeed.seed = 1;\nRandomSeed.x = 0;\n\nRandomSeed.nextDouble = function () {\n  RandomSeed.x = Math.sin(RandomSeed.seed++) * 10000;\n  return RandomSeed.x - Math.floor(RandomSeed.x);\n};\n\nmodule.exports = RandomSeed;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar PointD = __webpack_require__(4);\n\nfunction Transform(x, y) {\n  this.lworldOrgX = 0.0;\n  this.lworldOrgY = 0.0;\n  this.ldeviceOrgX = 0.0;\n  this.ldeviceOrgY = 0.0;\n  this.lworldExtX = 1.0;\n  this.lworldExtY = 1.0;\n  this.ldeviceExtX = 1.0;\n  this.ldeviceExtY = 1.0;\n}\n\nTransform.prototype.getWorldOrgX = function () {\n  return this.lworldOrgX;\n};\n\nTransform.prototype.setWorldOrgX = function (wox) {\n  this.lworldOrgX = wox;\n};\n\nTransform.prototype.getWorldOrgY = function () {\n  return this.lworldOrgY;\n};\n\nTransform.prototype.setWorldOrgY = function (woy) {\n  this.lworldOrgY = woy;\n};\n\nTransform.prototype.getWorldExtX = function () {\n  return this.lworldExtX;\n};\n\nTransform.prototype.setWorldExtX = function (wex) {\n  this.lworldExtX = wex;\n};\n\nTransform.prototype.getWorldExtY = function () {\n  return this.lworldExtY;\n};\n\nTransform.prototype.setWorldExtY = function (wey) {\n  this.lworldExtY = wey;\n};\n\n/* Device related */\n\nTransform.prototype.getDeviceOrgX = function () {\n  return this.ldeviceOrgX;\n};\n\nTransform.prototype.setDeviceOrgX = function (dox) {\n  this.ldeviceOrgX = dox;\n};\n\nTransform.prototype.getDeviceOrgY = function () {\n  return this.ldeviceOrgY;\n};\n\nTransform.prototype.setDeviceOrgY = function (doy) {\n  this.ldeviceOrgY = doy;\n};\n\nTransform.prototype.getDeviceExtX = function () {\n  return this.ldeviceExtX;\n};\n\nTransform.prototype.setDeviceExtX = function (dex) {\n  this.ldeviceExtX = dex;\n};\n\nTransform.prototype.getDeviceExtY = function () {\n  return this.ldeviceExtY;\n};\n\nTransform.prototype.setDeviceExtY = function (dey) {\n  this.ldeviceExtY = dey;\n};\n\nTransform.prototype.transformX = function (x) {\n  var xDevice = 0.0;\n  var worldExtX = this.lworldExtX;\n  if (worldExtX != 0.0) {\n    xDevice = this.ldeviceOrgX + (x - this.lworldOrgX) * this.ldeviceExtX / worldExtX;\n  }\n\n  return xDevice;\n};\n\nTransform.prototype.transformY = function (y) {\n  var yDevice = 0.0;\n  var worldExtY = this.lworldExtY;\n  if (worldExtY != 0.0) {\n    yDevice = this.ldeviceOrgY + (y - this.lworldOrgY) * this.ldeviceExtY / worldExtY;\n  }\n\n  return yDevice;\n};\n\nTransform.prototype.inverseTransformX = function (x) {\n  var xWorld = 0.0;\n  var deviceExtX = this.ldeviceExtX;\n  if (deviceExtX != 0.0) {\n    xWorld = this.lworldOrgX + (x - this.ldeviceOrgX) * this.lworldExtX / deviceExtX;\n  }\n\n  return xWorld;\n};\n\nTransform.prototype.inverseTransformY = function (y) {\n  var yWorld = 0.0;\n  var deviceExtY = this.ldeviceExtY;\n  if (deviceExtY != 0.0) {\n    yWorld = this.lworldOrgY + (y - this.ldeviceOrgY) * this.lworldExtY / deviceExtY;\n  }\n  return yWorld;\n};\n\nTransform.prototype.inverseTransformPoint = function (inPoint) {\n  var outPoint = new PointD(this.inverseTransformX(inPoint.x), this.inverseTransformY(inPoint.y));\n  return outPoint;\n};\n\nmodule.exports = Transform;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar Layout = __webpack_require__(15);\nvar FDLayoutConstants = __webpack_require__(7);\nvar LayoutConstants = __webpack_require__(0);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction FDLayout() {\n  Layout.call(this);\n\n  this.useSmartIdealEdgeLengthCalculation = FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;\n  this.idealEdgeLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n  this.springConstant = FDLayoutConstants.DEFAULT_SPRING_STRENGTH;\n  this.repulsionConstant = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;\n  this.gravityConstant = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;\n  this.compoundGravityConstant = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;\n  this.gravityRangeFactor = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;\n  this.compoundGravityRangeFactor = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;\n  this.displacementThresholdPerNode = 3.0 * FDLayoutConstants.DEFAULT_EDGE_LENGTH / 100;\n  this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.initialCoolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.totalDisplacement = 0.0;\n  this.oldTotalDisplacement = 0.0;\n  this.maxIterations = FDLayoutConstants.MAX_ITERATIONS;\n}\n\nFDLayout.prototype = Object.create(Layout.prototype);\n\nfor (var prop in Layout) {\n  FDLayout[prop] = Layout[prop];\n}\n\nFDLayout.prototype.initParameters = function () {\n  Layout.prototype.initParameters.call(this, arguments);\n\n  this.totalIterations = 0;\n  this.notAnimatedIterations = 0;\n\n  this.useFRGridVariant = FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;\n\n  this.grid = [];\n};\n\nFDLayout.prototype.calcIdealEdgeLengths = function () {\n  var edge;\n  var lcaDepth;\n  var source;\n  var target;\n  var sizeOfSourceInLca;\n  var sizeOfTargetInLca;\n\n  var allEdges = this.getGraphManager().getAllEdges();\n  for (var i = 0; i < allEdges.length; i++) {\n    edge = allEdges[i];\n\n    edge.idealLength = this.idealEdgeLength;\n\n    if (edge.isInterGraph) {\n      source = edge.getSource();\n      target = edge.getTarget();\n\n      sizeOfSourceInLca = edge.getSourceInLca().getEstimatedSize();\n      sizeOfTargetInLca = edge.getTargetInLca().getEstimatedSize();\n\n      if (this.useSmartIdealEdgeLengthCalculation) {\n        edge.idealLength += sizeOfSourceInLca + sizeOfTargetInLca - 2 * LayoutConstants.SIMPLE_NODE_SIZE;\n      }\n\n      lcaDepth = edge.getLca().getInclusionTreeDepth();\n\n      edge.idealLength += FDLayoutConstants.DEFAULT_EDGE_LENGTH * FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR * (source.getInclusionTreeDepth() + target.getInclusionTreeDepth() - 2 * lcaDepth);\n    }\n  }\n};\n\nFDLayout.prototype.initSpringEmbedder = function () {\n\n  var s = this.getAllNodes().length;\n  if (this.incremental) {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(this.coolingFactor * FDLayoutConstants.COOLING_ADAPTATION_FACTOR, this.coolingFactor - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * this.coolingFactor * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    }\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL;\n  } else {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(FDLayoutConstants.COOLING_ADAPTATION_FACTOR, 1.0 - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    } else {\n      this.coolingFactor = 1.0;\n    }\n    this.initialCoolingFactor = this.coolingFactor;\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT;\n  }\n\n  this.maxIterations = Math.max(this.getAllNodes().length * 5, this.maxIterations);\n\n  this.totalDisplacementThreshold = this.displacementThresholdPerNode * this.getAllNodes().length;\n\n  this.repulsionRange = this.calcRepulsionRange();\n};\n\nFDLayout.prototype.calcSpringForces = function () {\n  var lEdges = this.getAllEdges();\n  var edge;\n\n  for (var i = 0; i < lEdges.length; i++) {\n    edge = lEdges[i];\n\n    this.calcSpringForce(edge, edge.idealLength);\n  }\n};\n\nFDLayout.prototype.calcRepulsionForces = function () {\n  var gridUpdateAllowed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var forceToNodeSurroundingUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var i, j;\n  var nodeA, nodeB;\n  var lNodes = this.getAllNodes();\n  var processedNodeSet;\n\n  if (this.useFRGridVariant) {\n    if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed) {\n      this.updateGrid();\n    }\n\n    processedNodeSet = new Set();\n\n    // calculate repulsion forces between each nodes and its surrounding\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n      this.calculateRepulsionForceOfANode(nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate);\n      processedNodeSet.add(nodeA);\n    }\n  } else {\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n\n      for (j = i + 1; j < lNodes.length; j++) {\n        nodeB = lNodes[j];\n\n        // If both nodes are not members of the same graph, skip.\n        if (nodeA.getOwner() != nodeB.getOwner()) {\n          continue;\n        }\n\n        this.calcRepulsionForce(nodeA, nodeB);\n      }\n    }\n  }\n};\n\nFDLayout.prototype.calcGravitationalForces = function () {\n  var node;\n  var lNodes = this.getAllNodesToApplyGravitation();\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    this.calcGravitationalForce(node);\n  }\n};\n\nFDLayout.prototype.moveNodes = function () {\n  var lNodes = this.getAllNodes();\n  var node;\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    node.move();\n  }\n};\n\nFDLayout.prototype.calcSpringForce = function (edge, idealLength) {\n  var sourceNode = edge.getSource();\n  var targetNode = edge.getTarget();\n\n  var length;\n  var springForce;\n  var springForceX;\n  var springForceY;\n\n  // Update edge length\n  if (this.uniformLeafNodeSizes && sourceNode.getChild() == null && targetNode.getChild() == null) {\n    edge.updateLengthSimple();\n  } else {\n    edge.updateLength();\n\n    if (edge.isOverlapingSourceAndTarget) {\n      return;\n    }\n  }\n\n  length = edge.getLength();\n\n  if (length == 0) return;\n\n  // Calculate spring forces\n  springForce = this.springConstant * (length - idealLength);\n\n  // Project force onto x and y axes\n  springForceX = springForce * (edge.lengthX / length);\n  springForceY = springForce * (edge.lengthY / length);\n\n  // Apply forces on the end nodes\n  sourceNode.springForceX += springForceX;\n  sourceNode.springForceY += springForceY;\n  targetNode.springForceX -= springForceX;\n  targetNode.springForceY -= springForceY;\n};\n\nFDLayout.prototype.calcRepulsionForce = function (nodeA, nodeB) {\n  var rectA = nodeA.getRect();\n  var rectB = nodeB.getRect();\n  var overlapAmount = new Array(2);\n  var clipPoints = new Array(4);\n  var distanceX;\n  var distanceY;\n  var distanceSquared;\n  var distance;\n  var repulsionForce;\n  var repulsionForceX;\n  var repulsionForceY;\n\n  if (rectA.intersects(rectB)) // two nodes overlap\n    {\n      // calculate separation amount in x and y directions\n      IGeometry.calcSeparationAmount(rectA, rectB, overlapAmount, FDLayoutConstants.DEFAULT_EDGE_LENGTH / 2.0);\n\n      repulsionForceX = 2 * overlapAmount[0];\n      repulsionForceY = 2 * overlapAmount[1];\n\n      var childrenConstant = nodeA.noOfChildren * nodeB.noOfChildren / (nodeA.noOfChildren + nodeB.noOfChildren);\n\n      // Apply forces on the two nodes\n      nodeA.repulsionForceX -= childrenConstant * repulsionForceX;\n      nodeA.repulsionForceY -= childrenConstant * repulsionForceY;\n      nodeB.repulsionForceX += childrenConstant * repulsionForceX;\n      nodeB.repulsionForceY += childrenConstant * repulsionForceY;\n    } else // no overlap\n    {\n      // calculate distance\n\n      if (this.uniformLeafNodeSizes && nodeA.getChild() == null && nodeB.getChild() == null) // simply base repulsion on distance of node centers\n        {\n          distanceX = rectB.getCenterX() - rectA.getCenterX();\n          distanceY = rectB.getCenterY() - rectA.getCenterY();\n        } else // use clipping points\n        {\n          IGeometry.getIntersection(rectA, rectB, clipPoints);\n\n          distanceX = clipPoints[2] - clipPoints[0];\n          distanceY = clipPoints[3] - clipPoints[1];\n        }\n\n      // No repulsion range. FR grid variant should take care of this.\n      if (Math.abs(distanceX) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceX = IMath.sign(distanceX) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      if (Math.abs(distanceY) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceY = IMath.sign(distanceY) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      distanceSquared = distanceX * distanceX + distanceY * distanceY;\n      distance = Math.sqrt(distanceSquared);\n\n      repulsionForce = this.repulsionConstant * nodeA.noOfChildren * nodeB.noOfChildren / distanceSquared;\n\n      // Project force onto x and y axes\n      repulsionForceX = repulsionForce * distanceX / distance;\n      repulsionForceY = repulsionForce * distanceY / distance;\n\n      // Apply forces on the two nodes    \n      nodeA.repulsionForceX -= repulsionForceX;\n      nodeA.repulsionForceY -= repulsionForceY;\n      nodeB.repulsionForceX += repulsionForceX;\n      nodeB.repulsionForceY += repulsionForceY;\n    }\n};\n\nFDLayout.prototype.calcGravitationalForce = function (node) {\n  var ownerGraph;\n  var ownerCenterX;\n  var ownerCenterY;\n  var distanceX;\n  var distanceY;\n  var absDistanceX;\n  var absDistanceY;\n  var estimatedSize;\n  ownerGraph = node.getOwner();\n\n  ownerCenterX = (ownerGraph.getRight() + ownerGraph.getLeft()) / 2;\n  ownerCenterY = (ownerGraph.getTop() + ownerGraph.getBottom()) / 2;\n  distanceX = node.getCenterX() - ownerCenterX;\n  distanceY = node.getCenterY() - ownerCenterY;\n  absDistanceX = Math.abs(distanceX) + node.getWidth() / 2;\n  absDistanceY = Math.abs(distanceY) + node.getHeight() / 2;\n\n  if (node.getOwner() == this.graphManager.getRoot()) // in the root graph\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.gravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX;\n        node.gravitationForceY = -this.gravityConstant * distanceY;\n      }\n    } else // inside a compound\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.compoundGravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX * this.compoundGravityConstant;\n        node.gravitationForceY = -this.gravityConstant * distanceY * this.compoundGravityConstant;\n      }\n    }\n};\n\nFDLayout.prototype.isConverged = function () {\n  var converged;\n  var oscilating = false;\n\n  if (this.totalIterations > this.maxIterations / 3) {\n    oscilating = Math.abs(this.totalDisplacement - this.oldTotalDisplacement) < 2;\n  }\n\n  converged = this.totalDisplacement < this.totalDisplacementThreshold;\n\n  this.oldTotalDisplacement = this.totalDisplacement;\n\n  return converged || oscilating;\n};\n\nFDLayout.prototype.animate = function () {\n  if (this.animationDuringLayout && !this.isSubLayout) {\n    if (this.notAnimatedIterations == this.animationPeriod) {\n      this.update();\n      this.notAnimatedIterations = 0;\n    } else {\n      this.notAnimatedIterations++;\n    }\n  }\n};\n\n//This method calculates the number of children (weight) for all nodes\nFDLayout.prototype.calcNoOfChildrenForAllNodes = function () {\n  var node;\n  var allNodes = this.graphManager.getAllNodes();\n\n  for (var i = 0; i < allNodes.length; i++) {\n    node = allNodes[i];\n    node.noOfChildren = node.getNoOfChildren();\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: FR-Grid Variant Repulsion Force Calculation\n// -----------------------------------------------------------------------------\n\nFDLayout.prototype.calcGrid = function (graph) {\n\n  var sizeX = 0;\n  var sizeY = 0;\n\n  sizeX = parseInt(Math.ceil((graph.getRight() - graph.getLeft()) / this.repulsionRange));\n  sizeY = parseInt(Math.ceil((graph.getBottom() - graph.getTop()) / this.repulsionRange));\n\n  var grid = new Array(sizeX);\n\n  for (var i = 0; i < sizeX; i++) {\n    grid[i] = new Array(sizeY);\n  }\n\n  for (var i = 0; i < sizeX; i++) {\n    for (var j = 0; j < sizeY; j++) {\n      grid[i][j] = new Array();\n    }\n  }\n\n  return grid;\n};\n\nFDLayout.prototype.addNodeToGrid = function (v, left, top) {\n\n  var startX = 0;\n  var finishX = 0;\n  var startY = 0;\n  var finishY = 0;\n\n  startX = parseInt(Math.floor((v.getRect().x - left) / this.repulsionRange));\n  finishX = parseInt(Math.floor((v.getRect().width + v.getRect().x - left) / this.repulsionRange));\n  startY = parseInt(Math.floor((v.getRect().y - top) / this.repulsionRange));\n  finishY = parseInt(Math.floor((v.getRect().height + v.getRect().y - top) / this.repulsionRange));\n\n  for (var i = startX; i <= finishX; i++) {\n    for (var j = startY; j <= finishY; j++) {\n      this.grid[i][j].push(v);\n      v.setGridCoordinates(startX, finishX, startY, finishY);\n    }\n  }\n};\n\nFDLayout.prototype.updateGrid = function () {\n  var i;\n  var nodeA;\n  var lNodes = this.getAllNodes();\n\n  this.grid = this.calcGrid(this.graphManager.getRoot());\n\n  // put all nodes to proper grid cells\n  for (i = 0; i < lNodes.length; i++) {\n    nodeA = lNodes[i];\n    this.addNodeToGrid(nodeA, this.graphManager.getRoot().getLeft(), this.graphManager.getRoot().getTop());\n  }\n};\n\nFDLayout.prototype.calculateRepulsionForceOfANode = function (nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate) {\n\n  if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed || forceToNodeSurroundingUpdate) {\n    var surrounding = new Set();\n    nodeA.surrounding = new Array();\n    var nodeB;\n    var grid = this.grid;\n\n    for (var i = nodeA.startX - 1; i < nodeA.finishX + 2; i++) {\n      for (var j = nodeA.startY - 1; j < nodeA.finishY + 2; j++) {\n        if (!(i < 0 || j < 0 || i >= grid.length || j >= grid[0].length)) {\n          for (var k = 0; k < grid[i][j].length; k++) {\n            nodeB = grid[i][j][k];\n\n            // If both nodes are not members of the same graph, \n            // or both nodes are the same, skip.\n            if (nodeA.getOwner() != nodeB.getOwner() || nodeA == nodeB) {\n              continue;\n            }\n\n            // check if the repulsion force between\n            // nodeA and nodeB has already been calculated\n            if (!processedNodeSet.has(nodeB) && !surrounding.has(nodeB)) {\n              var distanceX = Math.abs(nodeA.getCenterX() - nodeB.getCenterX()) - (nodeA.getWidth() / 2 + nodeB.getWidth() / 2);\n              var distanceY = Math.abs(nodeA.getCenterY() - nodeB.getCenterY()) - (nodeA.getHeight() / 2 + nodeB.getHeight() / 2);\n\n              // if the distance between nodeA and nodeB \n              // is less then calculation range\n              if (distanceX <= this.repulsionRange && distanceY <= this.repulsionRange) {\n                //then add nodeB to surrounding of nodeA\n                surrounding.add(nodeB);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    nodeA.surrounding = [].concat(_toConsumableArray(surrounding));\n  }\n  for (i = 0; i < nodeA.surrounding.length; i++) {\n    this.calcRepulsionForce(nodeA, nodeA.surrounding[i]);\n  }\n};\n\nFDLayout.prototype.calcRepulsionRange = function () {\n  return 0.0;\n};\n\nmodule.exports = FDLayout;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LEdge = __webpack_require__(1);\nvar FDLayoutConstants = __webpack_require__(7);\n\nfunction FDLayoutEdge(source, target, vEdge) {\n  LEdge.call(this, source, target, vEdge);\n  this.idealLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n}\n\nFDLayoutEdge.prototype = Object.create(LEdge.prototype);\n\nfor (var prop in LEdge) {\n  FDLayoutEdge[prop] = LEdge[prop];\n}\n\nmodule.exports = FDLayoutEdge;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LNode = __webpack_require__(3);\n\nfunction FDLayoutNode(gm, loc, size, vNode) {\n  // alternative constructor is handled inside LNode\n  LNode.call(this, gm, loc, size, vNode);\n  //Spring, repulsion and gravitational forces acting on this node\n  this.springForceX = 0;\n  this.springForceY = 0;\n  this.repulsionForceX = 0;\n  this.repulsionForceY = 0;\n  this.gravitationForceX = 0;\n  this.gravitationForceY = 0;\n  //Amount by which this node is to be moved in this iteration\n  this.displacementX = 0;\n  this.displacementY = 0;\n\n  //Start and finish grid coordinates that this node is fallen into\n  this.startX = 0;\n  this.finishX = 0;\n  this.startY = 0;\n  this.finishY = 0;\n\n  //Geometric neighbors of this node\n  this.surrounding = [];\n}\n\nFDLayoutNode.prototype = Object.create(LNode.prototype);\n\nfor (var prop in LNode) {\n  FDLayoutNode[prop] = LNode[prop];\n}\n\nFDLayoutNode.prototype.setGridCoordinates = function (_startX, _finishX, _startY, _finishY) {\n  this.startX = _startX;\n  this.finishX = _finishX;\n  this.startY = _startY;\n  this.finishY = _finishY;\n};\n\nmodule.exports = FDLayoutNode;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction DimensionD(width, height) {\n  this.width = 0;\n  this.height = 0;\n  if (width !== null && height !== null) {\n    this.height = height;\n    this.width = width;\n  }\n}\n\nDimensionD.prototype.getWidth = function () {\n  return this.width;\n};\n\nDimensionD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nDimensionD.prototype.getHeight = function () {\n  return this.height;\n};\n\nDimensionD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nmodule.exports = DimensionD;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashMap() {\n  this.map = {};\n  this.keys = [];\n}\n\nHashMap.prototype.put = function (key, value) {\n  var theId = UniqueIDGeneretor.createID(key);\n  if (!this.contains(theId)) {\n    this.map[theId] = value;\n    this.keys.push(key);\n  }\n};\n\nHashMap.prototype.contains = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[key] != null;\n};\n\nHashMap.prototype.get = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[theId];\n};\n\nHashMap.prototype.keySet = function () {\n  return this.keys;\n};\n\nmodule.exports = HashMap;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashSet() {\n  this.set = {};\n}\n;\n\nHashSet.prototype.add = function (obj) {\n  var theId = UniqueIDGeneretor.createID(obj);\n  if (!this.contains(theId)) this.set[theId] = obj;\n};\n\nHashSet.prototype.remove = function (obj) {\n  delete this.set[UniqueIDGeneretor.createID(obj)];\n};\n\nHashSet.prototype.clear = function () {\n  this.set = {};\n};\n\nHashSet.prototype.contains = function (obj) {\n  return this.set[UniqueIDGeneretor.createID(obj)] == obj;\n};\n\nHashSet.prototype.isEmpty = function () {\n  return this.size() === 0;\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\n//concats this.set to the given list\nHashSet.prototype.addAllTo = function (list) {\n  var keys = Object.keys(this.set);\n  var length = keys.length;\n  for (var i = 0; i < length; i++) {\n    list.push(this.set[keys[i]]);\n  }\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\nHashSet.prototype.addAll = function (list) {\n  var s = list.length;\n  for (var i = 0; i < s; i++) {\n    var v = list[i];\n    this.add(v);\n  }\n};\n\nmodule.exports = HashSet;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * A classic Quicksort algorithm with Hoare's partition\n * - Works also on LinkedList objects\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LinkedList = __webpack_require__(11);\n\nvar Quicksort = function () {\n    function Quicksort(A, compareFunction) {\n        _classCallCheck(this, Quicksort);\n\n        if (compareFunction !== null || compareFunction !== undefined) this.compareFunction = this._defaultCompareFunction;\n\n        var length = void 0;\n        if (A instanceof LinkedList) length = A.size();else length = A.length;\n\n        this._quicksort(A, 0, length - 1);\n    }\n\n    _createClass(Quicksort, [{\n        key: '_quicksort',\n        value: function _quicksort(A, p, r) {\n            if (p < r) {\n                var q = this._partition(A, p, r);\n                this._quicksort(A, p, q);\n                this._quicksort(A, q + 1, r);\n            }\n        }\n    }, {\n        key: '_partition',\n        value: function _partition(A, p, r) {\n            var x = this._get(A, p);\n            var i = p;\n            var j = r;\n            while (true) {\n                while (this.compareFunction(x, this._get(A, j))) {\n                    j--;\n                }while (this.compareFunction(this._get(A, i), x)) {\n                    i++;\n                }if (i < j) {\n                    this._swap(A, i, j);\n                    i++;\n                    j--;\n                } else return j;\n            }\n        }\n    }, {\n        key: '_get',\n        value: function _get(object, index) {\n            if (object instanceof LinkedList) return object.get_object_at(index);else return object[index];\n        }\n    }, {\n        key: '_set',\n        value: function _set(object, index, value) {\n            if (object instanceof LinkedList) object.set_object_at(index, value);else object[index] = value;\n        }\n    }, {\n        key: '_swap',\n        value: function _swap(A, i, j) {\n            var temp = this._get(A, i);\n            this._set(A, i, this._get(A, j));\n            this._set(A, j, temp);\n        }\n    }, {\n        key: '_defaultCompareFunction',\n        value: function _defaultCompareFunction(a, b) {\n            return b > a;\n        }\n    }]);\n\n    return Quicksort;\n}();\n\nmodule.exports = Quicksort;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *   Needleman-Wunsch algorithm is an procedure to compute the optimal global alignment of two string\n *   sequences by S.B.Needleman and C.D.Wunsch (1970).\n *\n *   Aside from the inputs, you can assign the scores for,\n *   - Match: The two characters at the current index are same.\n *   - Mismatch: The two characters at the current index are different.\n *   - Insertion/Deletion(gaps): The best alignment involves one letter aligning to a gap in the other string.\n */\n\nvar NeedlemanWunsch = function () {\n    function NeedlemanWunsch(sequence1, sequence2) {\n        var match_score = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var mismatch_penalty = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n        var gap_penalty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\n\n        _classCallCheck(this, NeedlemanWunsch);\n\n        this.sequence1 = sequence1;\n        this.sequence2 = sequence2;\n        this.match_score = match_score;\n        this.mismatch_penalty = mismatch_penalty;\n        this.gap_penalty = gap_penalty;\n\n        // Just the remove redundancy\n        this.iMax = sequence1.length + 1;\n        this.jMax = sequence2.length + 1;\n\n        // Grid matrix of scores\n        this.grid = new Array(this.iMax);\n        for (var i = 0; i < this.iMax; i++) {\n            this.grid[i] = new Array(this.jMax);\n\n            for (var j = 0; j < this.jMax; j++) {\n                this.grid[i][j] = 0;\n            }\n        }\n\n        // Traceback matrix (2D array, each cell is an array of boolean values for [`Diag`, `Up`, `Left`] positions)\n        this.tracebackGrid = new Array(this.iMax);\n        for (var _i = 0; _i < this.iMax; _i++) {\n            this.tracebackGrid[_i] = new Array(this.jMax);\n\n            for (var _j = 0; _j < this.jMax; _j++) {\n                this.tracebackGrid[_i][_j] = [null, null, null];\n            }\n        }\n\n        // The aligned sequences (return multiple possibilities)\n        this.alignments = [];\n\n        // Final alignment score\n        this.score = -1;\n\n        // Calculate scores and tracebacks\n        this.computeGrids();\n    }\n\n    _createClass(NeedlemanWunsch, [{\n        key: \"getScore\",\n        value: function getScore() {\n            return this.score;\n        }\n    }, {\n        key: \"getAlignments\",\n        value: function getAlignments() {\n            return this.alignments;\n        }\n\n        // Main dynamic programming procedure\n\n    }, {\n        key: \"computeGrids\",\n        value: function computeGrids() {\n            // Fill in the first row\n            for (var j = 1; j < this.jMax; j++) {\n                this.grid[0][j] = this.grid[0][j - 1] + this.gap_penalty;\n                this.tracebackGrid[0][j] = [false, false, true];\n            }\n\n            // Fill in the first column\n            for (var i = 1; i < this.iMax; i++) {\n                this.grid[i][0] = this.grid[i - 1][0] + this.gap_penalty;\n                this.tracebackGrid[i][0] = [false, true, false];\n            }\n\n            // Fill the rest of the grid\n            for (var _i2 = 1; _i2 < this.iMax; _i2++) {\n                for (var _j2 = 1; _j2 < this.jMax; _j2++) {\n                    // Find the max score(s) among [`Diag`, `Up`, `Left`]\n                    var diag = void 0;\n                    if (this.sequence1[_i2 - 1] === this.sequence2[_j2 - 1]) diag = this.grid[_i2 - 1][_j2 - 1] + this.match_score;else diag = this.grid[_i2 - 1][_j2 - 1] + this.mismatch_penalty;\n\n                    var up = this.grid[_i2 - 1][_j2] + this.gap_penalty;\n                    var left = this.grid[_i2][_j2 - 1] + this.gap_penalty;\n\n                    // If there exists multiple max values, capture them for multiple paths\n                    var maxOf = [diag, up, left];\n                    var indices = this.arrayAllMaxIndexes(maxOf);\n\n                    // Update Grids\n                    this.grid[_i2][_j2] = maxOf[indices[0]];\n                    this.tracebackGrid[_i2][_j2] = [indices.includes(0), indices.includes(1), indices.includes(2)];\n                }\n            }\n\n            // Update alignment score\n            this.score = this.grid[this.iMax - 1][this.jMax - 1];\n        }\n\n        // Gets all possible valid sequence combinations\n\n    }, {\n        key: \"alignmentTraceback\",\n        value: function alignmentTraceback() {\n            var inProcessAlignments = [];\n\n            inProcessAlignments.push({ pos: [this.sequence1.length, this.sequence2.length],\n                seq1: \"\",\n                seq2: \"\"\n            });\n\n            while (inProcessAlignments[0]) {\n                var current = inProcessAlignments[0];\n                var directions = this.tracebackGrid[current.pos[0]][current.pos[1]];\n\n                if (directions[0]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1] - 1],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n                if (directions[1]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1]],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: '-' + current.seq2\n                    });\n                }\n                if (directions[2]) {\n                    inProcessAlignments.push({ pos: [current.pos[0], current.pos[1] - 1],\n                        seq1: '-' + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n\n                if (current.pos[0] === 0 && current.pos[1] === 0) this.alignments.push({ sequence1: current.seq1,\n                    sequence2: current.seq2\n                });\n\n                inProcessAlignments.shift();\n            }\n\n            return this.alignments;\n        }\n\n        // Helper Functions\n\n    }, {\n        key: \"getAllIndexes\",\n        value: function getAllIndexes(arr, val) {\n            var indexes = [],\n                i = -1;\n            while ((i = arr.indexOf(val, i + 1)) !== -1) {\n                indexes.push(i);\n            }\n            return indexes;\n        }\n    }, {\n        key: \"arrayAllMaxIndexes\",\n        value: function arrayAllMaxIndexes(array) {\n            return this.getAllIndexes(array, Math.max.apply(null, array));\n        }\n    }]);\n\n    return NeedlemanWunsch;\n}();\n\nmodule.exports = NeedlemanWunsch;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar layoutBase = function layoutBase() {\n  return;\n};\n\nlayoutBase.FDLayout = __webpack_require__(18);\nlayoutBase.FDLayoutConstants = __webpack_require__(7);\nlayoutBase.FDLayoutEdge = __webpack_require__(19);\nlayoutBase.FDLayoutNode = __webpack_require__(20);\nlayoutBase.DimensionD = __webpack_require__(21);\nlayoutBase.HashMap = __webpack_require__(22);\nlayoutBase.HashSet = __webpack_require__(23);\nlayoutBase.IGeometry = __webpack_require__(8);\nlayoutBase.IMath = __webpack_require__(9);\nlayoutBase.Integer = __webpack_require__(10);\nlayoutBase.Point = __webpack_require__(12);\nlayoutBase.PointD = __webpack_require__(4);\nlayoutBase.RandomSeed = __webpack_require__(16);\nlayoutBase.RectangleD = __webpack_require__(13);\nlayoutBase.Transform = __webpack_require__(17);\nlayoutBase.UniqueIDGeneretor = __webpack_require__(14);\nlayoutBase.Quicksort = __webpack_require__(24);\nlayoutBase.LinkedList = __webpack_require__(11);\nlayoutBase.LGraphObject = __webpack_require__(2);\nlayoutBase.LGraph = __webpack_require__(5);\nlayoutBase.LEdge = __webpack_require__(1);\nlayoutBase.LGraphManager = __webpack_require__(6);\nlayoutBase.LNode = __webpack_require__(3);\nlayoutBase.Layout = __webpack_require__(15);\nlayoutBase.LayoutConstants = __webpack_require__(0);\nlayoutBase.NeedlemanWunsch = __webpack_require__(25);\n\nmodule.exports = layoutBase;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Emitter() {\n  this.listeners = [];\n}\n\nvar p = Emitter.prototype;\n\np.addListener = function (event, callback) {\n  this.listeners.push({\n    event: event,\n    callback: callback\n  });\n};\n\np.removeListener = function (event, callback) {\n  for (var i = this.listeners.length; i >= 0; i--) {\n    var l = this.listeners[i];\n\n    if (l.event === event && l.callback === callback) {\n      this.listeners.splice(i, 1);\n    }\n  }\n};\n\np.emit = function (event, data) {\n  for (var i = 0; i < this.listeners.length; i++) {\n    var l = this.listeners[i];\n\n    if (event === l.event) {\n      l.callback(data);\n    }\n  }\n};\n\nmodule.exports = Emitter;\n\n/***/ })\n/******/ ]);\n});","import {\n  createText\n} from \"./chunk-62K37W7T.mjs\";\nimport {\n  parseFontSize\n} from \"./chunk-U37J5Y7L.mjs\";\nimport {\n  selectSvgElement\n} from \"./chunk-T57MJCP2.mjs\";\nimport {\n  __name,\n  defaultConfig_default,\n  getConfig2 as getConfig,\n  log,\n  sanitizeText,\n  setupGraphViewbox\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/diagrams/mindmap/parser/mindmap.jison\nvar parser = function() {\n  var o = /* @__PURE__ */ __name(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, \"o\"), $V0 = [1, 4], $V1 = [1, 13], $V2 = [1, 12], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 20], $V6 = [1, 19], $V7 = [6, 7, 8], $V8 = [1, 26], $V9 = [1, 24], $Va = [1, 25], $Vb = [6, 7, 11], $Vc = [1, 6, 13, 15, 16, 19, 22], $Vd = [1, 33], $Ve = [1, 34], $Vf = [1, 6, 7, 11, 13, 15, 16, 19, 22];\n  var parser2 = {\n    trace: /* @__PURE__ */ __name(function trace() {\n    }, \"trace\"),\n    yy: {},\n    symbols_: { \"error\": 2, \"start\": 3, \"mindMap\": 4, \"spaceLines\": 5, \"SPACELINE\": 6, \"NL\": 7, \"MINDMAP\": 8, \"document\": 9, \"stop\": 10, \"EOF\": 11, \"statement\": 12, \"SPACELIST\": 13, \"node\": 14, \"ICON\": 15, \"CLASS\": 16, \"nodeWithId\": 17, \"nodeWithoutId\": 18, \"NODE_DSTART\": 19, \"NODE_DESCR\": 20, \"NODE_DEND\": 21, \"NODE_ID\": 22, \"$accept\": 0, \"$end\": 1 },\n    terminals_: { 2: \"error\", 6: \"SPACELINE\", 7: \"NL\", 8: \"MINDMAP\", 11: \"EOF\", 13: \"SPACELIST\", 15: \"ICON\", 16: \"CLASS\", 19: \"NODE_DSTART\", 20: \"NODE_DESCR\", 21: \"NODE_DEND\", 22: \"NODE_ID\" },\n    productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 2], [12, 2], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [18, 3], [17, 1], [17, 4]],\n    performAction: /* @__PURE__ */ __name(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 6:\n        case 7:\n          return yy;\n          break;\n        case 8:\n          yy.getLogger().trace(\"Stop NL \");\n          break;\n        case 9:\n          yy.getLogger().trace(\"Stop EOF \");\n          break;\n        case 11:\n          yy.getLogger().trace(\"Stop NL2 \");\n          break;\n        case 12:\n          yy.getLogger().trace(\"Stop EOF2 \");\n          break;\n        case 15:\n          yy.getLogger().info(\"Node: \", $$[$0].id);\n          yy.addNode($$[$0 - 1].length, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 16:\n          yy.getLogger().trace(\"Icon: \", $$[$0]);\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 17:\n        case 21:\n          yy.decorateNode({ class: $$[$0] });\n          break;\n        case 18:\n          yy.getLogger().trace(\"SPACELIST\");\n          break;\n        case 19:\n          yy.getLogger().trace(\"Node: \", $$[$0].id);\n          yy.addNode(0, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 20:\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 25:\n          yy.getLogger().trace(\"node found ..\", $$[$0 - 2]);\n          this.$ = { id: $$[$0 - 1], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n        case 26:\n          this.$ = { id: $$[$0], descr: $$[$0], type: yy.nodeType.DEFAULT };\n          break;\n        case 27:\n          yy.getLogger().trace(\"node found ..\", $$[$0 - 3]);\n          this.$ = { id: $$[$0 - 3], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n      }\n    }, \"anonymous\"),\n    table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: $V0 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: $V0 }, { 6: $V1, 7: [1, 10], 9: 9, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($V7, [2, 3]), { 1: [2, 2] }, o($V7, [2, 4]), o($V7, [2, 5]), { 1: [2, 6], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V1, 9: 22, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V8, 7: $V9, 10: 23, 11: $Va }, o($Vb, [2, 22], { 17: 17, 18: 18, 14: 27, 15: [1, 28], 16: [1, 29], 19: $V5, 22: $V6 }), o($Vb, [2, 18]), o($Vb, [2, 19]), o($Vb, [2, 20]), o($Vb, [2, 21]), o($Vb, [2, 23]), o($Vb, [2, 24]), o($Vb, [2, 26], { 19: [1, 30] }), { 20: [1, 31] }, { 6: $V8, 7: $V9, 10: 32, 11: $Va }, { 1: [2, 7], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($Vc, [2, 14], { 7: $Vd, 11: $Ve }), o($Vf, [2, 8]), o($Vf, [2, 9]), o($Vf, [2, 10]), o($Vb, [2, 15]), o($Vb, [2, 16]), o($Vb, [2, 17]), { 20: [1, 35] }, { 21: [1, 36] }, o($Vc, [2, 13], { 7: $Vd, 11: $Ve }), o($Vf, [2, 11]), o($Vf, [2, 12]), { 21: [1, 37] }, o($Vb, [2, 25]), o($Vb, [2, 27])],\n    defaultActions: { 2: [2, 1], 6: [2, 2] },\n    parseError: /* @__PURE__ */ __name(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, \"parseError\"),\n    parse: /* @__PURE__ */ __name(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == \"undefined\") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === \"function\") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      __name(popStack, \"popStack\");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== \"number\") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      __name(lex, \"lex\");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == \"undefined\") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n          var errStr = \"\";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + lexer2.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== \"undefined\") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, \"parse\")\n  };\n  var lexer = /* @__PURE__ */ function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ __name(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, \"parseError\"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ __name(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = \"\";\n        this.conditionStack = [\"INITIAL\"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, \"setInput\"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ __name(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, \"input\"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ __name(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, \"unput\"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ __name(function() {\n        this._more = true;\n        return this;\n      }, \"more\"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ __name(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, \"reject\"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ __name(function(n) {\n        this.unput(this.match.slice(n));\n      }, \"less\"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ __name(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? \"...\" : \"\") + past.substr(-20).replace(/\\n/g, \"\");\n      }, \"pastInput\"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ __name(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? \"...\" : \"\")).replace(/\\n/g, \"\");\n      }, \"upcomingInput\"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ __name(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      }, \"showPosition\"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ __name(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, \"test_match\"),\n      // return next match in input\n      next: /* @__PURE__ */ __name(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = \"\";\n          this.match = \"\";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". Unrecognized text.\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, \"next\"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ __name(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, \"lex\"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ __name(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, \"begin\"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ __name(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, \"popState\"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ __name(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      }, \"_currentRules\"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ __name(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      }, \"topState\"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ __name(function pushState(condition) {\n        this.begin(condition);\n      }, \"pushState\"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ __name(function stateStackSize() {\n        return this.conditionStack.length;\n      }, \"stateStackSize\"),\n      options: { \"case-insensitive\": true },\n      performAction: /* @__PURE__ */ __name(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            yy.getLogger().trace(\"Found comment\", yy_.yytext);\n            return 6;\n            break;\n          case 1:\n            return 8;\n            break;\n          case 2:\n            this.begin(\"CLASS\");\n            break;\n          case 3:\n            this.popState();\n            return 16;\n            break;\n          case 4:\n            this.popState();\n            break;\n          case 5:\n            yy.getLogger().trace(\"Begin icon\");\n            this.begin(\"ICON\");\n            break;\n          case 6:\n            yy.getLogger().trace(\"SPACELINE\");\n            return 6;\n            break;\n          case 7:\n            return 7;\n            break;\n          case 8:\n            return 15;\n            break;\n          case 9:\n            yy.getLogger().trace(\"end icon\");\n            this.popState();\n            break;\n          case 10:\n            yy.getLogger().trace(\"Exploding node\");\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 11:\n            yy.getLogger().trace(\"Cloud\");\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 12:\n            yy.getLogger().trace(\"Explosion Bang\");\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 13:\n            yy.getLogger().trace(\"Cloud Bang\");\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 14:\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 15:\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 16:\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 17:\n            this.begin(\"NODE\");\n            return 19;\n            break;\n          case 18:\n            return 13;\n            break;\n          case 19:\n            return 22;\n            break;\n          case 20:\n            return 11;\n            break;\n          case 21:\n            this.begin(\"NSTR2\");\n            break;\n          case 22:\n            return \"NODE_DESCR\";\n            break;\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            yy.getLogger().trace(\"Starting NSTR\");\n            this.begin(\"NSTR\");\n            break;\n          case 25:\n            yy.getLogger().trace(\"description:\", yy_.yytext);\n            return \"NODE_DESCR\";\n            break;\n          case 26:\n            this.popState();\n            break;\n          case 27:\n            this.popState();\n            yy.getLogger().trace(\"node end ))\");\n            return \"NODE_DEND\";\n            break;\n          case 28:\n            this.popState();\n            yy.getLogger().trace(\"node end )\");\n            return \"NODE_DEND\";\n            break;\n          case 29:\n            this.popState();\n            yy.getLogger().trace(\"node end ...\", yy_.yytext);\n            return \"NODE_DEND\";\n            break;\n          case 30:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n            break;\n          case 31:\n            this.popState();\n            yy.getLogger().trace(\"node end (-\");\n            return \"NODE_DEND\";\n            break;\n          case 32:\n            this.popState();\n            yy.getLogger().trace(\"node end (-\");\n            return \"NODE_DEND\";\n            break;\n          case 33:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n            break;\n          case 34:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n            break;\n          case 35:\n            yy.getLogger().trace(\"Long description:\", yy_.yytext);\n            return 20;\n            break;\n          case 36:\n            yy.getLogger().trace(\"Long description:\", yy_.yytext);\n            return 20;\n            break;\n        }\n      }, \"anonymous\"),\n      rules: [/^(?:\\s*%%.*)/i, /^(?:mindmap\\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\\n)/i, /^(?:::icon\\()/i, /^(?:[\\s]+[\\n])/i, /^(?:[\\n]+)/i, /^(?:[^\\)]+)/i, /^(?:\\))/i, /^(?:-\\))/i, /^(?:\\(-)/i, /^(?:\\)\\))/i, /^(?:\\))/i, /^(?:\\(\\()/i, /^(?:\\{\\{)/i, /^(?:\\()/i, /^(?:\\[)/i, /^(?:[\\s]+)/i, /^(?:[^\\(\\[\\n\\)\\{\\}]+)/i, /^(?:$)/i, /^(?:[\"][`])/i, /^(?:[^`\"]+)/i, /^(?:[`][\"])/i, /^(?:[\"])/i, /^(?:[^\"]+)/i, /^(?:[\"])/i, /^(?:[\\)]\\))/i, /^(?:[\\)])/i, /^(?:[\\]])/i, /^(?:\\}\\})/i, /^(?:\\(-)/i, /^(?:-\\))/i, /^(?:\\(\\()/i, /^(?:\\()/i, /^(?:[^\\)\\]\\(\\}]+)/i, /^(?:.+(?!\\(\\())/i],\n      conditions: { \"CLASS\": { \"rules\": [3, 4], \"inclusive\": false }, \"ICON\": { \"rules\": [8, 9], \"inclusive\": false }, \"NSTR2\": { \"rules\": [22, 23], \"inclusive\": false }, \"NSTR\": { \"rules\": [25, 26], \"inclusive\": false }, \"NODE\": { \"rules\": [21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 2, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], \"inclusive\": true } }\n    };\n    return lexer2;\n  }();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  __name(Parser, \"Parser\");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n}();\nparser.parser = parser;\nvar mindmap_default = parser;\n\n// src/diagrams/mindmap/mindmapDb.ts\nvar nodeType = {\n  DEFAULT: 0,\n  NO_BORDER: 0,\n  ROUNDED_RECT: 1,\n  RECT: 2,\n  CIRCLE: 3,\n  CLOUD: 4,\n  BANG: 5,\n  HEXAGON: 6\n};\nvar MindmapDB = class {\n  constructor() {\n    this.nodes = [];\n    this.count = 0;\n    this.elements = {};\n    this.getLogger = this.getLogger.bind(this);\n    this.nodeType = nodeType;\n    this.clear();\n    this.getType = this.getType.bind(this);\n    this.getMindmap = this.getMindmap.bind(this);\n    this.getElementById = this.getElementById.bind(this);\n    this.getParent = this.getParent.bind(this);\n    this.getMindmap = this.getMindmap.bind(this);\n    this.addNode = this.addNode.bind(this);\n    this.decorateNode = this.decorateNode.bind(this);\n  }\n  static {\n    __name(this, \"MindmapDB\");\n  }\n  clear() {\n    this.nodes = [];\n    this.count = 0;\n    this.elements = {};\n  }\n  getParent(level) {\n    for (let i = this.nodes.length - 1; i >= 0; i--) {\n      if (this.nodes[i].level < level) {\n        return this.nodes[i];\n      }\n    }\n    return null;\n  }\n  getMindmap() {\n    return this.nodes.length > 0 ? this.nodes[0] : null;\n  }\n  addNode(level, id, descr, type) {\n    log.info(\"addNode\", level, id, descr, type);\n    const conf = getConfig();\n    let padding = conf.mindmap?.padding ?? defaultConfig_default.mindmap.padding;\n    switch (type) {\n      case this.nodeType.ROUNDED_RECT:\n      case this.nodeType.RECT:\n      case this.nodeType.HEXAGON:\n        padding *= 2;\n        break;\n    }\n    const node = {\n      id: this.count++,\n      nodeId: sanitizeText(id, conf),\n      level,\n      descr: sanitizeText(descr, conf),\n      type,\n      children: [],\n      width: conf.mindmap?.maxNodeWidth ?? defaultConfig_default.mindmap.maxNodeWidth,\n      padding\n    };\n    const parent = this.getParent(level);\n    if (parent) {\n      parent.children.push(node);\n      this.nodes.push(node);\n    } else {\n      if (this.nodes.length === 0) {\n        this.nodes.push(node);\n      } else {\n        throw new Error(\n          `There can be only one root. No parent could be found for (\"${node.descr}\")`\n        );\n      }\n    }\n  }\n  getType(startStr, endStr) {\n    log.debug(\"In get type\", startStr, endStr);\n    switch (startStr) {\n      case \"[\":\n        return this.nodeType.RECT;\n      case \"(\":\n        return endStr === \")\" ? this.nodeType.ROUNDED_RECT : this.nodeType.CLOUD;\n      case \"((\":\n        return this.nodeType.CIRCLE;\n      case \")\":\n        return this.nodeType.CLOUD;\n      case \"))\":\n        return this.nodeType.BANG;\n      case \"{{\":\n        return this.nodeType.HEXAGON;\n      default:\n        return this.nodeType.DEFAULT;\n    }\n  }\n  setElementForId(id, element) {\n    this.elements[id] = element;\n  }\n  getElementById(id) {\n    return this.elements[id];\n  }\n  decorateNode(decoration) {\n    if (!decoration) {\n      return;\n    }\n    const config = getConfig();\n    const node = this.nodes[this.nodes.length - 1];\n    if (decoration.icon) {\n      node.icon = sanitizeText(decoration.icon, config);\n    }\n    if (decoration.class) {\n      node.class = sanitizeText(decoration.class, config);\n    }\n  }\n  type2Str(type) {\n    switch (type) {\n      case this.nodeType.DEFAULT:\n        return \"no-border\";\n      case this.nodeType.RECT:\n        return \"rect\";\n      case this.nodeType.ROUNDED_RECT:\n        return \"rounded-rect\";\n      case this.nodeType.CIRCLE:\n        return \"circle\";\n      case this.nodeType.CLOUD:\n        return \"cloud\";\n      case this.nodeType.BANG:\n        return \"bang\";\n      case this.nodeType.HEXAGON:\n        return \"hexgon\";\n      // cspell: disable-line\n      default:\n        return \"no-border\";\n    }\n  }\n  getLogger() {\n    return log;\n  }\n};\n\n// src/diagrams/mindmap/mindmapRenderer.ts\nimport cytoscape from \"cytoscape\";\nimport coseBilkent from \"cytoscape-cose-bilkent\";\nimport { select } from \"d3\";\n\n// src/diagrams/mindmap/svgDraw.ts\nvar MAX_SECTIONS = 12;\nvar defaultBkg = /* @__PURE__ */ __name(function(db, elem, node, section) {\n  const rd = 5;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\n    \"d\",\n    `M0 ${node.height - rd} v${-node.height + 2 * rd} q0,-5 5,-5 h${node.width - 2 * rd} q5,0 5,5 v${node.height - rd} H0 Z`\n  );\n  elem.append(\"line\").attr(\"class\", \"node-line-\" + section).attr(\"x1\", 0).attr(\"y1\", node.height).attr(\"x2\", node.width).attr(\"y2\", node.height);\n}, \"defaultBkg\");\nvar rectBkg = /* @__PURE__ */ __name(function(db, elem, node) {\n  elem.append(\"rect\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\"height\", node.height).attr(\"width\", node.width);\n}, \"rectBkg\");\nvar cloudBkg = /* @__PURE__ */ __name(function(db, elem, node) {\n  const w = node.width;\n  const h = node.height;\n  const r1 = 0.15 * w;\n  const r2 = 0.25 * w;\n  const r3 = 0.35 * w;\n  const r4 = 0.2 * w;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\n    \"d\",\n    `M0 0 a${r1},${r1} 0 0,1 ${w * 0.25},${-1 * w * 0.1}\n      a${r3},${r3} 1 0,1 ${w * 0.4},${-1 * w * 0.1}\n      a${r2},${r2} 1 0,1 ${w * 0.35},${1 * w * 0.2}\n\n      a${r1},${r1} 1 0,1 ${w * 0.15},${1 * h * 0.35}\n      a${r4},${r4} 1 0,1 ${-1 * w * 0.15},${1 * h * 0.65}\n\n      a${r2},${r1} 1 0,1 ${-1 * w * 0.25},${w * 0.15}\n      a${r3},${r3} 1 0,1 ${-1 * w * 0.5},${0}\n      a${r1},${r1} 1 0,1 ${-1 * w * 0.25},${-1 * w * 0.15}\n\n      a${r1},${r1} 1 0,1 ${-1 * w * 0.1},${-1 * h * 0.35}\n      a${r4},${r4} 1 0,1 ${w * 0.1},${-1 * h * 0.65}\n\n    H0 V0 Z`\n  );\n}, \"cloudBkg\");\nvar bangBkg = /* @__PURE__ */ __name(function(db, elem, node) {\n  const w = node.width;\n  const h = node.height;\n  const r = 0.15 * w;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\n    \"d\",\n    `M0 0 a${r},${r} 1 0,0 ${w * 0.25},${-1 * h * 0.1}\n      a${r},${r} 1 0,0 ${w * 0.25},${0}\n      a${r},${r} 1 0,0 ${w * 0.25},${0}\n      a${r},${r} 1 0,0 ${w * 0.25},${1 * h * 0.1}\n\n      a${r},${r} 1 0,0 ${w * 0.15},${1 * h * 0.33}\n      a${r * 0.8},${r * 0.8} 1 0,0 ${0},${1 * h * 0.34}\n      a${r},${r} 1 0,0 ${-1 * w * 0.15},${1 * h * 0.33}\n\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${h * 0.15}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${0}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${0}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${-1 * h * 0.15}\n\n      a${r},${r} 1 0,0 ${-1 * w * 0.1},${-1 * h * 0.33}\n      a${r * 0.8},${r * 0.8} 1 0,0 ${0},${-1 * h * 0.34}\n      a${r},${r} 1 0,0 ${w * 0.1},${-1 * h * 0.33}\n\n    H0 V0 Z`\n  );\n}, \"bangBkg\");\nvar circleBkg = /* @__PURE__ */ __name(function(db, elem, node) {\n  elem.append(\"circle\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\"r\", node.width / 2);\n}, \"circleBkg\");\nfunction insertPolygonShape(parent, w, h, points, node) {\n  return parent.insert(\"polygon\", \":first-child\").attr(\n    \"points\",\n    points.map(function(d) {\n      return d.x + \",\" + d.y;\n    }).join(\" \")\n  ).attr(\"transform\", \"translate(\" + (node.width - w) / 2 + \", \" + h + \")\");\n}\n__name(insertPolygonShape, \"insertPolygonShape\");\nvar hexagonBkg = /* @__PURE__ */ __name(function(_db, elem, node) {\n  const h = node.height;\n  const f = 4;\n  const m = h / f;\n  const w = node.width - node.padding + 2 * m;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  insertPolygonShape(elem, w, h, points, node);\n}, \"hexagonBkg\");\nvar roundedRectBkg = /* @__PURE__ */ __name(function(db, elem, node) {\n  elem.append(\"rect\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + db.type2Str(node.type)).attr(\"height\", node.height).attr(\"rx\", node.padding).attr(\"ry\", node.padding).attr(\"width\", node.width);\n}, \"roundedRectBkg\");\nvar drawNode = /* @__PURE__ */ __name(async function(db, elem, node, fullSection, conf) {\n  const htmlLabels = conf.htmlLabels;\n  const section = fullSection % (MAX_SECTIONS - 1);\n  const nodeElem = elem.append(\"g\");\n  node.section = section;\n  let sectionClass = \"section-\" + section;\n  if (section < 0) {\n    sectionClass += \" section-root\";\n  }\n  nodeElem.attr(\"class\", (node.class ? node.class + \" \" : \"\") + \"mindmap-node \" + sectionClass);\n  const bkgElem = nodeElem.append(\"g\");\n  const textElem = nodeElem.append(\"g\");\n  const description = node.descr.replace(/(<br\\/*>)/g, \"\\n\");\n  await createText(\n    textElem,\n    description,\n    {\n      useHtmlLabels: htmlLabels,\n      width: node.width,\n      classes: \"mindmap-node-label\"\n    },\n    conf\n  );\n  if (!htmlLabels) {\n    textElem.attr(\"dy\", \"1em\").attr(\"alignment-baseline\", \"middle\").attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\");\n  }\n  const bbox = textElem.node().getBBox();\n  const [fontSize] = parseFontSize(conf.fontSize);\n  node.height = bbox.height + fontSize * 1.1 * 0.5 + node.padding;\n  node.width = bbox.width + 2 * node.padding;\n  if (node.icon) {\n    if (node.type === db.nodeType.CIRCLE) {\n      node.height += 50;\n      node.width += 50;\n      const icon = nodeElem.append(\"foreignObject\").attr(\"height\", \"50px\").attr(\"width\", node.width).attr(\"style\", \"text-align: center;\");\n      icon.append(\"div\").attr(\"class\", \"icon-container\").append(\"i\").attr(\"class\", \"node-icon-\" + section + \" \" + node.icon);\n      textElem.attr(\n        \"transform\",\n        \"translate(\" + node.width / 2 + \", \" + (node.height / 2 - 1.5 * node.padding) + \")\"\n      );\n    } else {\n      node.width += 50;\n      const orgHeight = node.height;\n      node.height = Math.max(orgHeight, 60);\n      const heightDiff = Math.abs(node.height - orgHeight);\n      const icon = nodeElem.append(\"foreignObject\").attr(\"width\", \"60px\").attr(\"height\", node.height).attr(\"style\", \"text-align: center;margin-top:\" + heightDiff / 2 + \"px;\");\n      icon.append(\"div\").attr(\"class\", \"icon-container\").append(\"i\").attr(\"class\", \"node-icon-\" + section + \" \" + node.icon);\n      textElem.attr(\n        \"transform\",\n        \"translate(\" + (25 + node.width / 2) + \", \" + (heightDiff / 2 + node.padding / 2) + \")\"\n      );\n    }\n  } else {\n    if (!htmlLabels) {\n      const dx = node.width / 2;\n      const dy = node.padding / 2;\n      textElem.attr(\"transform\", \"translate(\" + dx + \", \" + dy + \")\");\n    } else {\n      const dx = (node.width - bbox.width) / 2;\n      const dy = (node.height - bbox.height) / 2;\n      textElem.attr(\"transform\", \"translate(\" + dx + \", \" + dy + \")\");\n    }\n  }\n  switch (node.type) {\n    case db.nodeType.DEFAULT:\n      defaultBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.ROUNDED_RECT:\n      roundedRectBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.RECT:\n      rectBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.CIRCLE:\n      bkgElem.attr(\"transform\", \"translate(\" + node.width / 2 + \", \" + +node.height / 2 + \")\");\n      circleBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.CLOUD:\n      cloudBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.BANG:\n      bangBkg(db, bkgElem, node, section);\n      break;\n    case db.nodeType.HEXAGON:\n      hexagonBkg(db, bkgElem, node, section);\n      break;\n  }\n  db.setElementForId(node.id, nodeElem);\n  return node.height;\n}, \"drawNode\");\nvar positionNode = /* @__PURE__ */ __name(function(db, node) {\n  const nodeElem = db.getElementById(node.id);\n  const x = node.x || 0;\n  const y = node.y || 0;\n  nodeElem.attr(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n}, \"positionNode\");\n\n// src/diagrams/mindmap/mindmapRenderer.ts\ncytoscape.use(coseBilkent);\nasync function drawNodes(db, svg, mindmap, section, conf) {\n  await drawNode(db, svg, mindmap, section, conf);\n  if (mindmap.children) {\n    await Promise.all(\n      mindmap.children.map(\n        (child, index) => drawNodes(db, svg, child, section < 0 ? index : section, conf)\n      )\n    );\n  }\n}\n__name(drawNodes, \"drawNodes\");\nfunction drawEdges(edgesEl, cy) {\n  cy.edges().map((edge, id) => {\n    const data = edge.data();\n    if (edge[0]._private.bodyBounds) {\n      const bounds = edge[0]._private.rscratch;\n      log.trace(\"Edge: \", id, data);\n      edgesEl.insert(\"path\").attr(\n        \"d\",\n        `M ${bounds.startX},${bounds.startY} L ${bounds.midX},${bounds.midY} L${bounds.endX},${bounds.endY} `\n      ).attr(\"class\", \"edge section-edge-\" + data.section + \" edge-depth-\" + data.depth);\n    }\n  });\n}\n__name(drawEdges, \"drawEdges\");\nfunction addNodes(mindmap, cy, conf, level) {\n  cy.add({\n    group: \"nodes\",\n    data: {\n      id: mindmap.id.toString(),\n      labelText: mindmap.descr,\n      height: mindmap.height,\n      width: mindmap.width,\n      level,\n      nodeId: mindmap.id,\n      padding: mindmap.padding,\n      type: mindmap.type\n    },\n    position: {\n      x: mindmap.x,\n      y: mindmap.y\n    }\n  });\n  if (mindmap.children) {\n    mindmap.children.forEach((child) => {\n      addNodes(child, cy, conf, level + 1);\n      cy.add({\n        group: \"edges\",\n        data: {\n          id: `${mindmap.id}_${child.id}`,\n          source: mindmap.id,\n          target: child.id,\n          depth: level,\n          section: child.section\n        }\n      });\n    });\n  }\n}\n__name(addNodes, \"addNodes\");\nfunction layoutMindmap(node, conf) {\n  return new Promise((resolve) => {\n    const renderEl = select(\"body\").append(\"div\").attr(\"id\", \"cy\").attr(\"style\", \"display:none\");\n    const cy = cytoscape({\n      container: document.getElementById(\"cy\"),\n      // container to render in\n      style: [\n        {\n          selector: \"edge\",\n          style: {\n            \"curve-style\": \"bezier\"\n          }\n        }\n      ]\n    });\n    renderEl.remove();\n    addNodes(node, cy, conf, 0);\n    cy.nodes().forEach(function(n) {\n      n.layoutDimensions = () => {\n        const data = n.data();\n        return { w: data.width, h: data.height };\n      };\n    });\n    cy.layout({\n      name: \"cose-bilkent\",\n      // @ts-ignore Types for cose-bilkent are not correct?\n      quality: \"proof\",\n      styleEnabled: false,\n      animate: false\n    }).run();\n    cy.ready((e) => {\n      log.info(\"Ready\", e);\n      resolve(cy);\n    });\n  });\n}\n__name(layoutMindmap, \"layoutMindmap\");\nfunction positionNodes(db, cy) {\n  cy.nodes().map((node, id) => {\n    const data = node.data();\n    data.x = node.position().x;\n    data.y = node.position().y;\n    positionNode(db, data);\n    const el = db.getElementById(data.nodeId);\n    log.info(\"id:\", id, \"Position: (\", node.position().x, \", \", node.position().y, \")\", data);\n    el.attr(\n      \"transform\",\n      `translate(${node.position().x - data.width / 2}, ${node.position().y - data.height / 2})`\n    );\n    el.attr(\"attr\", `apa-${id})`);\n  });\n}\n__name(positionNodes, \"positionNodes\");\nvar draw = /* @__PURE__ */ __name(async (text, id, _version, diagObj) => {\n  log.debug(\"Rendering mindmap diagram\\n\" + text);\n  const db = diagObj.db;\n  const mm = db.getMindmap();\n  if (!mm) {\n    return;\n  }\n  const conf = getConfig();\n  conf.htmlLabels = false;\n  const svg = selectSvgElement(id);\n  const edgesElem = svg.append(\"g\");\n  edgesElem.attr(\"class\", \"mindmap-edges\");\n  const nodesElem = svg.append(\"g\");\n  nodesElem.attr(\"class\", \"mindmap-nodes\");\n  await drawNodes(db, nodesElem, mm, -1, conf);\n  const cy = await layoutMindmap(mm, conf);\n  drawEdges(edgesElem, cy);\n  positionNodes(db, cy);\n  setupGraphViewbox(\n    void 0,\n    svg,\n    conf.mindmap?.padding ?? defaultConfig_default.mindmap.padding,\n    conf.mindmap?.useMaxWidth ?? defaultConfig_default.mindmap.useMaxWidth\n  );\n}, \"draw\");\nvar mindmapRenderer_default = {\n  draw\n};\n\n// src/diagrams/mindmap/styles.ts\nimport { darken, lighten, isDark } from \"khroma\";\nvar genSections = /* @__PURE__ */ __name((options) => {\n  let sections = \"\";\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    options[\"lineColor\" + i] = options[\"lineColor\" + i] || options[\"cScaleInv\" + i];\n    if (isDark(options[\"lineColor\" + i])) {\n      options[\"lineColor\" + i] = lighten(options[\"lineColor\" + i], 20);\n    } else {\n      options[\"lineColor\" + i] = darken(options[\"lineColor\" + i], 20);\n    }\n  }\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    const sw = \"\" + (17 - 3 * i);\n    sections += `\n    .section-${i - 1} rect, .section-${i - 1} path, .section-${i - 1} circle, .section-${i - 1} polygon, .section-${i - 1} path  {\n      fill: ${options[\"cScale\" + i]};\n    }\n    .section-${i - 1} text {\n     fill: ${options[\"cScaleLabel\" + i]};\n    }\n    .node-icon-${i - 1} {\n      font-size: 40px;\n      color: ${options[\"cScaleLabel\" + i]};\n    }\n    .section-edge-${i - 1}{\n      stroke: ${options[\"cScale\" + i]};\n    }\n    .edge-depth-${i - 1}{\n      stroke-width: ${sw};\n    }\n    .section-${i - 1} line {\n      stroke: ${options[\"cScaleInv\" + i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `;\n  }\n  return sections;\n}, \"genSections\");\nvar getStyles = /* @__PURE__ */ __name((options) => `\n  .edge {\n    stroke-width: 3;\n  }\n  ${genSections(options)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${options.git0};\n  }\n  .section-root text {\n    fill: ${options.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`, \"getStyles\");\nvar styles_default = getStyles;\n\n// src/diagrams/mindmap/mindmap-definition.ts\nvar diagram = {\n  get db() {\n    return new MindmapDB();\n  },\n  renderer: mindmapRenderer_default,\n  parser: mindmap_default,\n  styles: styles_default\n};\nexport {\n  diagram\n};\n"],"names":["webpackUniversalModuleDefinition","root","factory","module","exports","this","__WEBPACK_EXTERNAL_MODULE_0__","modules","installedModules","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","FDLayoutConstants","CoSEConstants","prop","DEFAULT_USE_MULTI_LEVEL_SCALING","DEFAULT_RADIAL_SEPARATION","DEFAULT_EDGE_LENGTH","DEFAULT_COMPONENT_SEPERATION","TILE","TILING_PADDING_VERTICAL","TILING_PADDING_HORIZONTAL","TREE_REDUCTION_ON_INCREMENTAL","FDLayoutEdge","CoSEEdge","source","target","vEdge","create","LGraph","CoSEGraph","parent","graphMgr","vGraph","LGraphManager","CoSEGraphManager","layout","FDLayoutNode","IMath","CoSENode","gm","loc","size","vNode","move","graphManager","getLayout","displacementX","coolingFactor","springForceX","repulsionForceX","gravitationForceX","noOfChildren","displacementY","springForceY","repulsionForceY","gravitationForceY","Math","abs","maxNodeDisplacement","sign","child","moveBy","getNodes","length","propogateDisplacementToChildren","totalDisplacement","dX","dY","nodes","getChild","node","setPred1","pred1","getPred1","getPred2","pred2","setNext","next","getNext","setProcessed","processed","isProcessed","FDLayout","LayoutConstants","Point","PointD","Layout","Integer","IGeometry","Transform","CoSELayout","toBeTiled","newGraphManager","newGraph","newNode","newEdge","initParameters","arguments","isSubLayout","idealEdgeLength","useSmartIdealEdgeLengthCalculation","DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION","springConstant","DEFAULT_SPRING_STRENGTH","repulsionConstant","DEFAULT_REPULSION_STRENGTH","gravityConstant","DEFAULT_GRAVITY_STRENGTH","compoundGravityConstant","DEFAULT_COMPOUND_GRAVITY_STRENGTH","gravityRangeFactor","DEFAULT_GRAVITY_RANGE_FACTOR","compoundGravityRangeFactor","DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR","prunedNodesAll","growTreeIterations","afterGrowthIterations","isTreeGrowing","isGrowthFinished","coolingCycle","maxCoolingCycle","maxIterations","CONVERGENCE_CHECK_PERIOD","finalTemperature","coolingAdjuster","createBendsAsNeeded","DEFAULT_CREATE_BENDS_AS_NEEDED","createBendpoints","resetAllEdges","level","classicLayout","nodesWithGravity","calculateNodesToApplyGravitationTo","setAllNodesToApplyGravitation","calcNoOfChildrenForAllNodes","calcLowestCommonAncestors","calcInclusionTreeDepths","getRoot","calcEstimatedSize","calcIdealEdgeLengths","incremental","forest","getFlatForest","positionNodesRadially","reduceTrees","resetAllNodesToApplyGravitation","allNodes","Set","getAllNodes","intersection","filter","x","has","positionNodesRandomly","initSpringEmbedder","runSpringEmbedder","tick","totalIterations","isConverged","layoutQuality","max","initialCoolingFactor","pow","log","animationPeriod","ceil","initialAnimationPeriod","sqrt","updateBounds","updateGrid","growTree","DEFAULT_COOLING_FACTOR_INCREMENTAL","gridUpdateAllowed","forceToNodeSurroundingUpdate","calcSpringForces","calcRepulsionForces","calcGravitationalForces","moveNodes","animate","getPositionsData","pData","rect","id","getCenterX","y","getCenterY","w","width","h","height","layoutEnded","ANIMATE","emit","nodeList","graph","graphs","getGraphs","updateConnected","isConnected","concat","edges","getAllEdges","visited","edge","getSource","getTarget","getBendpoints","push","createDummyNodesForBendpoints","add","edgeList","getEdgeListToNode","k","multiEdge","forEach","currentStartingPoint","numberOfColumns","currentY","currentX","point","tree","centerNode","findCenterOfTree","radialLayout","floor","transform","WORLD_CENTER_X","WORLD_CENTER_Y","startingPoint","radialSep","maxDiagonalInTree","branchRadialLayout","bounds","calculateBounds","setDeviceOrgX","getMinX","setDeviceOrgY","getMinY","setWorldOrgX","setWorldOrgY","bottomRight","getMaxX","getMaxY","inverseTransformPoint","parentOfNode","startAngle","endAngle","distance","radialSeparation","halfInterval","nodeAngle","teta","TWO_PI","cos_teta","cos","x_","y_","sin","setCenter","neighborEdges","getEdges","childCount","branchCount","incEdgesCount","startIndex","getEdgesBetween","temp","splice","index","indexOf","stepAngle","currentNeighbor","getOtherEnd","childStartAngle","childEndAngle","maxDiagonal","MIN_VALUE","diagonal","getDiagonal","calcRepulsionRange","groupZeroDegreeMembers","self","tempMemberGroups","memberGroups","idToDummyNode","zeroDegree","getParent","getNodeDegreeWithChildren","undefined","getToBeTiled","p_id","keys","dummyCompoundId","dummyCompound","paddingLeft","paddingRight","paddingBottom","paddingTop","dummyParentGraph","getGraphManager","parentGraph","remove","clearCompounds","childGraphMap","idToNode","performDFSOnCompounds","compoundOrder","resetAllNodes","tileCompoundMembers","clearZeroDegreeMembers","tiledZeroDegreePack","compoundNode","tileNodes","repopulateCompounds","lCompoundNode","horizontalMargin","verticalMargin","adjustLocations","tiledMemberPack","repopulateZeroDegreeMembers","tiledPack","childGraph","children","theChild","getNodeDegree","degree","fillCompexOrderByDFS","organization","compoundHorizontalMargin","compoundVerticalMargin","left","rows","row","maxHeight","j","lnode","horizontalPadding","verticalPadding","minWidth","rowWidth","rowHeight","sort","n1","n2","lNode","insertNodeToRow","canAddHorizontal","getShortestRowIndex","shiftToLastRow","rowIndex","minCompoundSize","secondDimension","extraHeight","r","min","Number","MAX_VALUE","getLongestRowIndex","extraWidth","sri","hDiff","add_to_row_ratio","add_new_row_ratio","longest","last","diff","instance","prevTotal","finalTotal","tilingPreLayout","tilingPostLayout","containsLeaf","prunedNodesInStepTemp","isInterGraph","getOwner","prunedNodesInStep","lengthOfPrunedNodesInStep","nodeData","findPlaceforPrunedNode","gridForPrunedNode","nodeToConnect","prunedNode","startGridX","startX","finishGridX","finishX","startGridY","startY","finishGridY","finishY","upNodeCount","downNodeCount","rightNodeCount","leftNodeCount","controlRegions","grid","minCount","minIndex","random","getHeight","getWidth","coseBase","layoutBase","DimensionD","defaults","ready","stop","quality","nodeDimensionsIncludeLabels","refresh","fit","padding","randomize","nodeRepulsion","edgeElasticity","nestingFactor","gravity","numIter","tile","animationDuration","tilingPaddingVertical","tilingPaddingHorizontal","gravityRangeCompound","gravityCompound","gravityRange","initialEnergyOnIncremental","extend","options","obj","_CoSELayout","_options","getUserOptions","PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR","MAX_ITERATIONS","QUALITY","NODE_DIMENSIONS_INCLUDE_LABELS","DEFAULT_INCREMENTAL","run","frameId","idToLNode","stopped","cy","trigger","type","eles","addRoot","processChildrenList","getTopMostNodes","sourceNode","data","targetNode","e1","getPositions","ele","theId","getRect","iterateAnimated","afterReposition","one","ticksPerFrame","isDone","checkLayoutSuccess","doPostLayout","isLayoutFinished","positions","cancelAnimationFrame","animationData","isParent","pNode","position","requestAnimationFrame","addListener","runLayout","not","layoutPositions","nodesMap","roots","children_of_children","theNode","dimensions","layoutDimensions","outerWidth","outerHeight","parseFloat","parseInt","css","labelWidth","boundingBox","includeLabels","includeNodes","labelHeight","labelPos","isNaN","theNewGraph","register","cytoscape","__webpack_require__","DEFAULT_ANIMATION_ON_LAYOUT","DEFAULT_ANIMATION_DURING_LAYOUT","DEFAULT_ANIMATION_PERIOD","DEFAULT_UNIFORM_LEAF_NODE_SIZES","DEFAULT_GRAPH_MARGIN","SIMPLE_NODE_SIZE","SIMPLE_NODE_HALF_SIZE","EMPTY_COMPOUND_NODE_SIZE","MIN_EDGE_LENGTH","WORLD_BOUNDARY","INITIAL_WORLD_BOUNDARY","LGraphObject","LEdge","isOverlapingSourceAndTarget","vGraphObject","bendpoints","getLength","getLca","lca","getSourceInLca","sourceInLca","getTargetInLca","targetInLca","getOtherEndInGraph","otherEnd","updateLength","clipPointCoordinates","Array","getIntersection","lengthX","lengthY","updateLengthSimple","RectangleD","RandomSeed","LNode","estimatedSize","inclusionTreeDepth","owner","setWidth","setHeight","getCenter","getLocation","getHalfTheDiagonal","setRect","upperLeft","dimension","cx","setLocation","dx","dy","to","other","getNeighborsList","neighbors","withChildren","withNeighborsList","childNode","getNoOfChildren","getEstimatedSize","scatter","randomCenterX","randomCenterY","minX","maxX","nextDouble","minY","maxY","getLeft","getTop","getRight","getBottom","getInclusionTreeDepth","trans","top","leftTop","vLeftTop","getX","getY","setX","setY","getDifference","pt","getCopy","translate","dim","LinkedList","obj2","margin","right","bottom","obj1","edgesToBeRemoved","slice","sourceIndex","targetIndex","updateLeftTop","nodeTop","nodeLeft","recursive","nodeRight","nodeBottom","boundingRect","queue","currentNode","childrenOfNode","shift","neighborEdge","childrenOfNeighbor","noOfVisitedInThisGraph","visitedNode","ngraph","nnode","setRootGraph","rootGraph","parentNode","sourceGraph","targetGraph","lObj","nodesToBeRemoved","allEdges","allNodesToApplyGravitation","getAllNodesToApplyGravitation","isOneAncestorOfOther","firstNode","secondNode","ownerGraph","sourceAncestorGraph","targetAncestorGraph","calcLowestCommonAncestor","firstOwnerGraph","secondOwnerGraph","depth","includesInvalidEdge","DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION","COOLING_ADAPTATION_FACTOR","ADAPTATION_LOWER_NODE_LIMIT","ADAPTATION_UPPER_NODE_LIMIT","MAX_NODE_DISPLACEMENT_INCREMENTAL","MAX_NODE_DISPLACEMENT","MIN_REPULSION_DIST","GRID_CALCULATION_CHECK_PERIOD","calcSeparationAmount","rectA","rectB","overlapAmount","separationBuffer","intersects","directions","decideDirectionsForOverlappingNodes","slope","moveByY","moveByX","getIntersection2","result","p1x","p1y","p2x","p2y","topLeftAx","topLeftAy","topRightAx","bottomLeftAx","bottomLeftAy","bottomRightAx","halfWidthA","getWidthHalf","halfHeightA","getHeightHalf","topLeftBx","topLeftBy","topRightBx","bottomLeftBx","bottomLeftBy","bottomRightBx","halfWidthB","halfHeightB","clipPointAFound","clipPointBFound","slopeA","slopeB","slopePrime","cardinalDirectionA","cardinalDirectionB","tempPointAx","tempPointAy","tempPointBx","tempPointBy","getCardinalDirection","line","s1","s2","f1","f2","x1","y1","x2","y2","x3","y3","x4","y4","a1","a2","b1","b2","c1","c2","denom","angleOfVector","Cx","Cy","Nx","Ny","C_angle","atan","PI","ONE_AND_HALF_PI","HALF_PI","doIntersect","p1","p2","p3","p4","a","b","q","det","lambda","gamma","THREE_PI","_createClass","defineProperties","props","descriptor","writable","key","Constructor","protoProps","staticProps","_classCallCheck","TypeError","nodeFrom","prev","list","head","tail","_remove","vals","_this","v","insertBefore","val","otherNode","insertAfter","insertNodeBefore","insertNodeAfter","unshift","pop","popNode","shiftNode","get_object_at","current","set_object_at","constructor","equals","toString","_typeof","Symbol","iterator","UniqueIDGeneretor","lastID","createID","isPrimitive","uniqueID","getString","arg","_toConsumableArray","arr","isArray","arr2","from","Emitter","isRemoteUse","animationOnLayout","animationDuringLayout","uniformLeafNodeSizes","edgeToDummyNodes","Map","RANDOM_SEED","isLayoutSuccessfull","update","update2","createBendpointsFromDummyNodes","newLeftTop","flatForest","isForest","isFlat","toBeVisited","parents","unProcessedNodes","set","dummyNodes","dummyNode","Dimension","dummyEdge","lEdge","path","ebp","sliderValue","defaultValue","minDiv","maxMul","minValue","maxValue","removedNodes","remainingDegrees","foundCenter","tempList","tempList2","neighbours","neighbour","otherDegree","newDegree","setGraphManager","seed","lworldOrgX","lworldOrgY","ldeviceOrgX","ldeviceOrgY","lworldExtX","lworldExtY","ldeviceExtX","ldeviceExtY","getWorldOrgX","wox","getWorldOrgY","woy","getWorldExtX","setWorldExtX","wex","getWorldExtY","setWorldExtY","wey","getDeviceOrgX","dox","getDeviceOrgY","doy","getDeviceExtX","setDeviceExtX","dex","getDeviceExtY","setDeviceExtY","dey","transformX","xDevice","worldExtX","transformY","yDevice","worldExtY","inverseTransformX","xWorld","deviceExtX","inverseTransformY","yWorld","deviceExtY","inPoint","outPoint","displacementThresholdPerNode","oldTotalDisplacement","notAnimatedIterations","useFRGridVariant","lcaDepth","sizeOfSourceInLca","sizeOfTargetInLca","idealLength","totalDisplacementThreshold","repulsionRange","lEdges","calcSpringForce","nodeA","nodeB","lNodes","processedNodeSet","calculateRepulsionForceOfANode","calcRepulsionForce","calcGravitationalForce","springForce","clipPoints","distanceX","distanceY","distanceSquared","repulsionForce","childrenConstant","ownerCenterX","ownerCenterY","absDistanceX","absDistanceY","converged","oscilating","calcGrid","sizeX","sizeY","addNodeToGrid","setGridCoordinates","surrounding","_startX","_finishX","_startY","_finishY","HashMap","map","put","contains","keySet","HashSet","clear","isEmpty","addAllTo","addAll","Quicksort","A","compareFunction","_defaultCompareFunction","_quicksort","_partition","_get","_swap","_set","NeedlemanWunsch","sequence1","sequence2","match_score","mismatch_penalty","gap_penalty","iMax","jMax","tracebackGrid","_i","_j","alignments","score","computeGrids","getScore","getAlignments","_i2","_j2","diag","up","maxOf","indices","arrayAllMaxIndexes","includes","alignmentTraceback","inProcessAlignments","pos","seq1","seq2","getAllIndexes","indexes","array","apply","listeners","event","callback","removeListener","parser","o2","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","parser2","trace","yy","symbols_","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","getLogger","info","addNode","descr","decorateNode","icon","class","$","getType","nodeType","DEFAULT","table","defaultActions","parseError","str","hash","recoverable","error","Error","parse","input","stack","tstack","vstack","lstack","recovering","TERROR","EOF","args","lexer2","lexer","sharedState","setInput","yylloc","yyloc","ranges","getPrototypeOf","popStack","lex","token","symbol","preErrorSymbol","state","action","yyval","len","newState","expected","errStr","showPosition","join","text","match","first_line","last_line","first_column","last_column","range","_input","_more","_backtrack","done","matched","conditionStack","offset","ch","lines","unput","split","substr","oldLines","more","reject","backtrack_lexer","less","pastInput","past","replace","upcomingInput","pre","test_match","indexed_rule","backup","matches","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","YYSTATE","Parser","mindmap_default","NO_BORDER","ROUNDED_RECT","RECT","CIRCLE","CLOUD","BANG","HEXAGON","MindmapDB","count","elements","bind","getMindmap","getElementById","conf","mindmap","nodeId","maxNodeWidth","startStr","endStr","debug","setElementForId","element","decoration","config","type2Str","MAX_SECTIONS","defaultBkg","db","elem","section","rd","append","attr","rectBkg","cloudBkg","r1","r2","r3","r4","bangBkg","circleBkg","insertPolygonShape","points","insert","hexagonBkg","_db","f","roundedRectBkg","drawNode","async","fullSection","htmlLabels","nodeElem","sectionClass","bkgElem","textElem","description","useHtmlLabels","classes","bbox","getBBox","fontSize","orgHeight","heightDiff","positionNode","use","drawNodes","svg","Promise","all","drawEdges","edgesEl","_private","bodyBounds","rscratch","midX","midY","endX","endY","addNodes","group","labelText","layoutMindmap","resolve","renderEl","container","document","style","selector","styleEnabled","e","positionNodes","el","draw","_version","diagObj","mm","edgesElem","nodesElem","useMaxWidth","mindmapRenderer_default","genSections","sections","THEME_COLOR_LIMIT","sw","getStyles","git0","gitBranchLabel0","styles_default","diagram","renderer","styles"],"sourceRoot":""}